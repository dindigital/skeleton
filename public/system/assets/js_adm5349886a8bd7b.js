(function(){var v=0,q=[],o={},s={},A={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},p=/[<>&\"\']/g,z,y=window.setTimeout,x={},w;function t(){this.returnValue=false}function r(){this.cancelBubble=true}(function(e){var d=e.split(/,/),c,a,b;for(c=0;c<d.length;c+=2){b=d[c+1].split(/ /);for(a=0;a<b.length;a++){s[b[a]]=d[c]}}})("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe");var u={VERSION:"1.5.4",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:s,ua:(function(){var b=navigator,c=b.userAgent,a=b.vendor,e,f,d;e=/WebKit/.test(c);d=e&&a.indexOf("Apple")!==-1;f=window.opera&&window.opera.buildNumber;return{windows:navigator.platform.indexOf("Win")!==-1,ie:!e&&!f&&(/MSIE/gi).test(c)&&(/Explorer/gi).test(b.appName),webkit:e,gecko:!e&&/Gecko/.test(c),safari:d,opera:!!f}}()),typeOf:function(a){return({}).toString.call(a).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(a){u.each(arguments,function(c,b){if(b>0){u.each(c,function(d,e){a[e]=d})}});return a},cleanName:function(c){var b,a;a=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(b=0;b<a.length;b+=2){c=c.replace(a[b],a[b+1])}c=c.replace(/\s+/g,"_");c=c.replace(/[^a-z0-9_\-\.]+/gi,"");return c},addRuntime:function(b,a){a.name=b;q[b]=a;q.push(a);return a},guid:function(){var b=new Date().getTime().toString(32),a;for(a=0;a<5;a++){b+=Math.floor(Math.random()*65535).toString(32)}return(u.guidPrefix||"p")+b+(v++).toString(32)},buildUrl:function(b,c){var a="";u.each(c,function(d,e){a+=(a?"&":"")+encodeURIComponent(e)+"="+encodeURIComponent(d)});if(a){b+=(b.indexOf("?")>0?"&":"?")+a}return b},each:function(b,a){var c,d,e;if(b){c=b.length;if(c===z){for(d in b){if(b.hasOwnProperty(d)){if(a(b[d],d)===false){return}}}}else{for(e=0;e<c;e++){if(a(b[e],e)===false){return}}}}},formatSize:function(a){if(a===z||/\D/.test(a)){return u.translate("N/A")}if(a>1073741824){return Math.round(a/1073741824,1)+" GB"}if(a>1048576){return Math.round(a/1048576,1)+" MB"}if(a>1024){return Math.round(a/1024,1)+" KB"}return a+" b"},getPos:function(c,h){var g=0,j=0,e,f=document,b,a;c=c;h=h||f.body;function d(n){var k,E,m=0,l=0;if(n){E=n.getBoundingClientRect();k=f.compatMode==="CSS1Compat"?f.documentElement:f.body;m=E.left+k.scrollLeft;l=E.top+k.scrollTop}return{x:m,y:l}}if(c&&c.getBoundingClientRect&&((navigator.userAgent.indexOf("MSIE")>0)&&(f.documentMode<8))){b=d(c);a=d(h);return{x:b.x-a.x,y:b.y-a.y}}e=c;while(e&&e!=h&&e.nodeType){g+=e.offsetLeft||0;j+=e.offsetTop||0;e=e.offsetParent}e=c.parentNode;while(e&&e!=h&&e.nodeType){g-=e.scrollLeft||0;j-=e.scrollTop||0;e=e.parentNode}return{x:g,y:j}},getSize:function(a){return{w:a.offsetWidth||a.clientWidth,h:a.offsetHeight||a.clientHeight}},parseSize:function(b){var a;if(typeof(b)=="string"){b=/^([0-9]+)([mgk]?)$/.exec(b.toLowerCase().replace(/[^0-9mkg]/g,""));a=b[2];b=+b[1];if(a=="g"){b*=1073741824}if(a=="m"){b*=1048576}if(a=="k"){b*=1024}}return b},xmlEncode:function(a){return a?(""+a).replace(p,function(b){return A[b]?"&"+A[b]+";":b}):a},toArray:function(a){var b,c=[];for(b=0;b<a.length;b++){c[b]=a[b]}return c},inArray:function(b,a){if(a){if(Array.prototype.indexOf){return Array.prototype.indexOf.call(a,b)}for(var d=0,c=a.length;d<c;d++){if(a[d]===b){return d}}}return -1},addI18n:function(a){return u.extend(o,a)},translate:function(a){return o[a]||a},isEmptyObj:function(b){if(b===z){return true}for(var a in b){return false}return true},hasClass:function(a,b){var c;if(a.className==""){return false}c=new RegExp("(^|\\s+)"+b+"(\\s+|$)");return c.test(a.className)},addClass:function(a,b){if(!u.hasClass(a,b)){a.className=a.className==""?b:a.className.replace(/\s+$/,"")+" "+b}},removeClass:function(a,b){var c=new RegExp("(^|\\s+)"+b+"(\\s+|$)");a.className=a.className.replace(c,function(e,f,d){return f===" "&&d===" "?" ":""})},getStyle:function(a,b){if(a.currentStyle){return a.currentStyle[b]}else{if(window.getComputedStyle){return window.getComputedStyle(a,null)[b]}}},addEvent:function(b,g,a){var c,d,e,f;f=arguments[3];g=g.toLowerCase();if(w===z){w="Plupload_"+u.guid()}if(b.addEventListener){c=a;b.addEventListener(g,c,false)}else{if(b.attachEvent){c=function(){var h=window.event;if(!h.target){h.target=h.srcElement}h.preventDefault=t;h.stopPropagation=r;a(h)};b.attachEvent("on"+g,c)}}if(b[w]===z){b[w]=u.guid()}if(!x.hasOwnProperty(b[w])){x[b[w]]={}}d=x[b[w]];if(!d.hasOwnProperty(g)){d[g]=[]}d[g].push({func:c,orig:a,key:f})},removeEvent:function(b,g){var d,a,e;if(typeof(arguments[2])=="function"){a=arguments[2]}else{e=arguments[2]}g=g.toLowerCase();if(b[w]&&x[b[w]]&&x[b[w]][g]){d=x[b[w]][g]}else{return}for(var f=d.length-1;f>=0;f--){if(d[f].key===e||d[f].orig===a){if(b.removeEventListener){b.removeEventListener(g,d[f].func,false)}else{if(b.detachEvent){b.detachEvent("on"+g,d[f].func)}}d[f].orig=null;d[f].func=null;d.splice(f,1);if(a!==z){break}}}if(!d.length){delete x[b[w]][g]}if(u.isEmptyObj(x[b[w]])){delete x[b[w]];try{delete b[w]}catch(c){b[w]=z}}},removeAllEvents:function(a){var b=arguments[1];if(a[w]===z||!a[w]){return}u.each(x[a[w]],function(c,d){u.removeEvent(a,d,b)})}};u.Uploader=function(d){var g={},a,b=[],e,f=false;a=new u.QueueProgress();d=u.extend({chunk_size:0,multipart:true,multi_selection:true,file_data_name:"file",filters:[]},d);function c(){var j,l=0,k;if(this.state==u.STARTED){for(k=0;k<b.length;k++){if(!j&&b[k].status==u.QUEUED){j=b[k];j.status=u.UPLOADING;if(this.trigger("BeforeUpload",j)){this.trigger("UploadFile",j)}}else{l++}}if(l==b.length){this.stop();this.trigger("UploadComplete",b)}}}function h(){var j,k;a.reset();for(j=0;j<b.length;j++){k=b[j];if(k.size!==z){a.size+=k.size;a.loaded+=k.loaded}else{a.size=z}if(k.status==u.DONE){a.uploaded++}else{if(k.status==u.FAILED){a.failed++}else{a.queued++}}}if(a.size===z){a.percent=b.length>0?Math.ceil(a.uploaded/b.length*100):0}else{a.bytesPerSec=Math.ceil(a.loaded/((+new Date()-e||1)/1000));a.percent=a.size>0?Math.ceil(a.loaded/a.size*100):0}}u.extend(this,{state:u.STOPPED,runtime:"",features:{},files:b,settings:d,total:a,id:u.guid(),init:function(){var E=this,n,D,k,j=0,m;if(typeof(d.preinit)=="function"){d.preinit(E)}else{u.each(d.preinit,function(B,C){E.bind(C,B)})}d.page_url=d.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/");if(!/^(\w+:\/\/|\/)/.test(d.url)){d.url=d.page_url+d.url}d.chunk_size=u.parseSize(d.chunk_size);d.max_file_size=u.parseSize(d.max_file_size);E.bind("FilesAdded",function(O,L){var M,N,C=0,B,K=d.filters;if(K&&K.length){B=[];u.each(K,function(F){u.each(F.extensions.split(/,/),function(G){if(/^\s*\*\s*$/.test(G)){B.push("\\.*")}else{B.push("\\."+G.replace(new RegExp("["+("/^$.*+?|()[]{}\\".replace(/./g,"\\$&"))+"]","g"),"\\$&"))}})});B=new RegExp(B.join("|")+"$","i")}for(M=0;M<L.length;M++){N=L[M];N.loaded=0;N.percent=0;N.status=u.QUEUED;if(B&&!B.test(N.name)){O.trigger("Error",{code:u.FILE_EXTENSION_ERROR,message:u.translate("File extension error."),file:N});continue}if(N.size!==z&&N.size>d.max_file_size){O.trigger("Error",{code:u.FILE_SIZE_ERROR,message:u.translate("File size error."),file:N});continue}b.push(N);C++}if(C){y(function(){E.trigger("QueueChanged");E.refresh()},1)}else{return false}});if(d.unique_names){E.bind("UploadFile",function(I,H){var B=H.name.match(/\.([^.]+)$/),C="tmp";if(B){C=B[1]}H.target_name=H.id+"."+C})}E.bind("UploadProgress",function(C,B){B.percent=B.size>0?Math.ceil(B.loaded/B.size*100):100;h()});E.bind("StateChanged",function(B){if(B.state==u.STARTED){e=(+new Date())}else{if(B.state==u.STOPPED){for(n=B.files.length-1;n>=0;n--){if(B.files[n].status==u.UPLOADING){B.files[n].status=u.QUEUED;h()}}}}});E.bind("QueueChanged",h);E.bind("Error",function(C,B){if(B.file){B.file.status=u.FAILED;h();if(C.state==u.STARTED){y(function(){c.call(E)},1)}}});E.bind("FileUploaded",function(C,B){B.status=u.DONE;B.loaded=B.size;C.trigger("UploadProgress",B);y(function(){c.call(E)},1)});if(d.runtimes){D=[];m=d.runtimes.split(/\s?,\s?/);for(n=0;n<m.length;n++){if(q[m[n]]){D.push(q[m[n]])}}}else{D=q}function l(){var B=D[j++],C,I,H;if(B){C=B.getFeatures();I=E.settings.required_features;if(I){I=I.split(",");for(H=0;H<I.length;H++){if(!C[I[H]]){l();return}}}B.init(E,function(F){if(F&&F.success){E.features=C;E.runtime=B.name;E.trigger("Init",{runtime:B.name});E.trigger("PostInit");E.refresh()}else{l()}})}else{E.trigger("Error",{code:u.INIT_ERROR,message:u.translate("Init error.")})}}l();if(typeof(d.init)=="function"){d.init(E)}else{u.each(d.init,function(B,C){E.bind(C,B)})}},refresh:function(){this.trigger("Refresh")},start:function(){if(b.length&&this.state!=u.STARTED){this.state=u.STARTED;this.trigger("StateChanged");c.call(this)}},stop:function(){if(this.state!=u.STOPPED){this.state=u.STOPPED;this.trigger("CancelUpload");this.trigger("StateChanged")}},disableBrowse:function(){f=arguments[0]!==z?arguments[0]:true;this.trigger("DisableBrowse",f)},getFile:function(j){var k;for(k=b.length-1;k>=0;k--){if(b[k].id===j){return b[k]}}},removeFile:function(j){var k;for(k=b.length-1;k>=0;k--){if(b[k].id===j.id){return this.splice(k,1)[0]}}},splice:function(l,k){var j;j=b.splice(l===z?0:l,k===z?b.length:k);this.trigger("FilesRemoved",j);this.trigger("QueueChanged");return j},trigger:function(j){var l=g[j.toLowerCase()],m,k;if(l){k=Array.prototype.slice.call(arguments);k[0]=this;for(m=0;m<l.length;m++){if(l[m].func.apply(l[m].scope,k)===false){return false}}}return true},hasEventListener:function(j){return !!g[j.toLowerCase()]},bind:function(k,m,j){var l;k=k.toLowerCase();l=g[k]||[];l.push({func:m,scope:j||this});g[k]=l},unbind:function(k){k=k.toLowerCase();var l=g[k],j,m=arguments[1];if(l){if(m!==z){for(j=l.length-1;j>=0;j--){if(l[j].func===m){l.splice(j,1);break}}}else{l=[]}if(!l.length){delete g[k]}}},unbindAll:function(){var j=this;u.each(g,function(l,k){j.unbind(k)})},destroy:function(){this.stop();this.trigger("Destroy");this.unbindAll()}})};u.File=function(a,c,b){var d=this;d.id=a;d.name=c;d.size=b;d.loaded=0;d.percent=0;d.status=0};u.Runtime=function(){this.getFeatures=function(){};this.init=function(b,a){}};u.QueueProgress=function(){var a=this;a.size=0;a.loaded=0;a.uploaded=0;a.failed=0;a.queued=0;a.percent=0;a.bytesPerSec=0;a.reset=function(){a.size=a.loaded=a.uploaded=a.failed=a.queued=a.percent=a.bytesPerSec=0}};u.runtimes={};window.plupload=u})();(function(){if(window.google&&google.gears){return}var d=null;if(typeof GearsFactory!="undefined"){d=new GearsFactory()}else{try{d=new ActiveXObject("Gears.Factory");if(d.getBuildInfo().indexOf("ie_mobile")!=-1){d.privateSetGlobalObject(this)}}catch(c){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){d=document.createElement("object");d.style.display="none";d.width=0;d.height=0;d.type="application/x-googlegears";document.documentElement.appendChild(d)}}}if(!d){return}if(!window.google){window.google={}}if(!google.gears){google.gears={factory:d}}})();(function(k,g,m,l){var j={};function h(e,c,a){var f,d,b,p;d=google.gears.factory.create("beta.canvas");try{d.decode(e);if(!c.width){c.width=d.width}if(!c.height){c.height=d.height}p=Math.min(width/d.width,height/d.height);if(p<1||(p===1&&a==="image/jpeg")){d.resize(Math.round(d.width*p),Math.round(d.height*p));if(c.quality){return d.encode(a,{quality:c.quality/100})}return d.encode(a)}}catch(q){}return e}m.runtimes.Gears=m.addRuntime("gears",{getFeatures:function(){return{dragdrop:true,jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(b,o){var a,e,f=false;if(!k.google||!google.gears){return o({success:false})}try{a=google.gears.factory.create("beta.desktop")}catch(c){return o({success:false})}function d(u){var v,w,t=[],n;for(w=0;w<u.length;w++){v=u[w];n=m.guid();j[n]=v.blob;t.push(new m.File(n,v.name,v.blob.length))}b.trigger("FilesAdded",t)}b.bind("PostInit",function(){var n=b.settings,q=g.getElementById(n.drop_element);if(q){m.addEvent(q,"dragover",function(p){a.setDropEffect(p,"copy");p.preventDefault()},b.id);m.addEvent(q,"drop",function(p){var s=a.getDragData(p,"application/x-gears-files");if(s){d(s.files)}p.preventDefault()},b.id);q=0}m.addEvent(g.getElementById(n.browse_button),"click",function(p){var v=[],x,y,w;p.preventDefault();if(f){return}no_type_restriction:for(x=0;x<n.filters.length;x++){w=n.filters[x].extensions.split(",");for(y=0;y<w.length;y++){if(w[y]==="*"){v=[];break no_type_restriction}v.push("."+w[y])}}a.openFiles(d,{singleFile:!n.multi_selection,filter:v})},b.id)});b.bind("CancelUpload",function(){if(e.abort){e.abort()}});b.bind("UploadFile",function(C,n){var A=0,B,E,D=0,x=C.settings.resize,z;if(x&&/\.(png|jpg|jpeg)$/i.test(n.name)){j[n.id]=h(j[n.id],x,/\.png$/i.test(n.name)?"image/png":"image/jpeg")}n.size=j[n.id].length;E=C.settings.chunk_size;z=E>0;B=Math.ceil(n.size/E);if(!z){E=n.size;B=1}function y(){var s,u=C.settings.multipart,q=0,t={name:n.target_name||n.name},r=C.settings.url;function p(N){var O,v="----pluploadboundary"+m.guid(),L="--",w="\r\n",M,K;if(u){e.setRequestHeader("Content-Type","multipart/form-data; boundary="+v);O=google.gears.factory.create("beta.blobbuilder");m.each(m.extend(t,C.settings.multipart_params),function(F,G){O.append(L+v+w+'Content-Disposition: form-data; name="'+G+'"'+w+w);O.append(F+w)});K=m.mimeTypes[n.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";O.append(L+v+w+'Content-Disposition: form-data; name="'+C.settings.file_data_name+'"; filename="'+n.name+'"'+w+"Content-Type: "+K+w+w);O.append(N);O.append(w+L+v+L+w);M=O.getAsBlob();q=M.length-N.length;N=M}e.send(N)}if(n.status==m.DONE||n.status==m.FAILED||C.state==m.STOPPED){return}if(z){t.chunk=A;t.chunks=B}s=Math.min(E,n.size-(A*E));if(!u){r=m.buildUrl(C.settings.url,t)}e=google.gears.factory.create("beta.httprequest");e.open("POST",r);if(!u){e.setRequestHeader("Content-Disposition",'attachment; filename="'+n.name+'"');e.setRequestHeader("Content-Type","application/octet-stream")}m.each(C.settings.headers,function(v,w){e.setRequestHeader(w,v)});e.upload.onprogress=function(v){n.loaded=D+v.loaded-q;C.trigger("UploadProgress",n)};e.onreadystatechange=function(){var v;if(e.readyState==4&&C.state!==m.STOPPED){if(e.status==200){v={chunk:A,chunks:B,response:e.responseText,status:e.status};C.trigger("ChunkUploaded",n,v);if(v.cancelled){n.status=m.FAILED;return}D+=s;if(++A>=B){n.status=m.DONE;C.trigger("FileUploaded",n,{response:e.responseText,status:e.status})}else{y()}}else{C.trigger("Error",{code:m.HTTP_ERROR,message:m.translate("HTTP Error."),file:n,chunk:A,chunks:B,status:e.status})}}};if(A<B){p(j[n.id].slice(A*E,s))}}y()});b.bind("DisableBrowse",function(q,n){f=n});b.bind("Destroy",function(u){var t,s,n={browseButton:u.settings.browse_button,dropElm:u.settings.drop_element};for(t in n){s=g.getElementById(n[t]);if(s){m.removeAllEvents(s,u.id)}}});o({success:true})}})})(window,document,plupload);(function(m,j,p,o){var k={},l={};function q(e){var f,a=typeof e,d,b,c;if(e===o||e===null){return"null"}if(a==="string"){f="\bb\tt\nn\ff\rr\"\"''\\\\";return'"'+e.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(g,h){var s=f.indexOf(h);if(s+1){return"\\"+f.charAt(s+1)}g=h.charCodeAt().toString(16);return"\\u"+"0000".substring(g.length)+g})+'"'}if(a=="object"){d=e.length!==o;f="";if(d){for(b=0;b<e.length;b++){if(f){f+=","}f+=q(e[b])}f="["+f+"]"}else{for(c in e){if(e.hasOwnProperty(c)){if(f){f+=","}f+=q(c)+":"+q(e[c])}}f="{"+f+"}"}return f}return""+e}function n(A){var x=false,w=null,d=null,h,g,f,y,e,b=0;try{try{d=new ActiveXObject("AgControl.AgControl");if(d.IsVersionSupported(A)){x=true}d=null}catch(a){var c=navigator.plugins["Silverlight Plug-In"];if(c){h=c.description;if(h==="1.0.30226.2"){h="2.0.30226.2"}g=h.split(".");while(g.length>3){g.pop()}while(g.length<4){g.push(0)}f=A.split(".");while(f.length>4){f.pop()}do{y=parseInt(f[b],10);e=parseInt(g[b],10);b++}while(b<f.length&&y===e);if(y<=e&&!isNaN(y)){x=true}}}}catch(z){x=false}return x}p.silverlight={trigger:function(e,c){var a=k[e],b,d;if(a){d=p.toArray(arguments).slice(1);d[0]="Silverlight:"+c;setTimeout(function(){a.trigger.apply(a,d)},0)}}};p.runtimes.Silverlight=p.addRuntime("silverlight",{getFeatures:function(){return{jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(f,e){var g,a="",h=f.settings.filters,b,c=j.body;if(!n("2.0.31005.0")||(m.opera&&m.opera.buildNumber)){e({success:false});return}l[f.id]=false;k[f.id]=f;g=j.createElement("div");g.id=f.id+"_silverlight_container";p.extend(g.style,{position:"absolute",top:"0px",background:f.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100px",height:"100px",overflow:"hidden",opacity:f.settings.shim_bgcolor||j.documentMode>8?"":0.01});g.className="plupload silverlight";if(f.settings.container){c=j.getElementById(f.settings.container);if(p.getStyle(c,"position")==="static"){c.style.position="relative"}}c.appendChild(g);for(b=0;b<h.length;b++){a+=(a!=""?"|":"")+h[b].title+" | *."+h[b].extensions.replace(/,/g,";*.")}g.innerHTML='<object id="'+f.id+'_silverlight" data="data:application/x-silverlight," type="application/x-silverlight-2" style="outline:none;" width="1024" height="1024"><param name="source" value="'+f.settings.silverlight_xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="id='+f.id+",filter="+a+",multiselect="+f.settings.multi_selection+'"/></object>';function d(){return j.getElementById(f.id+"_silverlight").content.Upload}f.bind("Silverlight:Init",function(){var u,t={};if(l[f.id]){return}l[f.id]=true;f.bind("Silverlight:StartSelectFiles",function(r){u=[]});f.bind("Silverlight:SelectFile",function(A,s,z,y){var r;r=p.guid();t[r]=s;t[s]=r;u.push(new p.File(r,z,y))});f.bind("Silverlight:SelectSuccessful",function(){if(u.length){f.trigger("FilesAdded",u)}});f.bind("Silverlight:UploadChunkError",function(A,s,z,r,y){f.trigger("Error",{code:p.IO_ERROR,message:"IO Error.",details:y,file:A.getFile(t[s])})});f.bind("Silverlight:UploadFileProgress",function(A,r,z,s){var y=A.getFile(t[r]);if(y.status!=p.FAILED){y.size=s;y.loaded=z;A.trigger("UploadProgress",y)}});f.bind("Refresh",function(y){var x,s,r;x=j.getElementById(y.settings.browse_button);if(x){s=p.getPos(x,j.getElementById(y.settings.container));r=p.getSize(x);p.extend(j.getElementById(y.id+"_silverlight_container").style,{top:s.y+"px",left:s.x+"px",width:r.w+"px",height:r.h+"px"})}});f.bind("Silverlight:UploadChunkSuccessful",function(C,s,B,D,E){var r,A=C.getFile(t[s]);r={chunk:B,chunks:D,response:E};C.trigger("ChunkUploaded",A,r);if(A.status!=p.FAILED&&C.state!==p.STOPPED){d().UploadNextChunk()}if(B==D-1){A.status=p.DONE;C.trigger("FileUploaded",A,{response:E})}});f.bind("Silverlight:UploadSuccessful",function(y,r,x){var s=y.getFile(t[r]);s.status=p.DONE;y.trigger("FileUploaded",s,{response:x})});f.bind("FilesRemoved",function(w,r){var s;for(s=0;s<r.length;s++){d().RemoveFile(t[r[s].id])}});f.bind("UploadFile",function(y,s){var r=y.settings,x=r.resize||{};d().UploadFile(t[s.id],y.settings.url,q({name:s.target_name||s.name,mime:p.mimeTypes[s.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:r.chunk_size,image_width:x.width,image_height:x.height,image_quality:x.quality||90,multipart:!!r.multipart,multipart_params:r.multipart_params||{},file_data_name:r.file_data_name,headers:r.headers}))});f.bind("CancelUpload",function(){d().CancelUpload()});f.bind("Silverlight:MouseEnter",function(w){var s,r;s=j.getElementById(f.settings.browse_button);r=w.settings.browse_button_hover;if(s&&r){p.addClass(s,r)}});f.bind("Silverlight:MouseLeave",function(w){var s,r;s=j.getElementById(f.settings.browse_button);r=w.settings.browse_button_hover;if(s&&r){p.removeClass(s,r)}});f.bind("Silverlight:MouseLeftButtonDown",function(w){var s,r;s=j.getElementById(f.settings.browse_button);r=w.settings.browse_button_active;if(s&&r){p.addClass(s,r);p.addEvent(j.body,"mouseup",function(){p.removeClass(s,r)})}});f.bind("Sliverlight:StartSelectFiles",function(w){var s,r;s=j.getElementById(f.settings.browse_button);r=w.settings.browse_button_active;if(s&&r){p.removeClass(s,r)}});f.bind("DisableBrowse",function(s,r){d().DisableBrowse(r)});f.bind("Destroy",function(s){var r;p.removeAllEvents(j.body,s.id);delete l[s.id];delete k[s.id];r=j.getElementById(s.id+"_silverlight_container");if(r){c.removeChild(r)}});e({success:true})})}})})(window,document,plupload);(function(l,h,n,m){var j={},k={};function o(){var c;try{c=navigator.plugins["Shockwave Flash"];c=c.description}catch(a){try{c=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(b){c="0.0"}}c=c.match(/\d+/g);return parseFloat(c[0]+"."+c[1])}n.flash={trigger:function(a,c,b){setTimeout(function(){var f=j[a],d,e;if(f){f.trigger("Flash:"+c,b)}},0)}};n.runtimes.Flash=n.addRuntime("flash",{getFeatures:function(){return{jpgresize:true,pngresize:true,maxWidth:8091,maxHeight:8091,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(q,f){var b,a,e=0,d=h.body;if(o()<10){f({success:false});return}k[q.id]=false;j[q.id]=q;b=h.getElementById(q.settings.browse_button);a=h.createElement("div");a.id=q.id+"_flash_container";n.extend(a.style,{position:"absolute",top:"0px",background:q.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100%",height:"100%"});a.className="plupload flash";if(q.settings.container){d=h.getElementById(q.settings.container);if(n.getStyle(d,"position")==="static"){d.style.position="relative"}}d.appendChild(a);(function(){var s,p;s='<object id="'+q.id+'_flash" type="application/x-shockwave-flash" data="'+q.settings.flash_swf_url+'" ';if(n.ua.ie){s+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '}s+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+q.settings.flash_swf_url+'" /><param name="flashvars" value="id='+escape(q.id)+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>';if(n.ua.ie){p=h.createElement("div");a.appendChild(p);p.outerHTML=s;p=null}else{a.innerHTML=s}}());function g(){return h.getElementById(q.id+"_flash")}function c(){if(e++>5000){f({success:false});return}if(k[q.id]===false){setTimeout(c,1)}}c();b=a=null;q.bind("Destroy",function(s){var p;n.removeAllEvents(h.body,s.id);delete k[s.id];delete j[s.id];p=h.getElementById(s.id+"_flash_container");if(p){d.removeChild(p)}});q.bind("Flash:Init",function(){var p={},t;try{g().setFileFilters(q.settings.filters,q.settings.multi_selection)}catch(u){f({success:false});return}if(k[q.id]){return}k[q.id]=true;q.bind("UploadFile",function(y,s){var r=y.settings,x=q.settings.resize||{};g().uploadFile(p[s.id],r.url,{name:s.target_name||s.name,mime:n.mimeTypes[s.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:r.chunk_size,width:x.width,height:x.height,quality:x.quality,multipart:r.multipart,multipart_params:r.multipart_params||{},file_data_name:r.file_data_name,format:/\.(jpg|jpeg)$/i.test(s.name)?"jpg":"png",headers:r.headers,urlstream_upload:r.urlstream_upload})});q.bind("CancelUpload",function(){g().cancelUpload()});q.bind("Flash:UploadProcess",function(s,w){var r=s.getFile(p[w.id]);if(r.status!=n.FAILED){r.loaded=w.loaded;r.size=w.size;s.trigger("UploadProgress",r)}});q.bind("Flash:UploadChunkComplete",function(y,s){var r,x=y.getFile(p[s.id]);r={chunk:s.chunk,chunks:s.chunks,response:s.text};y.trigger("ChunkUploaded",x,r);if(x.status!==n.FAILED&&y.state!==n.STOPPED){g().uploadNextChunk()}if(s.chunk==s.chunks-1){x.status=n.DONE;y.trigger("FileUploaded",x,{response:s.text})}});q.bind("Flash:SelectFiles",function(B,s){var z,A,r=[],C;for(A=0;A<s.length;A++){z=s[A];C=n.guid();p[C]=z.id;p[z.id]=C;r.push(new n.File(C,z.name,z.size))}if(r.length){q.trigger("FilesAdded",r)}});q.bind("Flash:SecurityError",function(s,r){q.trigger("Error",{code:n.SECURITY_ERROR,message:n.translate("Security error."),details:r.message,file:q.getFile(p[r.id])})});q.bind("Flash:GenericError",function(s,r){q.trigger("Error",{code:n.GENERIC_ERROR,message:n.translate("Generic error."),details:r.message,file:q.getFile(p[r.id])})});q.bind("Flash:IOError",function(s,r){q.trigger("Error",{code:n.IO_ERROR,message:n.translate("IO error."),details:r.message,file:q.getFile(p[r.id])})});q.bind("Flash:ImageError",function(s,r){q.trigger("Error",{code:parseInt(r.code,10),message:n.translate("Image error."),file:q.getFile(p[r.id])})});q.bind("Flash:StageEvent:rollOver",function(w){var s,r;s=h.getElementById(q.settings.browse_button);r=w.settings.browse_button_hover;if(s&&r){n.addClass(s,r)}});q.bind("Flash:StageEvent:rollOut",function(w){var s,r;s=h.getElementById(q.settings.browse_button);r=w.settings.browse_button_hover;if(s&&r){n.removeClass(s,r)}});q.bind("Flash:StageEvent:mouseDown",function(w){var s,r;s=h.getElementById(q.settings.browse_button);r=w.settings.browse_button_active;if(s&&r){n.addClass(s,r);n.addEvent(h.body,"mouseup",function(){n.removeClass(s,r)},w.id)}});q.bind("Flash:StageEvent:mouseUp",function(w){var s,r;s=h.getElementById(q.settings.browse_button);r=w.settings.browse_button_active;if(s&&r){n.removeClass(s,r)}});q.bind("Flash:ExifData",function(s,r){q.trigger("ExifData",q.getFile(p[r.id]),r.data)});q.bind("Flash:GpsData",function(s,r){q.trigger("GpsData",q.getFile(p[r.id]),r.data)});q.bind("QueueChanged",function(r){q.refresh()});q.bind("FilesRemoved",function(w,r){var s;for(s=0;s<r.length;s++){g().removeFile(p[r[s].id])}});q.bind("StateChanged",function(r){q.refresh()});q.bind("Refresh",function(y){var x,s,r;g().setFileFilters(q.settings.filters,q.settings.multi_selection);x=h.getElementById(y.settings.browse_button);if(x){s=n.getPos(x,h.getElementById(y.settings.container));r=n.getSize(x);n.extend(h.getElementById(y.id+"_flash_container").style,{top:s.y+"px",left:s.x+"px",width:r.w+"px",height:r.h+"px"})}});q.bind("DisableBrowse",function(s,r){g().disableBrowse(r)});f({success:true})})}})})(window,document,plupload);(function(b){b.runtimes.BrowserPlus=b.addRuntime("browserplus",{getFeatures:function(){return{dragdrop:true,jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(m,k){var o=window.BrowserPlus,l={},p=m.settings,q=p.resize;function n(g){var h,c,e=[],d,f;for(c=0;c<g.length;c++){d=g[c];f=b.guid();l[f]=d;e.push(new b.File(f,d.name,d.size))}if(c){m.trigger("FilesAdded",e)}}function a(){var c=false;m.bind("PostInit",function(){var j,d=p.drop_element,g=m.id+"_droptarget",e=document.getElementById(d),s;function f(r,u){o.DragAndDrop.AddDropTarget({id:r},function(t){o.DragAndDrop.AttachCallbacks({id:r,hover:function(w){if(!w&&u){u()}},drop:function(w){if(u){u()}n(w)}},function(){})})}function h(){document.getElementById(g).style.top="-1000px"}if(e){if(document.attachEvent&&(/MSIE/gi).test(navigator.userAgent)){j=document.createElement("div");j.setAttribute("id",g);b.extend(j.style,{position:"absolute",top:"-1000px",background:"red",filter:"alpha(opacity=0)",opacity:0});document.body.appendChild(j);b.addEvent(e,"dragenter",function(v){var w,r;w=document.getElementById(d);r=b.getPos(w);b.extend(document.getElementById(g).style,{top:r.y+"px",left:r.x+"px",width:w.offsetWidth+"px",height:w.offsetHeight+"px"})});f(g,h)}else{f(d)}}b.addEvent(document.getElementById(p.browse_button),"click",function(E){var D=[],B,C,r=p.filters,z,A;E.preventDefault();if(c){return}no_type_restriction:for(B=0;B<r.length;B++){z=r[B].extensions.split(",");for(C=0;C<z.length;C++){if(z[C]==="*"){D=[];break no_type_restriction}A=b.mimeTypes[z[C]];if(A&&b.inArray(A,D)===-1){D.push(b.mimeTypes[z[C]])}}}o.FileBrowse.OpenBrowseDialog({mimeTypes:D},function(t){if(t.success){n(t.value)}})});e=j=null});m.bind("CancelUpload",function(){o.Uploader.cancel({},function(){})});m.bind("DisableBrowse",function(e,d){c=d});m.bind("UploadFile",function(g,u){var h=l[u.id],v={},j=g.settings.chunk_size,f,e=[];function w(t,r){var s;if(u.status==b.FAILED){return}v.name=u.target_name||u.name;if(j){v.chunk=""+t;v.chunks=""+r}s=e.shift();o.Uploader.upload({url:g.settings.url,files:{file:s},cookies:document.cookies,postvars:b.extend(v,g.settings.multipart_params),progressCallback:function(B){var C,A=0;f[t]=parseInt(B.filePercent*s.size/100,10);for(C=0;C<f.length;C++){A+=f[C]}u.loaded=A;g.trigger("UploadProgress",u)}},function(C){var A,B;if(C.success){A=C.value.statusCode;if(j){g.trigger("ChunkUploaded",u,{chunk:t,chunks:r,response:C.value.body,status:A})}if(e.length>0){w(++t,r)}else{u.status=b.DONE;g.trigger("FileUploaded",u,{response:C.value.body,status:A});if(A>=400){g.trigger("Error",{code:b.HTTP_ERROR,message:b.translate("HTTP Error."),file:u,status:A})}}}else{g.trigger("Error",{code:b.GENERIC_ERROR,message:b.translate("Generic Error."),file:u,details:C.error})}})}function d(r){u.size=r.size;if(j){o.FileAccess.chunk({file:r,chunkSize:j},function(s){if(s.success){var A=s.value,z=A.length;f=Array(z);for(var t=0;t<z;t++){f[t]=0;e.push(A[t])}w(0,z)}})}else{f=Array(1);e.push(r);w(0,1)}}if(q&&/\.(png|jpg|jpeg)$/i.test(u.name)){BrowserPlus.ImageAlter.transform({file:h,quality:q.quality||90,actions:[{scale:{maxwidth:q.width,maxheight:q.height}}]},function(r){if(r.success){d(r.value.file)}})}else{d(h)}});k({success:true})}if(o){o.init(function(c){var d=[{service:"Uploader",version:"3"},{service:"DragAndDrop",version:"1"},{service:"FileBrowse",version:"1"},{service:"FileAccess",version:"2"}];if(q){d.push({service:"ImageAlter",version:"4"})}if(c.success){o.require({services:d},function(e){if(e.success){a()}else{k()}})}else{k()}})}else{k()}}})})(plupload);(function(r,p,q,u){var w={},s;function n(b,a){var c;if("FileReader" in r){c=new FileReader();c.readAsDataURL(b);c.onload=function(){a(c.result)}}else{return a(b.getAsDataURL())}}function o(b,a){var c;if("FileReader" in r){c=new FileReader();c.readAsBinaryString(b);c.onload=function(){a(c.result)}}else{return a(b.getAsBinary())}}function v(a,c,e,f){var b,d,g,j,h=this;n(w[a.id],function(k){b=p.createElement("canvas");b.style.display="none";p.body.appendChild(b);d=b.getContext("2d");g=new Image();g.onerror=g.onabort=function(){f({success:false})};g.onload=function(){var G,m,E,F,l;if(!c.width){c.width=g.width}if(!c.height){c.height=g.height}j=Math.min(c.width/g.width,c.height/g.height);if(j<1||(j===1&&e==="image/jpeg")){G=Math.round(g.width*j);m=Math.round(g.height*j);b.width=G;b.height=m;d.drawImage(g,0,0,G,m);if(e==="image/jpeg"){F=new t(atob(k.substring(k.indexOf("base64,")+7)));if(F.headers&&F.headers.length){l=new y();if(l.init(F.get("exif")[0])){l.setExif("PixelXDimension",G);l.setExif("PixelYDimension",m);F.set("exif",l.getBinary());if(h.hasEventListener("ExifData")){h.trigger("ExifData",a,l.EXIF())}if(h.hasEventListener("GpsData")){h.trigger("GpsData",a,l.GPS())}}}if(c.quality){try{k=b.toDataURL(e,c.quality/100)}catch(D){k=b.toDataURL(e)}}}else{k=b.toDataURL(e)}k=k.substring(k.indexOf("base64,")+7);k=atob(k);if(F&&F.headers&&F.headers.length){k=F.restore(k);F.purge()}b.parentNode.removeChild(b);f({success:true,data:k})}else{f({success:false})}};g.src=k})}q.runtimes.Html5=q.addRuntime("html5",{getFeatures:function(){var a,e,b,c,d,f;e=b=d=f=false;if(r.XMLHttpRequest){a=new XMLHttpRequest();b=!!a.upload;e=!!(a.sendAsBinary||a.upload)}if(e){c=!!(a.sendAsBinary||(r.Uint8Array&&r.ArrayBuffer));d=!!(File&&(File.prototype.getAsDataURL||r.FileReader)&&c);f=!!(File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))}s=q.ua.safari&&q.ua.windows;return{html5:e,dragdrop:(function(){var g=p.createElement("div");return("draggable" in g)||("ondragstart" in g&&"ondrop" in g)}()),jpgresize:d,pngresize:d,multipart:d||!!r.FileReader||!!r.FormData,canSendBinary:c,cantSendBlobInFormData:!!(q.ua.gecko&&r.FormData&&r.FileReader&&!FileReader.prototype.readAsArrayBuffer),progress:b,chunks:f,multi_selection:!(q.ua.safari&&q.ua.windows),triggerDialog:(q.ua.gecko&&r.FormData||q.ua.webkit)}},init:function(c,a){var e,b;function d(g){var j,k,h=[],f,l={};for(k=0;k<g.length;k++){j=g[k];if(l[j.name]){continue}l[j.name]=true;f=q.guid();w[f]=j;h.push(new q.File(f,j.fileName||j.name,j.fileSize||j.size))}if(h.length){c.trigger("FilesAdded",h)}}e=this.getFeatures();if(!e.html5){a({success:false});return}c.bind("Init",function(m){var I,K,g=[],H,f,L=m.settings.filters,J,h,N=p.body,M;I=p.createElement("div");I.id=m.id+"_html5_container";q.extend(I.style,{position:"absolute",background:c.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:c.settings.shim_bgcolor?"":0});I.className="plupload html5";if(c.settings.container){N=p.getElementById(c.settings.container);if(q.getStyle(N,"position")==="static"){N.style.position="relative"}}N.appendChild(I);no_type_restriction:for(H=0;H<L.length;H++){J=L[H].extensions.split(/,/);for(f=0;f<J.length;f++){if(J[f]==="*"){g=[];break no_type_restriction}h=q.mimeTypes[J[f]];if(h&&q.inArray(h,g)===-1){g.push(h)}}}I.innerHTML='<input id="'+c.id+'_html5"  style="font-size:999px" type="file" accept="'+g.join(",")+'" '+(c.settings.multi_selection&&c.features.multi_selection?'multiple="multiple"':"")+" />";I.scrollTop=100;M=p.getElementById(c.id+"_html5");if(m.features.triggerDialog){q.extend(M.style,{position:"absolute",width:"100%",height:"100%"})}else{q.extend(M.style,{cssFloat:"right",styleFloat:"right"})}M.onchange=function(){d(this.files);this.value=""};K=p.getElementById(m.settings.browse_button);if(K){var k=m.settings.browse_button_hover,j=m.settings.browse_button_active,l=m.features.triggerDialog?K:I;if(k){q.addEvent(l,"mouseover",function(){q.addClass(K,k)},m.id);q.addEvent(l,"mouseout",function(){q.removeClass(K,k)},m.id)}if(j){q.addEvent(l,"mousedown",function(){q.addClass(K,j)},m.id);q.addEvent(p.body,"mouseup",function(){q.removeClass(K,j)},m.id)}if(m.features.triggerDialog){q.addEvent(K,"click",function(z){var A=p.getElementById(m.id+"_html5");if(A&&!A.disabled){A.click()}z.preventDefault()},m.id)}}});c.bind("PostInit",function(){var f=p.getElementById(c.settings.drop_element);if(f){if(s){q.addEvent(f,"dragenter",function(g){var h,k,j;h=p.getElementById(c.id+"_drop");if(!h){h=p.createElement("input");h.setAttribute("type","file");h.setAttribute("id",c.id+"_drop");h.setAttribute("multiple","multiple");q.addEvent(h,"change",function(){d(this.files);q.removeEvent(h,"change",c.id);h.parentNode.removeChild(h)},c.id);f.appendChild(h)}k=q.getPos(f,p.getElementById(c.settings.container));j=q.getSize(f);if(q.getStyle(f,"position")==="static"){q.extend(f.style,{position:"relative"})}q.extend(h.style,{position:"absolute",display:"block",top:0,left:0,width:j.w+"px",height:j.h+"px",opacity:0})},c.id);return}q.addEvent(f,"dragover",function(g){g.preventDefault()},c.id);q.addEvent(f,"drop",function(g){var h=g.dataTransfer;if(h&&h.files){d(h.files)}g.preventDefault()},c.id)}});c.bind("Refresh",function(l){var k,j,h,f,g;k=p.getElementById(c.settings.browse_button);if(k){j=q.getPos(k,p.getElementById(l.settings.container));h=q.getSize(k);f=p.getElementById(c.id+"_html5_container");q.extend(f.style,{top:j.y+"px",left:j.x+"px",width:h.w+"px",height:h.h+"px"});if(c.features.triggerDialog){if(q.getStyle(k,"position")==="static"){q.extend(k.style,{position:"relative"})}g=parseInt(q.getStyle(k,"z-index"),10);if(isNaN(g)){g=0}q.extend(k.style,{zIndex:g});q.extend(f.style,{zIndex:g-1})}}});c.bind("DisableBrowse",function(h,f){var g=p.getElementById(h.id+"_html5");if(g){g.disabled=f}});c.bind("CancelUpload",function(){if(b&&b.abort){b.abort()}});c.bind("UploadFile",function(l,j){var h=l.settings,m,k;function f(E,F,H){var I;if(File.prototype.slice){try{E.slice();return E.slice(F,H)}catch(G){return E.slice(F,H-F)}}else{if(I=File.prototype.webkitSlice||File.prototype.mozSlice){return I.call(E,F,H)}else{return null}}}function g(E){var F=0,H=0,G=("FileReader" in r)?new FileReader:null;function I(){var D,z,B,A,N,C,P,Q=l.settings.url;function O(J){var L=0,aa="----pluploadboundary"+q.guid(),Z,Y="--",K="\r\n",W="";b=new XMLHttpRequest;if(b.upload){b.upload.onprogress=function(R){j.loaded=Math.min(j.size,H+R.loaded-L);l.trigger("UploadProgress",j)}}b.onreadystatechange=function(){var R,S;if(b.readyState==4&&l.state!==q.STOPPED){try{R=b.status}catch(T){R=0}if(R>=400){l.trigger("Error",{code:q.HTTP_ERROR,message:q.translate("HTTP Error."),file:j,status:R})}else{if(B){S={chunk:F,chunks:B,response:b.responseText,status:R};l.trigger("ChunkUploaded",j,S);H+=C;if(S.cancelled){j.status=q.FAILED;return}j.loaded=Math.min(j.size,(F+1)*N)}else{j.loaded=j.size}l.trigger("UploadProgress",j);J=D=Z=W=null;if(!B||++F>=B){j.status=q.DONE;l.trigger("FileUploaded",j,{response:b.responseText,status:R})}else{I()}}}};if(l.settings.multipart&&e.multipart){A.name=j.target_name||j.name;b.open("post",Q,true);q.each(l.settings.headers,function(S,R){b.setRequestHeader(R,S)});if(typeof(J)!=="string"&&!!r.FormData){Z=new FormData();q.each(q.extend(A,l.settings.multipart_params),function(S,R){Z.append(R,S)});Z.append(l.settings.file_data_name,J);b.send(Z);return}if(typeof(J)==="string"){b.setRequestHeader("Content-Type","multipart/form-data; boundary="+aa);q.each(q.extend(A,l.settings.multipart_params),function(S,R){W+=Y+aa+K+'Content-Disposition: form-data; name="'+R+'"'+K+K;W+=unescape(encodeURIComponent(S))+K});P=q.mimeTypes[j.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";W+=Y+aa+K+'Content-Disposition: form-data; name="'+l.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(j.name))+'"'+K+"Content-Type: "+P+K+K+J+K+Y+aa+Y+K;L=W.length-J.length;J=W;if(b.sendAsBinary){b.sendAsBinary(J)}else{if(e.canSendBinary){var M=new Uint8Array(J.length);for(var X=0;X<J.length;X++){M[X]=(J.charCodeAt(X)&255)}b.send(M.buffer)}}return}}Q=q.buildUrl(l.settings.url,q.extend(A,l.settings.multipart_params));b.open("post",Q,true);b.setRequestHeader("Content-Type","application/octet-stream");q.each(l.settings.headers,function(S,R){b.setRequestHeader(R,S)});b.send(J)}if(j.status==q.DONE||j.status==q.FAILED||l.state==q.STOPPED){return}A={name:j.target_name||j.name};if(h.chunk_size&&j.size>h.chunk_size&&(e.chunks||typeof(E)=="string")){N=h.chunk_size;B=Math.ceil(j.size/N);C=Math.min(N,j.size-(F*N));if(typeof(E)=="string"){D=E.substring(F*N,F*N+C)}else{D=f(E,F*N,F*N+C)}A.chunk=F;A.chunks=B}else{C=j.size;D=E}if(l.settings.multipart&&e.multipart&&typeof(D)!=="string"&&G&&e.cantSendBlobInFormData&&e.chunks&&l.settings.chunk_size){G.onload=function(){O(G.result)};G.readAsBinaryString(D)}else{O(D)}}I()}m=w[j.id];if(e.jpgresize&&l.settings.resize&&/\.(png|jpg|jpeg)$/i.test(j.name)){v.call(l,j,l.settings.resize,/\.png$/i.test(j.name)?"image/png":"image/jpeg",function(A){if(A.success){j.size=A.data.length;g(A.data)}else{if(e.chunks){g(m)}else{o(m,g)}}})}else{if(!e.chunks&&e.jpgresize){o(m,g)}else{g(m)}}});c.bind("Destroy",function(k){var h,g,j=p.body,f={inputContainer:k.id+"_html5_container",inputFile:k.id+"_html5",browseButton:k.settings.browse_button,dropElm:k.settings.drop_element};for(h in f){g=p.getElementById(f[h]);if(g){q.removeAllEvents(g,k.id)}}q.removeAllEvents(p.body,k.id);if(k.settings.container){j=p.getElementById(k.settings.container)}j.removeChild(p.getElementById(f.inputContainer))});a({success:true})}});function x(){var b=false,d;function a(j,g){var k=b?0:-8*(g-1),f=0,h;for(h=0;h<g;h++){f|=(d.charCodeAt(j+h)<<Math.abs(k+h*8))}return f}function e(f,h,g){var g=arguments.length===3?g:d.length-h-1;d=d.substr(0,h)+f+d.substr(g+h)}function c(k,j,g){var f="",l=b?0:-8*(g-1),h;for(h=0;h<g;h++){f+=String.fromCharCode((j>>Math.abs(l+h*8))&255)}e(f,k,g)}return{II:function(f){if(f===u){return b}else{b=f}},init:function(f){b=false;d=f},SEGMENT:function(h,f,g){switch(arguments.length){case 1:return d.substr(h,d.length-h-1);case 2:return d.substr(h,f);case 3:e(g,h,f);break;default:return d}},BYTE:function(f){return a(f,1)},SHORT:function(f){return a(f,2)},LONG:function(g,f){if(f===u){return a(g,4)}else{c(g,f,4)}},SLONG:function(g){var f=a(g,4);return(f>2147483647?f-4294967296:f)},STRING:function(h,g){var f="";for(g+=h;h<g;h++){f+=String.fromCharCode(a(h,1))}return f}}}function t(c){var a={65505:{app:"EXIF",name:"APP1",signature:"Exif\0"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\0"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\0"}},b=[],d,h,f=u,e=0,g;d=new x();d.init(c);if(d.SHORT(0)!==65496){return}h=2;g=Math.min(1048576,c.length);while(h<=g){f=d.SHORT(h);if(f>=65488&&f<=65495){h+=2;continue}if(f===65498||f===65497){break}e=d.SHORT(h+2)+2;if(a[f]&&d.STRING(h+4,a[f].signature.length)===a[f].signature){b.push({hex:f,app:a[f].app.toUpperCase(),name:a[f].name.toUpperCase(),start:h,length:e,segment:d.SEGMENT(h,e)})}h+=e}d.init(null);return{headers:b,restore:function(A){d.init(A);var k=new t(A);if(!k.headers){return false}for(var j=k.headers.length;j>0;j--){var m=k.headers[j-1];d.SEGMENT(m.start,m.length,"")}k.purge();h=d.SHORT(2)==65504?4+d.SHORT(4):2;for(var j=0,l=b.length;j<l;j++){d.SEGMENT(h,0,b[j].segment);h+=b[j].length}return d.SEGMENT()},get:function(j){var m=[];for(var k=0,l=b.length;k<l;k++){if(b[k].app===j.toUpperCase()){m.push(b[k].segment)}}return m},set:function(A,j){var m=[];if(typeof(j)==="string"){m.push(j)}else{m=j}for(var k=ii=0,l=b.length;k<l;k++){if(b[k].app===A.toUpperCase()){b[k].segment=m[ii];b[k].length=m[ii].length;ii++}if(ii>=m.length){break}}},purge:function(){b=[];d.init(null)}}}function y(){var d,g,f={},a;d=new x();g={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}};a={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}};function e(M,j){var J=d.SHORT(M),m,N,L,k,l,K,I,h,O=[],H={};for(m=0;m<J;m++){I=K=M+12*m+2;L=j[d.SHORT(I)];if(L===u){continue}k=d.SHORT(I+=2);l=d.LONG(I+=2);I+=4;O=[];switch(k){case 1:case 7:if(l>4){I=d.LONG(I)+f.tiffHeader}for(N=0;N<l;N++){O[N]=d.BYTE(I+N)}break;case 2:if(l>4){I=d.LONG(I)+f.tiffHeader}H[L]=d.STRING(I,l-1);continue;case 3:if(l>2){I=d.LONG(I)+f.tiffHeader}for(N=0;N<l;N++){O[N]=d.SHORT(I+N*2)}break;case 4:if(l>1){I=d.LONG(I)+f.tiffHeader}for(N=0;N<l;N++){O[N]=d.LONG(I+N*4)}break;case 5:I=d.LONG(I)+f.tiffHeader;for(N=0;N<l;N++){O[N]=d.LONG(I+N*4)/d.LONG(I+N*4+4)}break;case 9:I=d.LONG(I)+f.tiffHeader;for(N=0;N<l;N++){O[N]=d.SLONG(I+N*4)}break;case 10:I=d.LONG(I)+f.tiffHeader;for(N=0;N<l;N++){O[N]=d.SLONG(I+N*4)/d.SLONG(I+N*4+4)}break;default:continue}h=(l==1?O[0]:O);if(a.hasOwnProperty(L)&&typeof h!="object"){H[L]=a[L][h]}else{H[L]=h}}return H}function b(){var h=u,j=f.tiffHeader;d.II(d.SHORT(j)==18761);if(d.SHORT(j+=2)!==42){return false}f.IFD0=f.tiffHeader+d.LONG(j+=2);h=e(f.IFD0,g.tiff);f.exifIFD=("ExifIFDPointer" in h?f.tiffHeader+h.ExifIFDPointer:u);f.gpsIFD=("GPSInfoIFDPointer" in h?f.tiffHeader+h.GPSInfoIFDPointer:u);return true}function c(k,m,C){var E,D,j,h=0;if(typeof(m)==="string"){var l=g[k.toLowerCase()];for(hex in l){if(l[hex]===m){m=hex;break}}}E=f[k.toLowerCase()+"IFD"];D=d.SHORT(E);for(i=0;i<D;i++){j=E+12*i+2;if(d.SHORT(j)==m){h=j+8;break}}if(!h){return false}d.LONG(h,C);return true}return{init:function(h){f={tiffHeader:10};if(h===u||!h.length){return false}d.init(h);if(d.SHORT(0)===65505&&d.STRING(4,5).toUpperCase()==="EXIF\0"){return b()}return false},EXIF:function(){var j;j=e(f.exifIFD,g.exif);if(j.ExifVersion&&q.typeOf(j.ExifVersion)==="array"){for(var h=0,k="";h<j.ExifVersion.length;h++){k+=String.fromCharCode(j.ExifVersion[h])}j.ExifVersion=k}return j},GPS:function(){var h;h=e(f.gpsIFD,g.gps);if(h.GPSVersionID){h.GPSVersionID=h.GPSVersionID.join(".")}return h},setExif:function(j,h){if(j!=="PixelXDimension"&&j!=="PixelYDimension"){return false}return c("exif",j,h)},getBinary:function(){return d.SEGMENT()}}}})(window,document,plupload);(function(j,g,f,k){function h(a){return g.getElementById(a)}f.runtimes.Html4=f.addRuntime("html4",{getFeatures:function(){return{multipart:true,triggerDialog:(f.ua.gecko&&j.FormData||f.ua.webkit)}},init:function(b,a){b.bind("Init",function(e){var E=g.body,A,F="javascript",D,H,d,G=[],c=/MSIE/.test(navigator.userAgent),L=[],B=e.settings.filters,y,C,M,I;no_type_restriction:for(y=0;y<B.length;y++){C=B[y].extensions.split(/,/);for(I=0;I<C.length;I++){if(C[I]==="*"){L=[];break no_type_restriction}M=f.mimeTypes[C[I]];if(M&&f.inArray(M,L)===-1){L.push(M)}}}L=L.join(",");function J(){var m,l,o,n;d=f.guid();G.push(d);m=g.createElement("form");m.setAttribute("id","form_"+d);m.setAttribute("method","post");m.setAttribute("enctype","multipart/form-data");m.setAttribute("encoding","multipart/form-data");m.setAttribute("target",e.id+"_iframe");m.style.position="absolute";l=g.createElement("input");l.setAttribute("id","input_"+d);l.setAttribute("type","file");l.setAttribute("accept",L);l.setAttribute("size",1);n=h(e.settings.browse_button);if(e.features.triggerDialog&&n){f.addEvent(h(e.settings.browse_button),"click",function(p){if(!l.disabled){l.click()}p.preventDefault()},e.id)}f.extend(l.style,{width:"100%",height:"100%",opacity:0,fontSize:"99px",cursor:"pointer"});f.extend(m.style,{overflow:"hidden"});o=e.settings.shim_bgcolor;if(o){m.style.background=o}if(c){f.extend(l.style,{filter:"alpha(opacity=0)"})}f.addEvent(l,"change",function(q){var s=q.target,t,r=[],p;if(s.value){h("form_"+d).style.top=-1048575+"px";t=s.value.replace(/\\/g,"/");t=t.substring(t.length,t.lastIndexOf("/")+1);r.push(new f.File(d,t));if(!e.features.triggerDialog){f.removeAllEvents(m,e.id)}else{f.removeEvent(n,"click",e.id)}f.removeEvent(l,"change",e.id);J();if(r.length){b.trigger("FilesAdded",r)}}},e.id);m.appendChild(l);E.appendChild(m);e.refresh()}function K(){var l=g.createElement("div");l.innerHTML='<iframe id="'+e.id+'_iframe" name="'+e.id+'_iframe" src="'+F+':&quot;&quot;" style="display:none"></iframe>';A=l.firstChild;E.appendChild(A);f.addEvent(A,"load",function(o){var n=o.target,p,m;if(!D){return}try{p=n.contentWindow.document||n.contentDocument||j.frames[n.id].document}catch(q){e.trigger("Error",{code:f.SECURITY_ERROR,message:f.translate("Security error."),file:D});return}m=p.body.innerHTML;if(m){D.status=f.DONE;D.loaded=1025;D.percent=100;e.trigger("UploadProgress",D);e.trigger("FileUploaded",D,{response:m})}},e.id)}if(e.settings.container){E=h(e.settings.container);if(f.getStyle(E,"position")==="static"){E.style.position="relative"}}e.bind("UploadFile",function(o,n){var m,l;if(n.status==f.DONE||n.status==f.FAILED||o.state==f.STOPPED){return}m=h("form_"+n.id);l=h("input_"+n.id);l.setAttribute("name",o.settings.file_data_name);m.setAttribute("action",o.settings.url);f.each(f.extend({name:n.target_name||n.name},o.settings.multipart_params),function(p,r){var q=g.createElement("input");f.extend(q,{type:"hidden",name:r,value:p});m.insertBefore(q,m.firstChild)});D=n;h("form_"+d).style.top=-1048575+"px";m.submit()});e.bind("FileUploaded",function(l){l.refresh()});e.bind("StateChanged",function(l){if(l.state==f.STARTED){K()}else{if(l.state==f.STOPPED){j.setTimeout(function(){f.removeEvent(A,"load",l.id);if(A.parentNode){A.parentNode.removeChild(A)}},0)}}f.each(l.files,function(o,m){if(o.status===f.DONE||o.status===f.FAILED){var n=h("form_"+o.id);if(n){n.parentNode.removeChild(n)}}})});e.bind("Refresh",function(o){var s,n,m,l,p,r,q,t,u;s=h(o.settings.browse_button);if(s){p=f.getPos(s,h(o.settings.container));r=f.getSize(s);q=h("form_"+d);t=h("input_"+d);f.extend(q.style,{top:p.y+"px",left:p.x+"px",width:r.w+"px",height:r.h+"px"});if(o.features.triggerDialog){if(f.getStyle(s,"position")==="static"){f.extend(s.style,{position:"relative"})}u=parseInt(s.style.zIndex,10);if(isNaN(u)){u=0}f.extend(s.style,{zIndex:u});f.extend(q.style,{zIndex:u-1})}m=o.settings.browse_button_hover;l=o.settings.browse_button_active;n=o.features.triggerDialog?s:q;if(m){f.addEvent(n,"mouseover",function(){f.addClass(s,m)},o.id);f.addEvent(n,"mouseout",function(){f.removeClass(s,m)},o.id)}if(l){f.addEvent(n,"mousedown",function(){f.addClass(s,l)},o.id);f.addEvent(g.body,"mouseup",function(){f.removeClass(s,l)},o.id)}}});b.bind("FilesRemoved",function(o,n){var l,m;for(l=0;l<n.length;l++){m=h("form_"+n[l].id);if(m){m.parentNode.removeChild(m)}}});b.bind("DisableBrowse",function(n,m){var l=g.getElementById("input_"+d);if(l){l.disabled=m}});b.bind("Destroy",function(p){var l,o,n,m={inputContainer:"form_"+d,inputFile:"input_"+d,browseButton:p.settings.browse_button};for(l in m){o=h(m[l]);if(o){f.removeAllEvents(o,p.id)}}f.removeAllEvents(g.body,p.id);f.each(G,function(q,r){n=h("form_"+q);if(n){E.removeChild(n)}})});J()});a({success:true})}})})(window,document,plupload);
(function(h){var g={};function f(a){return plupload.translate(a)||a}function e(a,b){b.contents().each(function(d,c){c=h(c);if(!c.is(".plupload")){c.remove()}});b.prepend('<div class="plupload_wrapper plupload_scroll">\n    <div id="'+a+'_container" class="plupload_container">\n        <div class="plupload">\n            <div class="plupload_content">\n                <div class="plupload_filelist_footer">\n                    <div class="plupload_file_name">\n                        <div class="plupload_buttons">\n                          <a href="#" class="plupload_button plupload_add">Selecionar Arquivo</a>\n                        </div>\n                        <span class="plupload_upload_status"></span>\n                    </div>\n                    <div class="plupload_file_action"></div>\n                    <div class="plupload_file_status"><span class="plupload_total_status"></span>\n                    </div>\n                    <div class="plupload_file_size"><span class="plupload_total_file_size"></span>\n                    </div>\n                    <div class="plupload_progress">\n                        <div class="plupload_progress_container">\n                            <div class="plupload_progress_bar"></div>\n                        </div>\n                    </div>\n                    <div class="plupload_clearer">&nbsp;</div>\n                </div>\n                <ul id="'+a+'_filelist" class="plupload_filelist"></ul>\n            </div>\n        </div>\n    </div>\n    <input type="hidden" id="'+a+'_count" name="'+a+'_count" value="0" />\n</div>')}h.fn.pluploadQueue=function(a){if(a){this.each(function(){var c,d,b;d=h(this);b=d.attr("id");if(!b){b=plupload.guid();d.attr("id",b)}c=new plupload.Uploader(h.extend({dragdrop:true,container:b},a));g[b]=c;function l(j){var k;if(j.status==plupload.DONE){k="plupload_done"}if(j.status==plupload.FAILED){k="plupload_failed"}if(j.status==plupload.QUEUED){k="plupload_delete"}if(j.status==plupload.UPLOADING){k="plupload_uploading"}var i=h("#"+j.id).attr("class",k).find("a").css("display","block");if(j.hint){i.attr("title",j.hint)}}function n(){h("span.plupload_total_status",d).html(c.total.percent+"%");h("div.plupload_progress_bar",d).css("width",c.total.percent+"%");h("span.plupload_upload_status",d).text(f("Uploaded %d/%d files").replace(/%d\/%d/,c.total.uploaded+"/"+c.files.length))}function m(){var i=h("ul.plupload_filelist",d).html(""),k=0,j;h.each(c.files,function(q,r){j="";if(r.status==plupload.DONE){if(r.target_name){j+='<input type="hidden" name="'+b+"_"+k+'_tmpname" value="'+plupload.xmlEncode(r.target_name)+'" />'}j+='<input type="hidden" name="'+b+"_"+k+'_name" value="'+plupload.xmlEncode(r.name)+'" />';j+='<input type="hidden" name="'+b+"_"+k+'_status" value="'+(r.status==plupload.DONE?"done":"failed")+'" />';k++;h("#"+b+"_count").val(k)}i.append('<li id="'+r.id+'"><div class="plupload_file_name"><span>'+r.name+'</span></div><div class="plupload_file_action"><a href="#"></a></div><div class="plupload_file_status">'+r.percent+'%</div><div class="plupload_file_size">'+plupload.formatSize(r.size)+'</div><div class="plupload_clearer">&nbsp;</div>'+j+"</li>");l(r);h("#"+r.id+".plupload_delete a").click(function(o){h("#"+r.id).remove();c.removeFile(r);o.preventDefault()})});h("span.plupload_total_file_size",d).html(plupload.formatSize(c.total.size));if(c.total.queued===0){h("span.plupload_add_text",d).text(f("Add files."))}else{h("span.plupload_add_text",d).text(c.total.queued+" files queued.")}h("a.plupload_start",d).toggleClass("plupload_disabled",c.files.length==(c.total.uploaded+c.total.failed));i[0].scrollTop=i[0].scrollHeight;n();if(!c.files.length&&c.features.dragdrop&&c.settings.dragdrop){h("#"+b+"_filelist").append('<li class="plupload_droptext">Voc pode arrastar os arquivos aqui.</li>')}}c.bind("UploadFile",function(j,i){h("#"+i.id).addClass("plupload_current_file")});c.bind("Init",function(j,i){e(b,d);if(!a.unique_names&&a.rename){h("#"+b+"_filelist div.plupload_file_name span",d).live("click",function(k){var u=h(k.target),w,t,x,v="";w=j.getFile(u.parents("li")[0].id);x=w.name;t=/^(.+)(\.[^.]+)$/.exec(x);if(t){x=t[1];v=t[2]}u.hide().after('<input type="text" />');u.next().val(x).focus().blur(function(){u.show().next().remove()}).keydown(function(o){var p=h(this);if(o.keyCode==13){o.preventDefault();w.name=p.val()+v;u.text(w.name);p.blur()}})})}h("a.plupload_add",d).attr("id",b+"_browse");j.settings.browse_button=b+"_browse";if(j.features.dragdrop&&j.settings.dragdrop){j.settings.drop_element=b+"_filelist";h("#"+b+"_filelist").append('<li class="plupload_droptext">Voc pode arrastar os arquivos aqui.</li>')}h("#"+b+"_container").attr("title","Using runtime: "+i.runtime);h("a.plupload_start",d).click(function(k){if(!h(this).hasClass("plupload_disabled")){c.start()}k.preventDefault()});h("a.plupload_stop",d).click(function(k){k.preventDefault();c.stop()});h("a.plupload_start",d).addClass("plupload_disabled")});c.init();c.bind("Error",function(j,k){var i=k.file,p;if(i){p=k.message;if(k.details){p+=" ("+k.details+")"}if(k.code==plupload.FILE_SIZE_ERROR){alert("Erro: Arquivo muito grande: "+i.name)}if(k.code==plupload.FILE_EXTENSION_ERROR){alert("Erro: Extenso no permitida: "+i.name)}i.hint=p;h("#"+i.id).attr("class","plupload_failed").find("a").css("display","block").attr("title",p)}});c.bind("StateChanged",function(){if(c.state===plupload.STARTED){h("li.plupload_delete a,div.plupload_buttons",d).hide();h("span.plupload_upload_status,div.plupload_progress,a.plupload_stop",d).css("display","block");h("span.plupload_upload_status",d).text("Uploaded "+c.total.uploaded+"/"+c.files.length+" files");if(a.multiple_queues){h("span.plupload_total_status,span.plupload_total_file_size",d).show()}}else{m();h("a.plupload_stop,div.plupload_progress",d).hide();h("a.plupload_delete",d).css("display","block")}});c.bind("QueueChanged",m);c.bind("FileUploaded",function(j,i){l(i)});c.bind("UploadProgress",function(j,i){h("#"+i.id+" div.plupload_file_status",d).html(i.percent+"%");l(i);n();if(a.multiple_queues&&c.total.uploaded+c.total.failed==c.files.length){h(".plupload_buttons,.plupload_upload_status",d).css("display","inline");h(".plupload_start",d).addClass("plupload_disabled");h("span.plupload_total_status,span.plupload_total_file_size",d).hide()}});if(a.setup){a.setup(c)}});return this}else{return g[h(this[0]).attr("id")]}}})(jQuery);
/*!
 * jQuery Form Plugin
 * version: 3.46.0-2013.11.21
 * Requires jQuery v1.5 or later
 * Copyright (c) 2013 M. Alsup
 * Examples and documentation at: http://malsup.com/jquery/form/
 * Project repository: https://github.com/malsup/form
 * Dual licensed under the MIT and GPL licenses.
 * https://github.com/malsup/form#copyright-and-license
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{a((typeof(jQuery)!="undefined")?jQuery:window.Zepto)}}(function(f){var c={};c.fileapi=f("<input type='file'/>").get(0).files!==undefined;c.formdata=window.FormData!==undefined;var e=!!f.fn.prop;f.fn.attr2=function(){if(!e){return this.attr.apply(this,arguments)}var g=this.prop.apply(this,arguments);if((g&&g.jquery)||typeof g==="string"){return g}return this.attr.apply(this,arguments)};f.fn.ajaxSubmit=function(j){if(!this.length){d("ajaxSubmit: skipping submit process - no element selected");return this}var i,C,m,o=this;if(typeof j=="function"){j={success:j}}else{if(j===undefined){j={}}}i=j.type||this.attr2("method");C=j.url||this.attr2("action");m=(typeof C==="string")?f.trim(C):"";m=m||window.location.href||"";if(m){m=(m.match(/^([^#]+)/)||[])[1]}j=f.extend(true,{url:m,success:f.ajaxSettings.success,type:i||f.ajaxSettings.type,iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},j);var u={};this.trigger("form-pre-serialize",[this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-pre-serialize trigger");return this}if(j.beforeSerialize&&j.beforeSerialize(this,j)===false){d("ajaxSubmit: submit aborted via beforeSerialize callback");return this}var n=j.traditional;if(n===undefined){n=f.ajaxSettings.traditional}var s=[];var E,F=this.formToArray(j.semantic,s);if(j.data){j.extraData=j.data;E=f.param(j.data,n)}if(j.beforeSubmit&&j.beforeSubmit(F,this,j)===false){d("ajaxSubmit: submit aborted via beforeSubmit callback");return this}this.trigger("form-submit-validate",[F,this,j,u]);if(u.veto){d("ajaxSubmit: submit vetoed via form-submit-validate trigger");return this}var y=f.param(F,n);if(E){y=(y?(y+"&"+E):E)}if(j.type.toUpperCase()=="GET"){j.url+=(j.url.indexOf("?")>=0?"&":"?")+y;j.data=null}else{j.data=y}var H=[];if(j.resetForm){H.push(function(){o.resetForm()})}if(j.clearForm){H.push(function(){o.clearForm(j.includeHidden)})}if(!j.dataType&&j.target){var l=j.success||function(){};H.push(function(q){var k=j.replaceTarget?"replaceWith":"html";f(j.target)[k](q).each(l,arguments)})}else{if(j.success){H.push(j.success)}}j.success=function(K,q,L){var J=j.context||this;for(var I=0,k=H.length;I<k;I++){H[I].apply(J,[K,q,L||o,o])}};if(j.error){var z=j.error;j.error=function(J,k,q){var I=j.context||this;z.apply(I,[J,k,q,o])}}if(j.complete){var h=j.complete;j.complete=function(I,k){var q=j.context||this;h.apply(q,[I,k,o])}}var D=f("input[type=file]:enabled",this).filter(function(){return f(this).val()!==""});var p=D.length>0;var B="multipart/form-data";var x=(o.attr("enctype")==B||o.attr("encoding")==B);var w=c.fileapi&&c.formdata;d("fileAPI :"+w);var r=(p||x)&&!w;var v;if(j.iframe!==false&&(j.iframe||r)){if(j.closeKeepAlive){f.get(j.closeKeepAlive,function(){v=G(F)})}else{v=G(F)}}else{if((p||x)&&w){v=t(F)}else{v=f.ajax(j)}}o.removeData("jqxhr").data("jqxhr",v);for(var A=0;A<s.length;A++){s[A]=null}this.trigger("form-submit-notify",[this,j]);return this;function g(K){var L=f.param(K,j.traditional).split("&");var q=L.length;var k=[];var J,I;for(J=0;J<q;J++){L[J]=L[J].replace(/\+/g," ");I=L[J].split("=");k.push([decodeURIComponent(I[0]),decodeURIComponent(I[1])])}return k}function t(q){var k=new FormData();for(var I=0;I<q.length;I++){k.append(q[I].name,q[I].value)}if(j.extraData){var L=g(j.extraData);for(I=0;I<L.length;I++){if(L[I]){k.append(L[I][0],L[I][1])}}}j.data=null;var K=f.extend(true,{},f.ajaxSettings,j,{contentType:false,processData:false,cache:false,type:i||"POST"});if(j.uploadProgress){K.xhr=function(){var M=f.ajaxSettings.xhr();if(M.upload){M.upload.addEventListener("progress",function(Q){var P=0;var N=Q.loaded||Q.position;var O=Q.total;if(Q.lengthComputable){P=Math.ceil(N/O*100)}j.uploadProgress(Q,N,O,P)},false)}return M}}K.data=null;var J=K.beforeSend;K.beforeSend=function(N,M){if(j.formData){M.data=j.formData}else{M.data=k}if(J){J.call(this,N,M)}};return f.ajax(K)}function G(af){var L=o[0],K,ab,V,ad,Y,N,Q,O,P,Z,ac,T;var ai=f.Deferred();ai.abort=function(aj){O.abort(aj)};if(af){for(ab=0;ab<s.length;ab++){K=f(s[ab]);if(e){K.prop("disabled",false)}else{K.removeAttr("disabled")}}}V=f.extend(true,{},f.ajaxSettings,j);V.context=V.context||V;Y="jqFormIO"+(new Date().getTime());if(V.iframeTarget){N=f(V.iframeTarget);Z=N.attr2("name");if(!Z){N.attr2("name",Y)}else{Y=Z}}else{N=f('<iframe name="'+Y+'" src="'+V.iframeSrc+'" />');N.css({position:"absolute",top:"-1000px",left:"-1000px"})}Q=N[0];O={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(aj){var ak=(aj==="timeout"?"timeout":"aborted");d("aborting upload... "+ak);this.aborted=1;try{if(Q.contentWindow.document.execCommand){Q.contentWindow.document.execCommand("Stop")}}catch(al){}N.attr("src",V.iframeSrc);O.error=ak;if(V.error){V.error.call(V.context,O,ak,aj)}if(ad){f.event.trigger("ajaxError",[O,V,ak])}if(V.complete){V.complete.call(V.context,O,ak)}}};ad=V.global;if(ad&&0===f.active++){f.event.trigger("ajaxStart")}if(ad){f.event.trigger("ajaxSend",[O,V])}if(V.beforeSend&&V.beforeSend.call(V.context,O,V)===false){if(V.global){f.active--}ai.reject();return ai}if(O.aborted){ai.reject();return ai}P=L.clk;if(P){Z=P.name;if(Z&&!P.disabled){V.extraData=V.extraData||{};V.extraData[Z]=P.value;if(P.type=="image"){V.extraData[Z+".x"]=L.clk_x;V.extraData[Z+".y"]=L.clk_y}}}var U=1;var R=2;function S(al){var ak=null;try{if(al.contentWindow){ak=al.contentWindow.document}}catch(aj){d("cannot get iframe.contentWindow document: "+aj)}if(ak){return ak}try{ak=al.contentDocument?al.contentDocument:al.document}catch(aj){d("cannot get iframe.contentDocument: "+aj);ak=al.document}return ak}var J=f("meta[name=csrf-token]").attr("content");var I=f("meta[name=csrf-param]").attr("content");if(I&&J){V.extraData=V.extraData||{};V.extraData[I]=J}function aa(){var al=o.attr2("target"),aj=o.attr2("action");L.setAttribute("target",Y);if(!i||/post/i.test(i)){L.setAttribute("method","POST")}if(aj!=V.url){L.setAttribute("action",V.url)}if(!V.skipEncodingOverride&&(!i||/post/i.test(i))){o.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"})}if(V.timeout){T=setTimeout(function(){ac=true;X(U)},V.timeout)}function am(){try{var aq=S(Q).readyState;d("state = "+aq);if(aq&&aq.toLowerCase()=="uninitialized"){setTimeout(am,50)}}catch(ar){d("Server abort: ",ar," (",ar.name,")");X(R);if(T){clearTimeout(T)}T=undefined}}var ak=[];try{if(V.extraData){for(var ap in V.extraData){if(V.extraData.hasOwnProperty(ap)){if(f.isPlainObject(V.extraData[ap])&&V.extraData[ap].hasOwnProperty("name")&&V.extraData[ap].hasOwnProperty("value")){ak.push(f('<input type="hidden" name="'+V.extraData[ap].name+'">').val(V.extraData[ap].value).appendTo(L)[0])}else{ak.push(f('<input type="hidden" name="'+ap+'">').val(V.extraData[ap]).appendTo(L)[0])}}}}if(!V.iframeTarget){N.appendTo("body")}if(Q.attachEvent){Q.attachEvent("onload",X)}else{Q.addEventListener("load",X,false)}setTimeout(am,15);try{L.submit()}catch(an){var ao=document.createElement("form").submit;ao.apply(L)}}finally{L.setAttribute("action",aj);if(al){L.setAttribute("target",al)}else{o.removeAttr("target")}f(ak).remove()}}if(V.forceSync){aa()}else{setTimeout(aa,10)}var ag,ah,ae=50,M;function X(ap){if(O.aborted||M){return}ah=S(Q);if(!ah){d("cannot access response document");ap=R}if(ap===U&&O){O.abort("timeout");ai.reject(O,"timeout");return}else{if(ap==R&&O){O.abort("server abort");ai.reject(O,"error","server abort");return}}if(!ah||ah.location.href==V.iframeSrc){if(!ac){return}}if(Q.detachEvent){Q.detachEvent("onload",X)}else{Q.removeEventListener("load",X,false)}var an="success",ar;try{if(ac){throw"timeout"}var am=V.dataType=="xml"||ah.XMLDocument||f.isXMLDoc(ah);d("isXml="+am);if(!am&&window.opera&&(ah.body===null||!ah.body.innerHTML)){if(--ae){d("requeing onLoad callback, DOM not available");setTimeout(X,250);return}}var at=ah.body?ah.body:ah.documentElement;O.responseText=at?at.innerHTML:null;O.responseXML=ah.XMLDocument?ah.XMLDocument:ah;if(am){V.dataType="xml"}O.getResponseHeader=function(aw){var av={"content-type":V.dataType};return av[aw.toLowerCase()]};if(at){O.status=Number(at.getAttribute("status"))||O.status;O.statusText=at.getAttribute("statusText")||O.statusText}var aj=(V.dataType||"").toLowerCase();var aq=/(json|script|text)/.test(aj);if(aq||V.textarea){var ao=ah.getElementsByTagName("textarea")[0];if(ao){O.responseText=ao.value;O.status=Number(ao.getAttribute("status"))||O.status;O.statusText=ao.getAttribute("statusText")||O.statusText}else{if(aq){var ak=ah.getElementsByTagName("pre")[0];var au=ah.getElementsByTagName("body")[0];if(ak){O.responseText=ak.textContent?ak.textContent:ak.innerText}else{if(au){O.responseText=au.textContent?au.textContent:au.innerText}}}}}else{if(aj=="xml"&&!O.responseXML&&O.responseText){O.responseXML=W(O.responseText)}}try{ag=k(O,aj,V)}catch(al){an="parsererror";O.error=ar=(al||an)}}catch(al){d("error caught: ",al);an="error";O.error=ar=(al||an)}if(O.aborted){d("upload aborted");an=null}if(O.status){an=(O.status>=200&&O.status<300||O.status===304)?"success":"error"}if(an==="success"){if(V.success){V.success.call(V.context,ag,"success",O)}ai.resolve(O.responseText,"success",O);if(ad){f.event.trigger("ajaxSuccess",[O,V])}}else{if(an){if(ar===undefined){ar=O.statusText}if(V.error){V.error.call(V.context,O,an,ar)}ai.reject(O,"error",ar);if(ad){f.event.trigger("ajaxError",[O,V,ar])}}}if(ad){f.event.trigger("ajaxComplete",[O,V])}if(ad&&!--f.active){f.event.trigger("ajaxStop")}if(V.complete){V.complete.call(V.context,O,an)}M=true;if(V.timeout){clearTimeout(T)}setTimeout(function(){if(!V.iframeTarget){N.remove()}else{N.attr("src",V.iframeSrc)}O.responseXML=null},100)}var W=f.parseXML||function(aj,ak){if(window.ActiveXObject){ak=new ActiveXObject("Microsoft.XMLDOM");ak.async="false";ak.loadXML(aj)}else{ak=(new DOMParser()).parseFromString(aj,"text/xml")}return(ak&&ak.documentElement&&ak.documentElement.nodeName!="parsererror")?ak:null};var q=f.parseJSON||function(aj){return window["eval"]("("+aj+")")};var k=function(ao,am,al){var ak=ao.getResponseHeader("content-type")||"",aj=am==="xml"||!am&&ak.indexOf("xml")>=0,an=aj?ao.responseXML:ao.responseText;if(aj&&an.documentElement.nodeName==="parsererror"){if(f.error){f.error("parsererror")}}if(al&&al.dataFilter){an=al.dataFilter(an,am)}if(typeof an==="string"){if(am==="json"||!am&&ak.indexOf("json")>=0){an=q(an)}else{if(am==="script"||!am&&ak.indexOf("javascript")>=0){f.globalEval(an)}}}return an};return ai}};f.fn.ajaxForm=function(g){g=g||{};g.delegation=g.delegation&&f.isFunction(f.fn.on);if(!g.delegation&&this.length===0){var h={s:this.selector,c:this.context};if(!f.isReady&&h.s){d("DOM not ready, queuing ajaxForm");f(function(){f(h.s,h.c).ajaxForm(g)});return this}d("terminating; zero elements found by selector"+(f.isReady?"":" (DOM not ready)"));return this}if(g.delegation){f(document).off("submit.form-plugin",this.selector,b).off("click.form-plugin",this.selector,a).on("submit.form-plugin",this.selector,g,b).on("click.form-plugin",this.selector,g,a);return this}return this.ajaxFormUnbind().bind("submit.form-plugin",g,b).bind("click.form-plugin",g,a)};function b(h){var g=h.data;if(!h.isDefaultPrevented()){h.preventDefault();f(h.target).ajaxSubmit(g)}}function a(k){var j=k.target;var h=f(j);if(!(h.is("[type=submit],[type=image]"))){var g=h.closest("[type=submit]");if(g.length===0){return}j=g[0]}var i=this;i.clk=j;if(j.type=="image"){if(k.offsetX!==undefined){i.clk_x=k.offsetX;i.clk_y=k.offsetY}else{if(typeof f.fn.offset=="function"){var l=h.offset();i.clk_x=k.pageX-l.left;i.clk_y=k.pageY-l.top}else{i.clk_x=k.pageX-j.offsetLeft;i.clk_y=k.pageY-j.offsetTop}}}setTimeout(function(){i.clk=i.clk_x=i.clk_y=null},100)}f.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")};f.fn.formToArray=function(x,g){var w=[];if(this.length===0){return w}var l=this[0];var p=x?l.getElementsByTagName("*"):l.elements;if(!p){return w}var r,q,o,y,m,t,k;for(r=0,t=p.length;r<t;r++){m=p[r];o=m.name;if(!o||m.disabled){continue}if(x&&l.clk&&m.type=="image"){if(l.clk==m){w.push({name:o,value:f(m).val(),type:m.type});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}continue}y=f.fieldValue(m,true);if(y&&y.constructor==Array){if(g){g.push(m)}for(q=0,k=y.length;q<k;q++){w.push({name:o,value:y[q]})}}else{if(c.fileapi&&m.type=="file"){if(g){g.push(m)}var h=m.files;if(h.length){for(q=0;q<h.length;q++){w.push({name:o,value:h[q],type:m.type})}}else{w.push({name:o,value:"",type:m.type})}}else{if(y!==null&&typeof y!="undefined"){if(g){g.push(m)}w.push({name:o,value:y,type:m.type,required:m.required})}}}}if(!x&&l.clk){var s=f(l.clk),u=s[0];o=u.name;if(o&&!u.disabled&&u.type=="image"){w.push({name:o,value:s.val()});w.push({name:o+".x",value:l.clk_x},{name:o+".y",value:l.clk_y})}}return w};f.fn.formSerialize=function(g){return f.param(this.formToArray(g))};f.fn.fieldSerialize=function(h){var g=[];this.each(function(){var m=this.name;if(!m){return}var k=f.fieldValue(this,h);if(k&&k.constructor==Array){for(var l=0,j=k.length;l<j;l++){g.push({name:m,value:k[l]})}}else{if(k!==null&&typeof k!="undefined"){g.push({name:this.name,value:k})}}});return f.param(g)};f.fn.fieldValue=function(m){for(var l=[],j=0,g=this.length;j<g;j++){var k=this[j];var h=f.fieldValue(k,m);if(h===null||typeof h=="undefined"||(h.constructor==Array&&!h.length)){continue}if(h.constructor==Array){f.merge(l,h)}else{l.push(h)}}return l};f.fieldValue=function(g,o){var j=g.name,u=g.type,w=g.tagName.toLowerCase();if(o===undefined){o=true}if(o&&(!j||g.disabled||u=="reset"||u=="button"||(u=="checkbox"||u=="radio")&&!g.checked||(u=="submit"||u=="image")&&g.form&&g.form.clk!=g||w=="select"&&g.selectedIndex==-1)){return null}if(w=="select"){var p=g.selectedIndex;if(p<0){return null}var r=[],h=g.options;var l=(u=="select-one");var q=(l?p+1:h.length);for(var k=(l?p:0);k<q;k++){var m=h[k];if(m.selected){var s=m.value;if(!s){s=(m.attributes&&m.attributes.value&&!(m.attributes.value.specified))?m.text:m.value}if(l){return s}r.push(s)}}return r}return f(g).val()};f.fn.clearForm=function(g){return this.each(function(){f("input,select,textarea",this).clearFields(g)})};f.fn.clearFields=f.fn.clearInputs=function(g){var h=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var j=this.type,i=this.tagName.toLowerCase();if(h.test(j)||i=="textarea"){this.value=""}else{if(j=="checkbox"||j=="radio"){this.checked=false}else{if(i=="select"){this.selectedIndex=-1}else{if(j=="file"){if(/MSIE/.test(navigator.userAgent)){f(this).replaceWith(f(this).clone(true))}else{f(this).val("")}}else{if(g){if((g===true&&/hidden/.test(j))||(typeof g=="string"&&f(this).is(g))){this.value=""}}}}}}})};f.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()}})};f.fn.enable=function(g){if(g===undefined){g=true}return this.each(function(){this.disabled=!g})};f.fn.selected=function(g){if(g===undefined){g=true}return this.each(function(){var h=this.type;if(h=="checkbox"||h=="radio"){this.checked=g}else{if(this.tagName.toLowerCase()=="option"){var i=f(this).parent("select");if(g&&i[0]&&i[0].type=="select-one"){i.find("option").selected(false)}this.selected=g}}})};f.fn.ajaxSubmit.debug=false;function d(){if(!f.fn.ajaxSubmit.debug){return}var g="[jquery.form] "+Array.prototype.join.call(arguments,"");if(window.console&&window.console.log){window.console.log(g)}else{if(window.opera&&window.opera.postError){window.opera.postError(g)}}}}));
!function(b){"undefined"==typeof b.fn.each2&&b.extend(b.fn,{each2:function(a){for(var h=b([0]),g=-1,f=this.length;++g<f&&(h.context=h[0]=this[g])&&a.call(h[0],g,h)!==!1;){}return this}})}(jQuery),function(aC,aB){function ao(g){var f,j,i,h;if(!g||g.length<1){return g}for(f="",j=0,i=g.length;i>j;j++){h=g.charAt(j),f+=ap[h]||h}return f}function an(f,e){for(var h=0,g=e.length;g>h;h+=1){if(al(f,e[h])){return h}}return -1}function am(){var a=aC(aq);a.appendTo("body");var d={width:a.width()-a[0].clientWidth,height:a.height()-a[0].clientHeight};return a.remove(),d}function al(b,d){return b===d?!0:b===aB||d===aB?!1:null===b||null===d?!1:b.constructor===String?b+""==d+"":d.constructor===String?d+""==b+"":!1}function ak(a,j){var i,h,g;if(null===a||a.length<1){return[]}for(i=a.split(j),h=0,g=i.length;g>h;h+=1){i[h]=aC.trim(i[h])}return i}function aj(b){return b.outerWidth(!1)-b.width()}function ai(b){var a="keyup-change-value";b.on("keydown",function(){aC.data(b,a)===aB&&aC.data(b,a,b.val())}),b.on("keyup",function(){var c=aC.data(b,a);c!==aB&&b.val()!==c&&(aC.removeData(b,a),b.trigger("keyup-change"))})}function ah(a){a.on("mousemove",function(e){var b=au;(b===aB||b.x!==e.pageX||b.y!==e.pageY)&&aC(e.target).trigger("mousemove-filtered",e)})}function ag(b,h,g){g=g||aB;var f;return function(){var a=arguments;window.clearTimeout(f),f=window.setTimeout(function(){h.apply(g,a)},b)}}function af(e){var f,d=!1;return function(){return d===!1&&(f=e(),d=!0),f}}function ae(e,d){var f=ag(e,function(b){d.trigger("scroll-debounced",b)});d.on("scroll",function(b){an(b.target,d.get())>=0&&f(b)})}function ad(b){b[0]!==document.activeElement&&window.setTimeout(function(){var e,a=b[0],f=b.val().length;b.focus(),b.is(":visible")&&a===document.activeElement&&(a.setSelectionRange?a.setSelectionRange(f,f):a.createTextRange&&(e=a.createTextRange(),e.collapse(!1),e.select()))},0)}function ac(a){a=aC(a)[0];var h=0,g=0;if("selectionStart" in a){h=a.selectionStart,g=a.selectionEnd-h}else{if("selection" in document){a.focus();var f=document.selection.createRange();g=document.selection.createRange().text.length,f.moveStart("character",-a.value.length),h=f.text.length-g}}return{offset:h,length:g}}function ab(b){b.preventDefault(),b.stopPropagation()}function aa(b){b.preventDefault(),b.stopImmediatePropagation()}function Z(a){if(!av){var d=a[0].currentStyle||window.getComputedStyle(a[0],null);av=aC(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:d.fontSize,fontFamily:d.fontFamily,fontStyle:d.fontStyle,fontWeight:d.fontWeight,letterSpacing:d.letterSpacing,textTransform:d.textTransform,whiteSpace:"nowrap"}),av.attr("class","select2-sizer"),aC("body").append(av)}return av.text(a.val()),av.width()}function Y(a,l,k){var j,h,i=[];j=a.attr("class"),j&&(j=""+j,aC(j.split(" ")).each2(function(){0===this.indexOf("select2-")&&i.push(this)})),j=l.attr("class"),j&&(j=""+j,aC(j.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(h=k(this),h&&i.push(h))})),a.attr("class",i.join(" "))}function X(h,g,l,k){var j=ao(h.toUpperCase()).indexOf(ao(g.toUpperCase())),i=g.length;return 0>j?(l.push(k(h)),void 0):(l.push(k(h.substring(0,j))),l.push("<span class='select2-match'>"),l.push(k(h.substring(j,j+i))),l.push("</span>"),l.push(k(h.substring(j+i,h.length))),void 0)}function W(d){var c={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(d).replace(/[&<>"'\/\\]/g,function(b){return c[b]})}function V(l){var k,j=null,i=l.quietMillis||100,b=l.url,a=this;return function(c){window.clearTimeout(k),k=window.setTimeout(function(){var n=l.data,m=b,h=l.transport||aC.fn.select2.ajaxDefaults.transport,g={type:l.type||"GET",cache:l.cache||!1,jsonpCallback:l.jsonpCallback||aB,dataType:l.dataType||"json"},e=aC.extend({},aC.fn.select2.ajaxDefaults.params,g);n=n?n.call(a,c.term,c.page,c.context):null,m="function"==typeof m?m.call(a,c.term,c.page,c.context):m,j&&j.abort(),l.params&&(aC.isFunction(l.params)?aC.extend(e,l.params.call(a)):aC.extend(e,l.params)),aC.extend(e,{url:m,dataType:l.dataType,data:n,success:function(f){var d=l.results(f,c.page);c.callback(d)}}),j=h.call(a,e)},i)}}function U(a){var k,j,l=a,i=function(b){return""+b.text};aC.isArray(l)&&(j=l,l={results:j}),aC.isFunction(l)===!1&&(j=l,l=function(){return j});var h=l();return h.text&&(i=h.text,aC.isFunction(i)||(k=h.text,i=function(b){return b[k]})),function(c){var f,n=c.term,m={results:[]};return""===n?(c.callback(l()),void 0):(f=function(o,g){var d,b;if(o=o[0],o.children){d={};for(b in o){o.hasOwnProperty(b)&&(d[b]=o[b])}d.children=[],aC(o.children).each2(function(p,e){f(e,d.children)}),(d.children.length||c.matcher(n,i(d),o))&&g.push(d)}else{c.matcher(n,i(o),o)&&g.push(o)}},aC(l().results).each2(function(e,d){f(d,m.results)}),c.callback(m),void 0)}}function T(b){var a=aC.isFunction(b);return function(h){var d=h.term,c={results:[]};aC(a?b():b).each(function(){var e=this.text!==aB,f=e?this.text:this;(""===d||h.matcher(d,f))&&c.results.push(e?this:{id:this,text:this})}),h.callback(c)}}function S(a,d){if(aC.isFunction(a)){return !0}if(!a){return !1}throw new Error(d+" must be a function or a falsy value")}function R(a){return aC.isFunction(a)?a():a}function Q(a){var d=0;return aC.each(a,function(e,c){c.children?d+=Q(c.children):d++}),d}function P(v,u,t,s){var p,o,n,m,b,r=v,q=!1;if(!s.createSearchChoice||!s.tokenSeparators||s.tokenSeparators.length<1){return aB}for(;;){for(o=-1,n=0,m=s.tokenSeparators.length;m>n&&(b=s.tokenSeparators[n],o=v.indexOf(b),!(o>=0));n++){}if(0>o){break}if(p=v.substring(0,o),v=v.substring(o+b.length),p.length>0&&(p=s.createSearchChoice.call(this,p,u),p!==aB&&null!==p&&s.id(p)!==aB&&null!==s.id(p))){for(q=!1,n=0,m=u.length;m>n;n++){if(al(s.id(p),s.id(u[n]))){q=!0;break}}q||t(p)}}return r!==v?v:void 0}function O(a,f){var e=function(){};return e.prototype=new a,e.prototype.constructor=e,e.prototype.parent=a.prototype,e.prototype=aC.extend(e.prototype,f),e}if(window.Select2===aB){var aA,az,ay,ax,aw,av,at,ar,au={x:0,y:0},aA={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(b){switch(b=b.which?b.which:b){case aA.LEFT:case aA.RIGHT:case aA.UP:case aA.DOWN:return !0}return !1},isControl:function(d){var c=d.which;switch(c){case aA.SHIFT:case aA.CTRL:case aA.ALT:return !0}return d.metaKey?!0:!1},isFunctionKey:function(b){return b=b.which?b.which:b,b>=112&&123>=b}},aq="<div class='select2-measure-scrollbar'></div>",ap={"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z"};at=aC(document),aw=function(){var b=1;return function(){return b++}}(),at.on("mousemove",function(b){au.x=b.pageX,au.y=b.pageY}),az=O(Object,{bind:function(d){var c=this;return function(){d.apply(c,arguments)}},init:function(l){var k,j,g=".select2-results";this.opts=l=this.prepareOpts(l),this.id=l.id,l.element.data("select2")!==aB&&null!==l.element.data("select2")&&l.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(l.element.attr("id")||"autogen"+aw()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=af(function(){return l.element.closest("body")}),Y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",l.element.attr("style")),this.container.css(R(l.containerCss)),this.container.addClass(R(l.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",ab),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),Y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(R(l.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",ab),this.results=k=this.container.find(g),this.search=j=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",ab),ah(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",g,this.bind(this.highlightUnderEvent)),ae(80,this.results),this.dropdown.on("scroll-debounced",g,this.bind(this.loadMoreIfNeeded)),aC(this.container).on("change",".select2-input",function(c){c.stopPropagation()}),aC(this.dropdown).on("change",".select2-input",function(c){c.stopPropagation()}),aC.fn.mousewheel&&k.mousewheel(function(h,d,n,m){var i=k.scrollTop();m>0&&0>=i-m?(k.scrollTop(0),ab(h)):0>m&&k.get(0).scrollHeight-k.scrollTop()+m<=k.height()&&(k.scrollTop(k.get(0).scrollHeight-k.height()),ab(h))}),ai(j),j.on("keyup-change input paste",this.bind(this.updateResults)),j.on("focus",function(){j.addClass("select2-focused")}),j.on("blur",function(){j.removeClass("select2-focused")}),this.dropdown.on("mouseup",g,this.bind(function(c){aC(c.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(c),this.selectHighlighted(c))})),this.dropdown.on("click mouseup mousedown",function(c){c.stopPropagation()}),aC.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==l.maximumInputLength&&this.search.attr("maxlength",l.maximumInputLength);var b=l.element.prop("disabled");b===aB&&(b=!1),this.enable(!b);var a=l.element.prop("readonly");a===aB&&(a=!1),this.readonly(a),ar=ar||am(),this.autofocus=l.element.prop("autofocus"),l.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=aB},destroy:function(){var b=this.opts.element,d=b.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),d!==aB&&(d.container.remove(),d.dropdown.remove(),b.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?b.attr({tabindex:this.elementTabIndex}):b.removeAttr("tabindex"),b.show())},optionToData:function(b){return b.is("option")?{id:b.prop("value"),text:b.text(),element:b.get(),css:b.attr("class"),disabled:b.prop("disabled"),locked:al(b.attr("locked"),"locked")||al(b.data("locked"),!0)}:b.is("optgroup")?{text:b.attr("label"),children:[],element:b.get(),css:b.attr("class")}:void 0},prepareOpts:function(l){var k,j,i,b,a=this;if(k=l.element,"select"===k.get(0).tagName.toLowerCase()&&(this.select=j=l.element),j&&aC.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in l){throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}}),l=aC.extend({},{populateResults:function(o,n,m){var h,c=this.opts.id;h=function(C,B,A){var z,y,x,w,v,u,g,f,E,D;for(C=l.sortResults(C,B,m),z=0,y=C.length;y>z;z+=1){x=C[z],v=x.disabled===!0,w=!v&&c(x)!==aB,u=x.children&&x.children.length>0,g=aC("<li></li>"),g.addClass("select2-results-dept-"+A),g.addClass("select2-result"),g.addClass(w?"select2-result-selectable":"select2-result-unselectable"),v&&g.addClass("select2-disabled"),u&&g.addClass("select2-result-with-children"),g.addClass(a.opts.formatResultCssClass(x)),f=aC(document.createElement("div")),f.addClass("select2-result-label"),D=l.formatResult(x,f,m,a.opts.escapeMarkup),D!==aB&&f.html(D),g.append(f),u&&(E=aC("<ul></ul>"),E.addClass("select2-result-sub"),h(x.children,E,A+1),g.append(E)),g.data("select2-data",x),B.append(g)}},h(n,o,0)}},aC.fn.select2.defaults,l),"function"!=typeof l.id&&(i=l.id,l.id=function(c){return c[i]}),aC.isArray(l.element.data("select2Tags"))){if("tags" in l){throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+l.element.attr("id")}l.tags=l.element.data("select2Tags")}if(j?(l.query=this.bind(function(d){var n,m,h,p={results:[],more:!1},o=d.term;h=function(e,g){var f;e.is("option")?d.matcher(o,e.text(),e)&&g.push(a.optionToData(e)):e.is("optgroup")&&(f=a.optionToData(e),e.children().each2(function(q,c){h(c,f.children)}),f.children.length>0&&g.push(f))},n=k.children(),this.getPlaceholder()!==aB&&n.length>0&&(m=this.getPlaceholderOption(),m&&(n=n.not(m))),n.each2(function(e,c){h(c,p.results)}),d.callback(p)}),l.id=function(c){return c.id},l.formatResultCssClass=function(c){return c.css}):"query" in l||("ajax" in l?(b=l.element.data("ajax-url"),b&&b.length>0&&(l.ajax.url=b),l.query=V.call(l.element,l.ajax)):"data" in l?l.query=U(l.data):"tags" in l&&(l.query=T(l.tags),l.createSearchChoice===aB&&(l.createSearchChoice=function(c){return{id:aC.trim(c),text:aC.trim(c)}}),l.initSelection===aB&&(l.initSelection=function(c,g){var f=[];aC(ak(c.val(),l.separator)).each(function(){var e={id:this,text:this},h=l.tags;aC.isFunction(h)&&(h=h()),aC(h).each(function(){return al(this.id,e.id)?(e=this,!1):void 0}),f.push(e)}),g(f)}))),"function"!=typeof l.query){throw"query function not defined for Select2 "+l.element.attr("id")}return l},monitorSource:function(){var f,e,b=this.opts.element;b.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),f=this.bind(function(){var g=b.prop("disabled");g===aB&&(g=!1),this.enable(!g);var a=b.prop("readonly");a===aB&&(a=!1),this.readonly(a),Y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(R(this.opts.containerCssClass)),Y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(R(this.opts.dropdownCssClass))}),b.on("propertychange.select2",f),this.mutationCallback===aB&&(this.mutationCallback=function(c){c.forEach(f)}),e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,e!==aB&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new e(this.mutationCallback),this.propertyObserver.observe(b.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(a){var d=aC.Event("select2-selecting",{val:this.id(a),object:a});return this.opts.element.trigger(d),!d.isDefaultPrevented()},triggerChange:function(a){a=a||{},a=aC.extend({},a,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(a),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var d=this._enabled&&!this._readonly,c=!d;return d===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",c),this.close(),this.enabledInterface=d,!0)},enable:function(b){b===aB&&(b=!0),this._enabled!==b&&(this._enabled=b,this.opts.element.prop("disabled",!b),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(b){return b===aB&&(b=!1),this._readonly===b?!1:(this._readonly=b,this.opts.element.prop("readonly",b),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var A,z,y,k,a,aG=this.dropdown,aF=this.container.offset(),aE=this.container.outerHeight(!1),aD=this.container.outerWidth(!1),N=aG.outerHeight(!1),M=aC(window),L=M.width(),K=M.height(),J=M.scrollLeft()+L,I=M.scrollTop()+K,H=aF.top+aE,G=aF.left,F=I>=H+N,E=aF.top-N>=this.body().scrollTop(),D=aG.outerWidth(!1),C=J>=G+D,B=aG.hasClass("select2-drop-above");B?(z=!0,!E&&F&&(y=!0,z=!1)):(z=!1,!F&&E&&(y=!0,z=!0)),y&&(aG.hide(),aF=this.container.offset(),aE=this.container.outerHeight(!1),aD=this.container.outerWidth(!1),N=aG.outerHeight(!1),J=M.scrollLeft()+L,I=M.scrollTop()+K,H=aF.top+aE,G=aF.left,D=aG.outerWidth(!1),C=J>=G+D,aG.show()),this.opts.dropdownAutoWidth?(a=aC(".select2-results",aG)[0],aG.addClass("select2-drop-auto-width"),aG.css("width",""),D=aG.outerWidth(!1)+(a.scrollHeight===a.clientHeight?0:ar.width),D>aD?aD=D:D=aD,C=J>=G+D):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(A=this.body().offset(),H-=A.top,G-=A.left),C||(G=aF.left+aD-D),k={left:G,width:aD},z?(k.bottom=K-aF.top,k.top="auto",this.container.addClass("select2-drop-above"),aG.addClass("select2-drop-above")):(k.top=H,k.bottom="auto",this.container.removeClass("select2-drop-above"),aG.removeClass("select2-drop-above")),k=aC.extend(k,R(this.opts.dropdownCss)),aG.css(k)},shouldOpen:function(){var a;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(a=aC.Event("select2-opening"),this.opts.element.trigger(a),!a.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var i,a=this.containerId,l="scroll."+a,k="resize."+a,j="orientationchange."+a;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),i=aC("#select2-drop-mask"),0==i.length&&(i=aC(document.createElement("div")),i.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),i.hide(),i.appendTo(this.body()),i.on("mousedown touchstart click",function(e){var f,g=aC("#select2-drop");g.length>0&&(f=g.data("select2"),f.opts.selectOnBlur&&f.selectHighlighted({noFocus:!0}),f.close({focus:!0}),e.preventDefault(),e.stopPropagation())})),this.dropdown.prev()[0]!==i[0]&&this.dropdown.before(i),aC("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),i.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var h=this;this.container.parents().add(window).each(function(){aC(this).on(k+" "+l+" "+j,function(){h.positionDropdown()})})},close:function(){if(this.opened()){var a=this.containerId,h="scroll."+a,g="resize."+a,f="orientationchange."+a;this.container.parents().add(window).each(function(){aC(this).off(h).off(g).off(f)}),this.clearDropdownAlignmentPreference(),aC("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(aC.Event("select2-close"))}},externalSearch:function(b){this.open(),this.search.val(b),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return R(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var p,o,n,m,l,k,j,a=this.results;if(o=this.highlight(),!(0>o)){if(0==o){return a.scrollTop(0),void 0}p=this.findHighlightableChoices().find(".select2-result-label"),n=aC(p[o]),m=n.offset().top+n.outerHeight(!0),o===p.length-1&&(j=a.find("li.select2-more-results"),j.length>0&&(m=j.offset().top+j.outerHeight(!0))),l=a.offset().top+a.outerHeight(!0),m>l&&a.scrollTop(a.scrollTop()+(m-l)),k=n.offset().top-a.offset().top,0>k&&"none"!=n.css("display")&&a.scrollTop(a.scrollTop()+k)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(a){for(var h=this.findHighlightableChoices(),g=this.highlight();g>-1&&g<h.length;){g+=a;var f=aC(h[g]);if(f.hasClass("select2-result-selectable")&&!f.hasClass("select2-disabled")&&!f.hasClass("select2-selected")){this.highlight(g);break}}},highlight:function(a){var g,f,h=this.findHighlightableChoices();return 0===arguments.length?an(h.filter(".select2-highlighted")[0],h.get()):(a>=h.length&&(a=h.length-1),0>a&&(a=0),this.removeHighlight(),g=aC(h[a]),g.addClass("select2-highlighted"),this.ensureHighlightVisible(),f=g.data("select2-data"),f&&this.opts.element.trigger({type:"select2-highlight",val:this.id(f),choice:f}),void 0)},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(a){var f=aC(a.target).closest(".select2-result-selectable");if(f.length>0&&!f.is(".select2-highlighted")){var e=this.findHighlightableChoices();this.highlight(e.index(f))}else{0==f.length&&this.removeHighlight()}},loadMoreIfNeeded:function(){var n,i=this.results,h=i.find("li.select2-more-results"),m=this.resultsPage+1,l=this,k=this.search.val(),j=this.context;0!==h.length&&(n=h.offset().top-i.offset().top-i.height(),n<=this.opts.loadMorePadding&&(h.addClass("select2-active"),this.opts.query({element:this.opts.element,term:k,page:m,context:j,matcher:this.opts.matcher,callback:this.bind(function(a){l.opened()&&(l.opts.populateResults.call(this,i,a.results,{term:k,page:m,context:j}),l.postprocessResults(a,!1,!1),a.more===!0?(h.detach().appendTo(i).text(l.opts.formatLoadMore(m+1)),window.setTimeout(function(){l.loadMoreIfNeeded()},10)):h.remove(),l.positionDropdown(),l.resultsPage=m,l.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a}))})})))},tokenize:function(){},updateResults:function(z){function p(){y.removeClass("select2-active"),u.positionDropdown()}function b(c){x.html(c),p()}var v,t,q,y=this.search,x=this.results,w=this.opts,u=this,s=y.val(),r=aC.data(this.container,"select2-last-term");if((z===!0||!r||!al(s,r))&&(aC.data(this.container,"select2-last-term",s),z===!0||this.showSearchInput!==!1&&this.opened())){q=++this.queryCount;var a=this.getMaximumSelectionSize();if(a>=1&&(v=this.data(),aC.isArray(v)&&v.length>=a&&S(w.formatSelectionTooBig,"formatSelectionTooBig"))){return b("<li class='select2-selection-limit'>"+w.formatSelectionTooBig(a)+"</li>"),void 0}if(y.val().length<w.minimumInputLength){return S(w.formatInputTooShort,"formatInputTooShort")?b("<li class='select2-no-results'>"+w.formatInputTooShort(y.val(),w.minimumInputLength)+"</li>"):b(""),z&&this.showSearch&&this.showSearch(!0),void 0}if(w.maximumInputLength&&y.val().length>w.maximumInputLength){return S(w.formatInputTooLong,"formatInputTooLong")?b("<li class='select2-no-results'>"+w.formatInputTooLong(y.val(),w.maximumInputLength)+"</li>"):b(""),void 0}w.formatSearching&&0===this.findHighlightableChoices().length&&b("<li class='select2-searching'>"+w.formatSearching()+"</li>"),y.addClass("select2-active"),this.removeHighlight(),t=this.tokenize(),t!=aB&&null!=t&&y.val(t),this.resultsPage=1,w.query({element:w.element,term:y.val(),page:this.resultsPage,context:null,matcher:w.matcher,callback:this.bind(function(d){var c;if(q==this.queryCount){if(!this.opened()){return this.search.removeClass("select2-active"),void 0}if(this.context=d.context===aB?null:d.context,this.opts.createSearchChoice&&""!==y.val()&&(c=this.opts.createSearchChoice.call(u,y.val(),d.results),c!==aB&&null!==c&&u.id(c)!==aB&&null!==u.id(c)&&0===aC(d.results).filter(function(){return al(u.id(this),u.id(c))}).length&&d.results.unshift(c)),0===d.results.length&&S(w.formatNoMatches,"formatNoMatches")){return b("<li class='select2-no-results'>"+w.formatNoMatches(y.val())+"</li>"),void 0}x.empty(),u.opts.populateResults.call(this,x,d.results,{term:y.val(),page:this.resultsPage,context:null}),d.more===!0&&S(w.formatLoadMore,"formatLoadMore")&&(x.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(w.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(d,z),p(),this.opts.element.trigger({type:"select2-loaded",items:d})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){ad(this.search)},selectHighlighted:function(f){var e=this.highlight(),h=this.results.find(".select2-highlighted"),g=h.closest(".select2-result").data("select2-data");g?(this.highlight(e),this.onSelect(g,f)):f&&f.noFocus&&this.close()},getPlaceholder:function(){var b;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((b=this.getPlaceholderOption())!==aB?b.text():aB)},getPlaceholderOption:function(){if(this.select){var b=this.select.children("option").first();if(this.opts.placeholderOption!==aB){return"first"===this.opts.placeholderOption&&b||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select)}if(""===b.text()&&""===b.val()){return b}}},initContainerWidth:function(){function b(){var n,m,l,k,j,i;if("off"===this.opts.width){return null}if("element"===this.opts.width){return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"}if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==aB){for(m=n.split(";"),k=0,j=m.length;j>k;k+=1){if(i=m[k].replace(/\s/g,""),l=i.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==l&&l.length>=1){return l[1]}}}return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return aC.isFunction(this.opts.width)?this.opts.width():this.opts.width}var a=b.call(this);null!==a&&this.container.css("width",a)}}),ay=O(az,{createContainer:function(){var a=aC(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return a},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var f,b,a;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),f=this.search.get(0),f.createTextRange?(b=f.createTextRange(),b.collapse(!1),b.select()):f.setSelectionRange&&(a=this.search.val().length,f.setSelectionRange(a,a)),""===this.search.val()&&this.nextSearchTerm!=aB&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(aC.Event("select2-open"))},close:function(b){this.opened()&&(this.parent.close.apply(this,arguments),b=b||{focus:!0},this.focusser.removeAttr("disabled"),b.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){aC("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var a,f=this.container,c=this.dropdown;this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=a=f.find(".select2-choice"),this.focusser=f.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+aw()),aC("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(b){if(this.isInterfaceEnabled()){if(b.which===aA.PAGE_UP||b.which===aA.PAGE_DOWN){return ab(b),void 0}switch(b.which){case aA.UP:case aA.DOWN:return this.moveHighlight(b.which===aA.UP?-1:1),ab(b),void 0;case aA.ENTER:return this.selectHighlighted(),ab(b),void 0;case aA.TAB:return this.selectHighlighted({noFocus:!0}),void 0;case aA.ESC:return this.cancel(b),ab(b),void 0}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(b){if(this.isInterfaceEnabled()&&b.which!==aA.TAB&&!aA.isControl(b)&&!aA.isFunctionKey(b)&&b.which!==aA.ESC){if(this.opts.openOnEnter===!1&&b.which===aA.ENTER){return ab(b),void 0}if(b.which==aA.DOWN||b.which==aA.UP||b.which==aA.ENTER&&this.opts.openOnEnter){if(b.altKey||b.ctrlKey||b.shiftKey||b.metaKey){return}return this.open(),ab(b),void 0}return b.which==aA.DELETE||b.which==aA.BACKSPACE?(this.opts.allowClear&&this.clear(),ab(b),void 0):void 0}})),ai(this.focusser),this.focusser.on("keyup-change input",this.bind(function(b){if(this.opts.minimumResultsForSearch>=0){if(b.stopPropagation(),this.opened()){return}this.open()}})),a.on("mousedown","abbr",this.bind(function(b){this.isInterfaceEnabled()&&(this.clear(),aa(b),this.close(),this.selection.focus())})),a.on("mousedown",this.bind(function(d){this.container.hasClass("select2-container-active")||this.opts.element.trigger(aC.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),ab(d)})),c.on("mousedown",this.bind(function(){this.search.focus()})),a.on("focus",this.bind(function(b){ab(b)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(aC.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(aC.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(aC.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(a){var h=this.selection.data("select2-data");if(h){var g=aC.Event("select2-clearing");if(this.opts.element.trigger(g),g.isDefaultPrevented()){return}var f=this.getPlaceholderOption();this.opts.element.val(f?f.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),a!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(h),choice:h}),this.triggerChange({removed:h}))}},initSelection:function(){if(this.isPlaceholderOptionSelected()){this.updateSelection(null),this.close(),this.setPlaceholder()}else{var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==aB&&null!==b&&(a.updateSelection(b),a.close(),a.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var b;return this.getPlaceholder()?(b=this.getPlaceholderOption())!==aB&&b.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===aB||null===this.opts.element.val():!1},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),d=this;return"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(e,c){var f=e.find("option").filter(function(){return this.selected});c(d.optionToData(f))}:"data" in a&&(a.initSelection=a.initSelection||function(i,h){var g=i.val(),b=null;a.query({matcher:function(e,k,j){var f=al(g,a.id(j));return f&&(b=j),f},callback:aC.isFunction(h)?function(){h(b)}:aC.noop})}),a},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===aB?aB:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var b=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&b!==aB){if(this.select&&this.getPlaceholderOption()===aB){return}this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(b)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(h,f,l){var k=0,j=this;if(this.findHighlightableChoices().each2(function(d,c){return al(j.id(c.data("select2-data")),j.opts.element.val())?(k=d,!1):void 0}),l!==!1&&(f===!0&&k>=0?this.highlight(k):this.highlight(0)),f===!0){var i=this.opts.minimumResultsForSearch;i>=0&&this.showSearch(Q(h.results)>=i)}},showSearch:function(a){this.showSearchInput!==a&&(this.showSearchInput=a,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!a),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!a),aC(this.dropdown,this.container).toggleClass("select2-with-searchbox",a))},onSelect:function(f,e){if(this.triggerSelect(f)){var h=this.opts.element.val(),g=this.data();this.opts.element.val(this.id(f)),this.updateSelection(f),this.opts.element.trigger({type:"select2-selected",val:this.id(f),choice:f}),this.nextSearchTerm=this.opts.nextSearchTerm(f,this.search.val()),this.close(),e&&e.noFocus||this.focusser.focus(),al(h,this.id(f))||this.triggerChange({added:f,removed:g})}},updateSelection:function(b){var g,f,h=this.selection.find(".select2-chosen");this.selection.data("select2-data",b),h.empty(),null!==b&&(g=this.opts.formatSelection(b,h,this.opts.escapeMarkup)),g!==aB&&h.append(g),f=this.opts.formatSelectionCssClass(b,h),f!==aB&&h.addClass(f),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==aB&&this.container.addClass("select2-allowclear")},val:function(){var b,j=!1,i=null,h=this,g=this.data();if(0===arguments.length){return this.opts.element.val()}if(b=arguments[0],arguments.length>1&&(j=arguments[1]),this.select){this.select.val(b).find("option").filter(function(){return this.selected}).each2(function(d,c){return i=h.optionToData(c),!1}),this.updateSelection(i),this.setPlaceholder(),j&&this.triggerChange({added:i,removed:g})}else{if(!b&&0!==b){return this.clear(j),void 0}if(this.opts.initSelection===aB){throw new Error("cannot call val() if initSelection() is not defined")}this.opts.element.val(b),this.opts.initSelection(this.opts.element,function(c){h.opts.element.val(c?h.id(c):""),h.updateSelection(c),h.setPlaceholder(),j&&h.triggerChange({added:c,removed:g})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(b){var f,e=!1;return 0===arguments.length?(f=this.selection.data("select2-data"),f==aB&&(f=null),f):(arguments.length>1&&(e=arguments[1]),b?(f=this.data(),this.opts.element.val(b?this.id(b):""),this.updateSelection(b),e&&this.triggerChange({added:b,removed:f})):this.clear(e),void 0)}}),ax=O(az,{createContainer:function(){var a=aC(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return a},prepareOpts:function(){var a=this.parent.prepareOpts.apply(this,arguments),d=this;return"select"===a.element.get(0).tagName.toLowerCase()?a.initSelection=function(e,c){var f=[];e.find("option").filter(function(){return this.selected}).each2(function(h,g){f.push(d.optionToData(g))}),c(f)}:"data" in a&&(a.initSelection=a.initSelection||function(i,h){var g=ak(i.val(),a.separator),b=[];a.query({matcher:function(k,j,f){var e=aC.grep(g,function(c){return al(c,a.id(f))}).length;return e&&b.push(f),e},callback:aC.isFunction(h)?function(){for(var e=[],l=0;l<g.length;l++){for(var k=g[l],j=0;j<b.length;j++){var f=b[j];if(al(k,a.id(f))){e.push(f),b.splice(j,1);break}}}h(e)}:aC.noop})}),a},selectChoice:function(d){var c=this.container.find(".select2-search-choice-focus");c.length&&d&&d[0]==c[0]||(c.length&&this.opts.element.trigger("choice-deselected",c),c.removeClass("select2-search-choice-focus"),d&&d.length&&(this.close(),d.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",d)))},destroy:function(){aC("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var f,a=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=f=this.container.find(a);var c=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){c.search[0].focus(),c.selectChoice(aC(this))}),this.search.attr("id","s2id_autogen"+aw()),aC("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(i){if(this.isInterfaceEnabled()){++this.keydowns;var d=f.find(".select2-search-choice-focus"),m=d.prev(".select2-search-choice:not(.select2-locked)"),l=d.next(".select2-search-choice:not(.select2-locked)"),k=ac(this.search);if(d.length&&(i.which==aA.LEFT||i.which==aA.RIGHT||i.which==aA.BACKSPACE||i.which==aA.DELETE||i.which==aA.ENTER)){var j=d;return i.which==aA.LEFT&&m.length?j=m:i.which==aA.RIGHT?j=l.length?l:null:i.which===aA.BACKSPACE?(this.unselect(d.first()),this.search.width(10),j=m.length?m:l):i.which==aA.DELETE?(this.unselect(d.first()),this.search.width(10),j=l.length?l:null):i.which==aA.ENTER&&(j=null),this.selectChoice(j),ab(i),j&&j.length||this.open(),void 0}if((i.which===aA.BACKSPACE&&1==this.keydowns||i.which==aA.LEFT)&&0==k.offset&&!k.length){return this.selectChoice(f.find(".select2-search-choice:not(.select2-locked)").last()),ab(i),void 0}if(this.selectChoice(null),this.opened()){switch(i.which){case aA.UP:case aA.DOWN:return this.moveHighlight(i.which===aA.UP?-1:1),ab(i),void 0;case aA.ENTER:return this.selectHighlighted(),ab(i),void 0;case aA.TAB:return this.selectHighlighted({noFocus:!0}),this.close(),void 0;case aA.ESC:return this.cancel(i),ab(i),void 0}}if(i.which!==aA.TAB&&!aA.isControl(i)&&!aA.isFunctionKey(i)&&i.which!==aA.BACKSPACE&&i.which!==aA.ESC){if(i.which===aA.ENTER){if(this.opts.openOnEnter===!1){return}if(i.altKey||i.ctrlKey||i.shiftKey||i.metaKey){return}}this.open(),(i.which===aA.PAGE_UP||i.which===aA.PAGE_DOWN)&&ab(i),i.which===aA.ENTER&&ab(i)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(d){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),d.stopImmediatePropagation(),this.opts.element.trigger(aC.Event("select2-blur"))})),this.container.on("click",a,this.bind(function(d){this.isInterfaceEnabled()&&(aC(d.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(aC.Event("select2-focus")),this.open(),this.focusSearch(),d.preventDefault()))})),this.container.on("focus",a,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(aC.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var a=this;this.opts.initSelection.call(null,this.opts.element,function(b){b!==aB&&null!==b&&(a.updateSelection(b),a.close(),a.clearSearch())})}},clearSearch:function(){var b=this.getPlaceholder(),d=this.getMaxSearchWidth();b!==aB&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(b).addClass("select2-default"),this.search.width(d>0?d:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(aC.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(a){var h=[],g=[],f=this;aC(a).each(function(){an(f.id(this),h)<0&&(h.push(f.id(this)),g.push(this))}),a=g,this.selection.find(".select2-search-choice").remove(),aC(a).each(function(){f.addSelectedChoice(this)}),f.postprocessResults()},tokenize:function(){var b=this.search.val();b=this.opts.tokenizer.call(this,b,this.data(),this.bind(this.onSelect),this.opts),null!=b&&b!=aB&&(this.search.val(b),b.length>0&&this.open())},onSelect:function(d,c){this.triggerSelect(d)&&(this.addSelectedChoice(d),this.opts.element.trigger({type:"selected",val:this.id(d),choice:d}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(d,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:d}),c&&c.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(r){var b,a,q=!r.locked,p=aC("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=aC("<li class='select2-search-choice select2-locked'><div></div></li>"),n=q?p:o,m=this.id(r),l=this.getVal();b=this.opts.formatSelection(r,n.find("div"),this.opts.escapeMarkup),b!=aB&&n.find("div").replaceWith("<div>"+b+"</div>"),a=this.opts.formatSelectionCssClass(r,n.find("div")),a!=aB&&n.addClass(a),q&&n.find(".select2-search-choice-close").on("mousedown",ab).on("click dblclick",this.bind(function(c){this.isInterfaceEnabled()&&(aC(c.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(aC(c.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),ab(c))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),n.data("select2-data",r),n.insertBefore(this.searchContainer),l.push(m),this.setVal(l)},unselect:function(a){var i,h,j=this.getVal();if(a=a.closest(".select2-search-choice"),0===a.length){throw"Invalid argument: "+a+". Must be .select2-search-choice"}if(i=a.data("select2-data")){for(;(h=an(this.id(i),j))>=0;){j.splice(h,1),this.setVal(j),this.select&&this.postprocessResults()}var g=aC.Event("select2-removing");g.val=this.id(i),g.choice=i,this.opts.element.trigger(g),g.isDefaultPrevented()||(a.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(i),choice:i}),this.triggerChange({removed:i}))}},postprocessResults:function(i,h,n){var m=this.getVal(),l=this.results.find(".select2-result"),k=this.results.find(".select2-result-with-children"),j=this;l.each2(function(e,d){var f=j.id(d.data("select2-data"));an(f,m)>=0&&(d.addClass("select2-selected"),d.find(".select2-result-selectable").addClass("select2-selected"))}),k.each2(function(d,c){c.is(".select2-result-selectable")||0!==c.find(".select2-result-selectable:not(.select2-selected)").length||c.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&j.highlight(0),!this.opts.createSearchChoice&&!l.filter(".select2-result:not(.select2-selected)").length>0&&(!i||i&&!i.more&&0===this.results.find(".select2-no-results").length)&&S(j.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+j.opts.formatNoMatches(j.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-aj(this.search)},resizeSearch:function(){var h,g,l,k,j,i=aj(this.search);h=Z(this.search)+10,g=this.search.offset().left,l=this.selection.width(),k=this.selection.offset().left,j=l-(g-k)-i,h>j&&(j=l-i),40>j&&(j=l-i),0>=j&&(j=h),this.search.width(Math.floor(j))},getVal:function(){var b;return this.select?(b=this.select.val(),null===b?[]:b):(b=this.opts.element.val(),ak(b,this.opts.separator))},setVal:function(a){var d;this.select?this.select.val(a):(d=[],aC(a).each(function(){an(this,d)<0&&d.push(this)}),this.opts.element.val(0===d.length?"":d.join(this.opts.separator)))},buildChangeDetails:function(f,e){for(var e=e.slice(0),f=f.slice(0),h=0;h<e.length;h++){for(var g=0;g<f.length;g++){al(this.opts.id(e[h]),this.opts.id(f[g]))&&(e.splice(h,1),h>0&&h--,f.splice(g,1),g--)}}return{added:e,removed:f}},val:function(h,g){var b,a=this;if(0===arguments.length){return this.getVal()}if(b=this.data(),b.length||(b=[]),!h&&0!==h){return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),g&&this.triggerChange({added:this.data(),removed:b}),void 0}if(this.setVal(h),this.select){this.opts.initSelection(this.select,this.bind(this.updateSelection)),g&&this.triggerChange(this.buildChangeDetails(b,this.data()))}else{if(this.opts.initSelection===aB){throw new Error("val() cannot be called if initSelection() is not defined")}this.opts.initSelection(this.opts.element,function(d){var e=aC.map(d,a.id);a.setVal(e),a.updateSelection(d),a.clearSearch(),g&&a.triggerChange(a.buildChangeDetails(b,a.data()))})}this.clearSearch()},onSortStart:function(){if(this.select){throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.")}this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var a=[],d=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){a.push(d.opts.id(aC(this).data("select2-data")))}),this.setVal(a),this.triggerChange()},data:function(a,j){var h,g,i=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return aC(this).data("select2-data")}).get():(g=this.data(),a||(a=[]),h=aC.map(a,function(b){return i.opts.id(b)}),this.setVal(h),this.updateSelection(a),this.clearSearch(),j&&this.triggerChange(this.buildChangeDetails(g,this.data())),void 0)}}),aC.fn.select2=function(){var s,r,q,p,o,t=Array.prototype.slice.call(arguments,0),f=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],e=["opened","isFocused","container","dropdown"],b=["val","data"],a={search:"externalSearch"};return this.each(function(){if(0===t.length||"object"==typeof t[0]){s=0===t.length?{}:aC.extend({},t[0]),s.element=aC(this),"select"===s.element.get(0).tagName.toLowerCase()?o=s.element.prop("multiple"):(o=s.multiple||!1,"tags" in s&&(s.multiple=o=!0)),r=o?new ax:new ay,r.init(s)}else{if("string"!=typeof t[0]){throw"Invalid arguments to select2 plugin: "+t}if(an(t[0],f)<0){throw"Unknown method: "+t[0]}if(p=aB,r=aC(this).data("select2"),r===aB){return}if(q=t[0],"container"===q?p=r.container:"dropdown"===q?p=r.dropdown:(a[q]&&(q=a[q]),p=r[q].apply(r,t.slice(1))),an(t[0],e)>=0||an(t[0],b)&&1==t.length){return !1}}}),p===aB?this:p},aC.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(g,f,j,i){var h=[];return X(g.text,j.term,h,i),h.join("")},formatSelection:function(b,f,e){return b?e(b.text):aB},sortResults:function(b){return b},formatResultCssClass:function(){return aB},formatSelectionCssClass:function(){return aB},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,d){var f=d-e.length;return"Please enter "+f+" more character"+(1==f?"":"s")},formatInputTooLong:function(e,d){var f=e.length-d;return"Please delete "+f+" character"+(1==f?"":"s")},formatSelectionTooBig:function(b){return"You can only select "+b+" item"+(1==b?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(b){return b.id},matcher:function(d,c){return ao(""+c).toUpperCase().indexOf(ao(""+d).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:P,escapeMarkup:W,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(b){return b},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return aB}},aC.fn.select2.ajaxDefaults={transport:aC.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:V,local:U,tags:T},util:{debounce:ag,markMatch:X,escapeMarkup:W,stripDiacritics:ao},"class":{"abstract":az,single:ay,multi:ax}}}}(jQuery);
$(document).ready(function(){$(".select2-ajax").each(function(){var b=$(this).attr("id");var a=$(this).attr("name");select2_ajax($(this),b,a)});$(".select2-static").each(function(){var b=$(this).attr("id");var a=$(this).attr("name");select2_static($(this),b,a)})});function select2_ajax(c,d,b){var a="/admin/relashionship/";$(c).select2({placeholder:"Selecionar",minimumInputLength:2,multiple:true,tokenSeparators:[","],ajax:{url:a,dataType:"json",data:function(e){return{q:e,currentSection:d,relationshipSection:b}},results:function(e){return{results:e}}},initSelection:function(e,f){$.ajax(a,{type:"POST",dataType:"json",data:{id:e.val(),currentSection:d,relationshipSection:b}}).done(function(g){e.removeAttr("value");f(g)})},createSearchChoice:function(e,f){if($(f).filter(function(){return this.text.localeCompare(e)===0}).length===0){return{id:e,text:e}}}});select2_drag(c,d,b,a)}function select2_static(c,d,b,a){var a="/admin/relashionship/";$.ajax({url:a,dataType:"json",data:{q:"",currentSection:d,relationshipSection:b}}).done(function(e){$(c).select2({placeholder:"Selecionar",multiple:true,tokenSeparators:[","],data:e,initSelection:function(f,g){$.ajax(a,{type:"POST",dataType:"json",data:{id:f.val(),currentSection:d,relationshipSection:b}}).done(function(h){f.removeAttr("value");g(h)})}});select2_drag(c,d,b,a)})}function select2_drag(c,d,b,a){$(c).select2("container").find("ul.select2-choices").sortable({containment:"parent",start:function(){$(c).select2("onSortStart")},update:function(){$(c).select2("onSortEnd")}});$(c).next().find(".select2-btn-clear").click(function(){$(c).select2("val","")});$(c).next().find(".select2-btn-all").click(function(){$.ajax({url:a,dataType:"json",data:{q:"",currentSection:d,relationshipSection:b}}).done(function(e){$(c).select2("data",e)})})};
(function(i,e,g){var o={beforeShow:b,move:b,change:b,show:b,hide:b,color:false,flat:false,showInput:false,allowEmpty:false,showButtons:true,clickoutFiresChange:false,showInitial:false,showPalette:false,showPaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",preferredFormat:false,className:"",showAlpha:false,theme:"sp-light",palette:["fff","000"],selectionPalette:[],disabled:false},d=[],j=!!/msie/i.exec(i.navigator.userAgent),m=(function(){function w(A,z){return !!~(""+A).indexOf(z)}var y=document.createElement("div");var x=y.style;x.cssText="background-color:rgba(0,0,0,.5)";return w(x.backgroundColor,"rgba")||w(x.backgroundColor,"hsla")})(),n=(function(){var w=e("<input type='color' value='!' />")[0];return w.type==="color"&&w.value!=="!"})(),s=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),r=(function(){var w="";if(j){for(var x=1;x<=6;x++){w+="<div class='sp-"+x+"'></div>"}}return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display' title='Clear Color Selection'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",w,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("")})();function v(x,z,D){var B=[];for(var A=0;A<x.length;A++){var C=x[A];if(C){var w=tinycolor(C);var E=w.toHsl().l<0.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";E+=(tinycolor.equals(z,C))?" sp-thumb-active":"";var y=m?("background-color:"+w.toRgbString()):"filter:"+w.toFilter();B.push('<span title="'+w.toRgbString()+'" data-color="'+w.toRgbString()+'" class="'+E+'"><span class="sp-thumb-inner" style="'+y+';" /></span>')}else{var F="sp-clear-display";B.push('<span title="No Color Selected" data-color="" style="background-color:transparent;" class="'+F+'"></span>')}}return"<div class='sp-cf "+D+"'>"+B.join("")+"</div>"}function q(){for(var w=0;w<d.length;w++){if(d[w]){d[w].hide()}}}function p(y,w){var x=e.extend({},o,y);x.callbacks={move:u(x.move,w),change:u(x.change,w),show:u(x.show,w),hide:u(x.hide,w),beforeShow:u(x.beforeShow,w)};return x}function t(a2,ah){var a1=p(ah,a2),aY=a1.flat,X=a1.showSelectionPalette,x=a1.localStorageKey,aj=a1.theme,S=a1.callbacks,F=f(ad,10),P=false,aJ=0,af=0,aK=0,aw=0,M=0,av=0,aT=0,ao=0,Z=0,Q=0,az=0,aU=1,ai=a1.palette.slice(0),ak=e.isArray(ai[0])?ai:[ai],aF=a1.selectionPalette.slice(0),aE=a1.maxSelectionSize,y="sp-dragging",H=null;var Y=a2.ownerDocument,O=Y.body,E=e(a2),aR=false,aL=e(r,Y).addClass(aj),J=aL.find(".sp-color"),aI=aL.find(".sp-dragger"),N=aL.find(".sp-hue"),aX=aL.find(".sp-slider"),aB=aL.find(".sp-alpha-inner"),aa=aL.find(".sp-alpha"),aC=aL.find(".sp-alpha-handle"),L=aL.find(".sp-input"),R=aL.find(".sp-palette"),a0=aL.find(".sp-initial"),an=aL.find(".sp-cancel"),al=aL.find(".sp-clear"),I=aL.find(".sp-choose"),T=E.is("input"),C=T&&n&&E.attr("type")==="color",ay=T&&!aY,aP=(ay)?e(s).addClass(aj).addClass(a1.className):e([]),at=(ay)?aP:E,K=aP.find(".sp-preview-inner"),U=a1.color||(T&&E.val()),aM=false,W=a1.preferredFormat,aq=W,G=!a1.showButtons||a1.clickoutFiresChange,D=!U,aZ=a1.allowEmpty&&!C;function w(){if(a1.showPaletteOnly){a1.showPalette=true}aL.toggleClass("sp-flat",aY);aL.toggleClass("sp-input-disabled",!a1.showInput);aL.toggleClass("sp-alpha-enabled",a1.showAlpha);aL.toggleClass("sp-clear-enabled",aZ);aL.toggleClass("sp-buttons-disabled",!a1.showButtons);aL.toggleClass("sp-palette-disabled",!a1.showPalette);aL.toggleClass("sp-palette-only",a1.showPaletteOnly);aL.toggleClass("sp-initial-disabled",!a1.showInitial);aL.addClass(a1.className);ad()}function aG(){if(j){aL.find("*:not(input)").attr("unselectable","on")}w();if(ay){E.after(aP).hide()}if(!aZ){al.hide()}if(aY){E.after(aL).hide()}else{var a7=a1.appendTo==="parent"?E.parent():e(a1.appendTo);if(a7.length!==1){a7=e("body")}a7.append(aL)}if(x&&i.localStorage){try{var a5=i.localStorage[x].split(",#");if(a5.length>1){delete i.localStorage[x];e.each(a5,function(a9,ba){aQ(ba)})}}catch(a8){}try{aF=i.localStorage[x].split(";")}catch(a8){}}at.bind("click.spectrum touchstart.spectrum",function(a9){if(!aR){au()}a9.stopPropagation();if(!e(a9.target).is("input")){a9.preventDefault()}});if(E.is(":disabled")||(a1.disabled===true)){V()}aL.click(l);L.change(aN);L.bind("paste",function(){setTimeout(aN,1)});L.keydown(function(a9){if(a9.keyCode==13){aN()}});an.text(a1.cancelText);an.bind("click.spectrum",function(a9){a9.stopPropagation();a9.preventDefault();aD("cancel")});al.bind("click.spectrum",function(a9){a9.stopPropagation();a9.preventDefault();D=true;aH();if(aY){am(true)}});I.text(a1.chooseText);I.bind("click.spectrum",function(a9){a9.stopPropagation();a9.preventDefault();if(ax()){am(true);aD()}});c(aa,function(bb,ba,a9){aU=(bb/av);D=false;if(a9.shiftKey){aU=Math.round(aU*10)/10}aH()});c(N,function(ba,a9){Z=parseFloat(a9/aw);D=false;aH()},B,a3);c(J,function(bg,be,bd){if(!bd.shiftKey){H=null}else{if(!H){var bb=Q*aJ;var a9=af-(az*af);var ba=Math.abs(bg-bb)>Math.abs(be-a9);H=ba?"x":"y"}}var bc=!H||H==="x";var bf=!H||H==="y";if(bc){Q=parseFloat(bg/aJ)}if(bf){az=parseFloat((af-be)/af)}D=false;aH()},B,a3);if(!!U){ac(U);aA();aq=W||tinycolor(U).format;aQ(U)}else{aA()}if(aY){A()}function a6(a9){if(a9.data&&a9.data.ignore){ac(e(this).data("color"));aH()}else{ac(e(this).data("color"));am(true);aH();aD()}return false}var a4=j?"mousedown.spectrum":"click.spectrum touchstart.spectrum";R.delegate(".sp-thumb-el",a4,a6);a0.delegate(".sp-thumb-el:nth-child(1)",a4,{ignore:true},a6)}function aQ(a4){if(X){var a6=tinycolor(a4).toRgbString();if(e.inArray(a6,aF)===-1){aF.push(a6);while(aF.length>aE){aF.shift()}}if(x&&i.localStorage){try{i.localStorage[x]=aF.join(";")}catch(a5){}}}}function aS(){var a9=[];var a8=aF;var a7={};var a5;if(a1.showPalette){for(var a6=0;a6<ak.length;a6++){for(var a4=0;a4<ak[a6].length;a4++){a5=tinycolor(ak[a6][a4]).toRgbString();a7[a5]=true}}for(a6=0;a6<a8.length;a6++){a5=tinycolor(a8[a6]).toRgbString();if(!a7.hasOwnProperty(a5)){a9.push(a8[a6]);a7[a5]=true}}}return a9.reverse().slice(0,a1.maxSelectionSize)}function aV(){var a4=aO();var a5=e.map(ak,function(a6,a7){return v(a6,a4,"sp-palette-row sp-palette-row-"+a7)});if(aF){a5.push(v(aS(),a4,"sp-palette-row sp-palette-row-selection"))}R.html(a5.join(""))}function ap(){if(a1.showInitial){var a4=aM;var a5=aO();a0.html(v([a4,a5],a5,"sp-palette-row-initial"))}}function B(){if(af<=0||aJ<=0||aw<=0){ad()}aL.addClass(y);H=null}function a3(){aL.removeClass(y)}function aN(){var a5=L.val();if((a5===null||a5==="")&&aZ){ac(null)}else{var a4=tinycolor(a5);if(a4.ok){ac(a4)}else{L.addClass("sp-validation-error")}}}function au(){if(P){aD()}else{A()}}function A(){var a4=e.Event("beforeShow.spectrum");if(P){ad();return}E.trigger(a4,[aO()]);if(S.beforeShow(aO())===false||a4.isDefaultPrevented()){return}q();P=true;e(Y).bind("click.spectrum",aD);e(i).bind("resize.spectrum",F);aP.addClass("sp-active");aL.removeClass("sp-hidden");if(a1.showPalette){aV()}ad();aA();aM=aO();ap();S.show(aM);E.trigger("show.spectrum",[aM])}function aD(a5){if(a5&&a5.type=="click"&&a5.button==2){return}if(!P||aY){return}P=false;e(Y).unbind("click.spectrum",aD);e(i).unbind("resize.spectrum",F);aP.removeClass("sp-active");aL.addClass("sp-hidden");var a4=!tinycolor.equals(aO(),aM);if(a4){if(G&&a5!=="cancel"){am(true)}else{ar()}}S.hide(aO());E.trigger("hide.spectrum",[aO()])}function ar(){ac(aM,true)}function ac(a4,a6){if(tinycolor.equals(a4,aO())){return}var a5;if(!a4&&aZ){D=true}else{D=false;a5=tinycolor(a4);var a7=a5.toHsv();Z=(a7.h%360)/360;Q=a7.s;az=a7.v;aU=a7.a}aA();if(a5&&a5.ok&&!a6){aq=W||a5.format}}function aO(a4){a4=a4||{};if(aZ&&D){return null}return tinycolor.fromRatio({h:Z,s:Q,v:az,a:Math.round(aU*100)/100},{format:a4.format||aq})}function ax(){return !L.hasClass("sp-validation-error")}function aH(){aA();S.move(aO());E.trigger("move.spectrum",[aO()])}function aA(){L.removeClass("sp-validation-error");aW();var a6=tinycolor.fromRatio({h:Z,s:1,v:1});J.css("background-color",a6.toHexString());var bb=aq;if(aU<1){if(bb==="hex"||bb==="hex3"||bb==="hex6"||bb==="name"){bb="rgb"}}var a4=aO({format:bb}),a7="";K.removeClass("sp-clear-display");K.css("background-color","transparent");if(!a4&&aZ){K.addClass("sp-clear-display")}else{var a8=a4.toHexString(),bc=a4.toRgbString();if(m||a4.alpha===1){K.css("background-color",bc)}else{K.css("background-color","transparent");K.css("filter",a4.toFilter())}if(a1.showAlpha){var a9=a4.toRgb();a9.a=0;var a5=tinycolor(a9).toRgbString();var ba="linear-gradient(left, "+a5+", "+a8+")";if(j){aB.css("filter",tinycolor(a5).toFilter({gradientType:1},a8))}else{aB.css("background","-webkit-"+ba);aB.css("background","-moz-"+ba);aB.css("background","-ms-"+ba);aB.css("background",ba)}}a7=a4.toString(bb)}if(a1.showInput){L.val(a7)}if(a1.showPalette){aV()}ap()}function aW(){var a6=Q;var a4=az;if(aZ&&D){aC.hide();aX.hide();aI.hide()}else{aC.show();aX.show();aI.show();var a9=a6*aJ;var a7=af-(a4*af);a9=Math.max(-aK,Math.min(aJ-aK,a9-aK));a7=Math.max(-aK,Math.min(af-aK,a7-aK));aI.css({top:a7,left:a9});var a5=aU*av;aC.css({left:a5-(aT/2)});var a8=(Z)*aw;aX.css({top:a8-ao})}}function am(a5){var a4=aO(),a7="",a6=!tinycolor.equals(a4,aM);if(a4){a7=a4.toString(aq);aQ(a4)}if(T){E.val(a7)}aM=a4;if(a5&&a6){S.change(a4);E.trigger("change",[a4])}}function ad(){aJ=J.width();af=J.height();aK=aI.height();M=N.width();aw=N.height();ao=aX.height();av=aa.width();aT=aC.width();if(!aY){aL.css("position","absolute");aL.offset(a(aL,at))}aW()}function z(){E.show();at.unbind("click.spectrum touchstart.spectrum");aL.remove();aP.remove();d[ae.id]=null}function ab(a4,a5){if(a4===g){return e.extend({},a1)}if(a5===g){return a1[a4]}a1[a4]=a5;w()}function ag(){aR=false;E.attr("disabled",false);at.removeClass("sp-disabled")}function V(){aD();aR=true;E.attr("disabled",true);at.addClass("sp-disabled")}aG();var ae={show:A,hide:aD,toggle:au,reflow:ad,option:ab,enable:ag,disable:V,set:function(a4){ac(a4);am()},get:aO,destroy:z,container:aL};ae.id=d.push(ae)-1;return ae}function a(D,E){var C=0;var A=D.outerWidth();var G=D.outerHeight();var w=E.outerHeight();var F=D[0].ownerDocument;var x=F.documentElement;var B=x.clientWidth+e(F).scrollLeft();var y=x.clientHeight+e(F).scrollTop();var z=E.offset();z.top+=w;z.left-=Math.min(z.left,(z.left+A>B&&B>A)?Math.abs(z.left+A-B):0);z.top-=Math.min(z.top,((z.top+G>y&&y>G)?Math.abs(G+w-C):C));return z}function b(){}function l(w){w.stopPropagation()}function u(x,y){var z=Array.prototype.slice;var w=z.call(arguments,2);return function(){return x.apply(y,w.concat(z.call(arguments)))}}function c(B,G,x,y){G=G||function(){};x=x||function(){};y=y||function(){};var H=B.ownerDocument||document;var J=false;var A={};var K=0;var I=0;var D=("ontouchstart" in i);var C={};C.selectstart=F;C.dragstart=F;C["touchmove mousemove"]=z;C["touchend mouseup"]=E;function F(L){if(L.stopPropagation){L.stopPropagation()}if(L.preventDefault){L.preventDefault()}L.returnValue=false}function z(P){if(J){if(j&&document.documentMode<9&&!P.button){return E()}var O=P.originalEvent.touches;var M=O?O[0].pageX:P.pageX;var L=O?O[0].pageY:P.pageY;var Q=Math.max(0,Math.min(M-A.left,I));var N=Math.max(0,Math.min(L-A.top,K));if(D){F(P)}G.apply(B,[Q,N,P])}}function w(N){var L=(N.which)?(N.which==3):(N.button==2);var M=N.originalEvent.touches;if(!L&&!J){if(x.apply(B,arguments)!==false){J=true;K=e(B).height();I=e(B).width();A=e(B).offset();e(H).bind(C);e(H.body).addClass("sp-dragging");if(!D){z(N)}F(N)}}}function E(){if(J){e(H).unbind(C);e(H.body).removeClass("sp-dragging");y.apply(B,arguments)}J=false}e(B).bind("touchstart mousedown",w)}function f(x,z,w){var y;return function(){var B=this,A=arguments;var C=function(){y=null;x.apply(B,A)};if(w){clearTimeout(y)}if(w||!y){y=setTimeout(C,z)}}}function h(){if(i.console){if(Function.prototype.bind){h=Function.prototype.bind.call(console.log,console)}else{h=function(){Function.prototype.apply.call(console.log,console,arguments)}}h.apply(this,arguments)}}var k="spectrum.id";e.fn.spectrum=function(z,w){if(typeof z=="string"){var y=this;var x=Array.prototype.slice.call(arguments,1);this.each(function(){var A=d[e(this).data(k)];if(A){var B=A[z];if(!B){throw new Error("Spectrum: no such method: '"+z+"'")}if(z=="get"){y=A.get()}else{if(z=="container"){y=A.container}else{if(z=="option"){y=A.option.apply(A,x)}else{if(z=="destroy"){A.destroy();e(this).removeData(k)}else{B.apply(A,x)}}}}}});return y}return this.spectrum("destroy").each(function(){var A=t(this,z);e(this).data(k,A.id)})};e.fn.spectrum.load=true;e.fn.spectrum.loadOpts={};e.fn.spectrum.draggable=c;e.fn.spectrum.defaults=o;e.spectrum={};e.spectrum.localization={};e.spectrum.palettes={};e.fn.spectrum.processNativeColorInputs=function(){if(!n){e("input[type=color]").spectrum({preferredFormat:"hex6"})}};(function(){var N=/^[\s,#]+/,H=/\s+$/,I=0,w=Math,T=w.round,B=w.min,E=w.max,D=w.random;function R(ac,Z){ac=(ac)?ac:"";Z=Z||{};if(typeof ac=="object"&&ac.hasOwnProperty("_tc_id")){return ac}var ae=J(ac);var aa=ae.r,ad=ae.g,af=ae.b,ag=ae.a,ab=T(100*ag)/100,ah=Z.format||ae.format;if(aa<1){aa=T(aa)}if(ad<1){ad=T(ad)}if(af<1){af=T(af)}return{ok:ae.ok,format:ah,_tc_id:I++,alpha:ag,getAlpha:function(){return ag},setAlpha:function(ai){ag=K(ai);ab=T(100*ag)/100},toHsv:function(){var ai=M(aa,ad,af);return{h:ai.h*360,s:ai.s,v:ai.v,a:ag}},toHsvString:function(){var aj=M(aa,ad,af);var al=T(aj.h*360),ak=T(aj.s*100),ai=T(aj.v*100);return(ag==1)?"hsv("+al+", "+ak+"%, "+ai+"%)":"hsva("+al+", "+ak+"%, "+ai+"%, "+ab+")"},toHsl:function(){var ai=U(aa,ad,af);return{h:ai.h*360,s:ai.s,l:ai.l,a:ag}},toHslString:function(){var aj=U(aa,ad,af);var al=T(aj.h*360),ak=T(aj.s*100),ai=T(aj.l*100);return(ag==1)?"hsl("+al+", "+ak+"%, "+ai+"%)":"hsla("+al+", "+ak+"%, "+ai+"%, "+ab+")"},toHex:function(ai){return S(aa,ad,af,ai)},toHexString:function(ai){return"#"+S(aa,ad,af,ai)},toRgb:function(){return{r:T(aa),g:T(ad),b:T(af),a:ag}},toRgbString:function(){return(ag==1)?"rgb("+T(aa)+", "+T(ad)+", "+T(af)+")":"rgba("+T(aa)+", "+T(ad)+", "+T(af)+", "+ab+")"},toPercentageRgb:function(){return{r:T(W(aa,255)*100)+"%",g:T(W(ad,255)*100)+"%",b:T(W(af,255)*100)+"%",a:ag}},toPercentageRgbString:function(){return(ag==1)?"rgb("+T(W(aa,255)*100)+"%, "+T(W(ad,255)*100)+"%, "+T(W(af,255)*100)+"%)":"rgba("+T(W(aa,255)*100)+"%, "+T(W(ad,255)*100)+"%, "+T(W(af,255)*100)+"%, "+ab+")"},toName:function(){if(ag===0){return"transparent"}return Y[S(aa,ad,af,true)]||false},toFilter:function(al){var am=S(aa,ad,af);var ao=am;var an=Math.round(parseFloat(ag)*255).toString(16);var aj=an;var ai=Z&&Z.gradientType?"GradientType = 1, ":"";if(al){var ak=R(al);ao=ak.toHex();aj=Math.round(parseFloat(ak.alpha)*255).toString(16)}return"progid:DXImageTransform.Microsoft.gradient("+ai+"startColorstr=#"+z(an)+am+",endColorstr=#"+z(aj)+ao+")"},toString:function(am){var aj=!!am;am=am||this.format;var al=false;var ai=!aj&&ag<1&&ag>0;var ak=ai&&(am==="hex"||am==="hex6"||am==="hex3"||am==="name");if(am==="rgb"){al=this.toRgbString()}if(am==="prgb"){al=this.toPercentageRgbString()}if(am==="hex"||am==="hex6"){al=this.toHexString()}if(am==="hex3"){al=this.toHexString(true)}if(am==="name"){al=this.toName()}if(am==="hsl"){al=this.toHslString()}if(am==="hsv"){al=this.toHsvString()}if(ak){return this.toRgbString()}return al||this.toHexString()}}}R.fromRatio=function(Z,ac){if(typeof Z=="object"){var aa={};for(var ab in Z){if(Z.hasOwnProperty(ab)){if(ab==="a"){aa[ab]=Z[ab]}else{aa[ab]=A(Z[ab])}}}Z=aa}return R(Z,ac)};function J(aa){var ab={r:0,g:0,b:0};var Z=1;var ac=false;var ad=false;if(typeof aa=="string"){aa=C(aa)}if(typeof aa=="object"){if(aa.hasOwnProperty("r")&&aa.hasOwnProperty("g")&&aa.hasOwnProperty("b")){ab=F(aa.r,aa.g,aa.b);ac=true;ad=String(aa.r).substr(-1)==="%"?"prgb":"rgb"}else{if(aa.hasOwnProperty("h")&&aa.hasOwnProperty("s")&&aa.hasOwnProperty("v")){aa.s=A(aa.s);aa.v=A(aa.v);ab=Q(aa.h,aa.s,aa.v);ac=true;ad="hsv"}else{if(aa.hasOwnProperty("h")&&aa.hasOwnProperty("s")&&aa.hasOwnProperty("l")){aa.s=A(aa.s);aa.l=A(aa.l);ab=G(aa.h,aa.s,aa.l);ac=true;ad="hsl"}}}if(aa.hasOwnProperty("a")){Z=aa.a}}Z=K(Z);return{ok:ac,format:aa.format||ad,r:B(255,E(ab.r,0)),g:B(255,E(ab.g,0)),b:B(255,E(ab.b,0)),a:Z}}function F(ab,aa,Z){return{r:W(ab,255)*255,g:W(aa,255)*255,b:W(Z,255)*255}}function U(Z,ad,af){Z=W(Z,255);ad=W(ad,255);af=W(af,255);var ag=E(Z,ad,af),ab=B(Z,ad,af);var ac,ah,aa=(ag+ab)/2;if(ag==ab){ac=ah=0}else{var ae=ag-ab;ah=aa>0.5?ae/(2-ag-ab):ae/(ag+ab);switch(ag){case Z:ac=(ad-af)/ae+(ad<af?6:0);break;case ad:ac=(af-Z)/ae+2;break;case af:ac=(Z-ad)/ae+4;break}ac/=6}return{h:ac,s:ah,l:aa}}function G(ae,ah,ad){var Z,af,ag;ae=W(ae,360);ah=W(ah,100);ad=W(ad,100);function ac(ak,aj,ai){if(ai<0){ai+=1}if(ai>1){ai-=1}if(ai<1/6){return ak+(aj-ak)*6*ai}if(ai<1/2){return aj}if(ai<2/3){return ak+(aj-ak)*(2/3-ai)*6}return ak}if(ah===0){Z=af=ag=ad}else{var aa=ad<0.5?ad*(1+ah):ad+ah-ad*ah;var ab=2*ad-aa;Z=ac(ab,aa,ae+1/3);af=ac(ab,aa,ae);ag=ac(ab,aa,ae-1/3)}return{r:Z*255,g:af*255,b:ag*255}}function M(Z,ac,ae){Z=W(Z,255);ac=W(ac,255);ae=W(ae,255);var af=E(Z,ac,ae),aa=B(Z,ac,ae);var ab,ah,ag=af;var ad=af-aa;ah=af===0?0:ad/af;if(af==aa){ab=0}else{switch(af){case Z:ab=(ac-ae)/ad+(ac<ae?6:0);break;case ac:ab=(ae-Z)/ad+2;break;case ae:ab=(Z-ac)/ad+4;break}ab/=6}return{h:ab,s:ah,v:ag}}function Q(ad,ak,ai){ad=W(ad,360)*6;ak=W(ak,100);ai=W(ai,100);var ac=w.floor(ad),af=ad-ac,ab=ai*(1-ak),aa=ai*(1-af*ak),aj=ai*(1-(1-af)*ak),ah=ac%6,Z=[ai,aa,ab,ab,aj,ai][ah],ae=[aj,ai,ai,aa,ab,ab][ah],ag=[ab,ab,aj,ai,ai,aa][ah];return{r:Z*255,g:ae*255,b:ag*255}}function S(ac,ab,Z,ad){var aa=[z(T(ac).toString(16)),z(T(ab).toString(16)),z(T(Z).toString(16))];if(ad&&aa[0].charAt(0)==aa[0].charAt(1)&&aa[1].charAt(0)==aa[1].charAt(1)&&aa[2].charAt(0)==aa[2].charAt(1)){return aa[0].charAt(0)+aa[1].charAt(0)+aa[2].charAt(0)}return aa.join("")}R.equals=function(aa,Z){if(!aa||!Z){return false}return R(aa).toRgbString()==R(Z).toRgbString()};R.random=function(){return R.fromRatio({r:D(),g:D(),b:D()})};R.desaturate=function(aa,ab){ab=(ab===0)?0:(ab||10);var Z=R(aa).toHsl();Z.s-=ab/100;Z.s=P(Z.s);return R(Z)};R.saturate=function(aa,ab){ab=(ab===0)?0:(ab||10);var Z=R(aa).toHsl();Z.s+=ab/100;Z.s=P(Z.s);return R(Z)};R.greyscale=function(Z){return R.desaturate(Z,100)};R.lighten=function(aa,ab){ab=(ab===0)?0:(ab||10);var Z=R(aa).toHsl();Z.l+=ab/100;Z.l=P(Z.l);return R(Z)};R.darken=function(aa,ab){ab=(ab===0)?0:(ab||10);var Z=R(aa).toHsl();Z.l-=ab/100;Z.l=P(Z.l);return R(Z)};R.complement=function(aa){var Z=R(aa).toHsl();Z.h=(Z.h+180)%360;return R(Z)};R.triad=function(aa){var Z=R(aa).toHsl();var ab=Z.h;return[R(aa),R({h:(ab+120)%360,s:Z.s,l:Z.l}),R({h:(ab+240)%360,s:Z.s,l:Z.l})]};R.tetrad=function(aa){var Z=R(aa).toHsl();var ab=Z.h;return[R(aa),R({h:(ab+90)%360,s:Z.s,l:Z.l}),R({h:(ab+180)%360,s:Z.s,l:Z.l}),R({h:(ab+270)%360,s:Z.s,l:Z.l})]};R.splitcomplement=function(aa){var Z=R(aa).toHsl();var ab=Z.h;return[R(aa),R({h:(ab+72)%360,s:Z.s,l:Z.l}),R({h:(ab+216)%360,s:Z.s,l:Z.l})]};R.analogous=function(aa,ad,ae){ad=ad||6;ae=ae||30;var Z=R(aa).toHsl();var ac=360/ae;var ab=[R(aa)];for(Z.h=((Z.h-(ac*ad>>1))+720)%360;--ad;){Z.h=(Z.h+ac)%360;ab.push(R(Z))}return ab};R.monochromatic=function(ab,ae){ae=ae||6;var ad=R(ab).toHsv();var ag=ad.h,af=ad.s,aa=ad.v;var ac=[];var Z=1/ae;while(ae--){ac.push(R({h:ag,s:af,v:aa}));aa=(aa+Z)%1}return ac};R.readability=function(ad,ab){var ac=R(ad).toRgb();var aa=R(ab).toRgb();var Z=(ac.r*299+ac.g*587+ac.b*114)/1000;var af=(aa.r*299+aa.g*587+aa.b*114)/1000;var ae=(Math.max(ac.r,aa.r)-Math.min(ac.r,aa.r)+Math.max(ac.g,aa.g)-Math.min(ac.g,aa.g)+Math.max(ac.b,aa.b)-Math.min(ac.b,aa.b));return{brightness:Math.abs(Z-af),color:ae}};R.readable=function(aa,Z){var ab=R.readability(aa,Z);return ab.brightness>125&&ab.color>500};R.mostReadable=function(ag,af){var ac=null;var aa=0;var ah=false;for(var ae=0;ae<af.length;ae++){var ab=R.readability(ag,af[ae]);var ad=ab.brightness>125&&ab.color>500;var Z=3*(ab.brightness/125)+(ab.color/500);if((ad&&!ah)||(ad&&ah&&Z>aa)||((!ad)&&(!ah)&&Z>aa)){ah=ad;aa=Z;ac=R(af[ae])}}return ac};var L=R.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var Y=R.hexNames=y(L);function y(ab){var aa={};for(var Z in ab){if(ab.hasOwnProperty(Z)){aa[ab[Z]]=Z}}return aa}function K(Z){Z=parseFloat(Z);if(isNaN(Z)||Z<0||Z>1){Z=1}return Z}function W(ab,Z){if(O(ab)){ab="100%"}var aa=X(ab);ab=B(Z,E(0,parseFloat(ab)));if(aa){ab=parseInt(ab*Z,10)/100}if((w.abs(ab-Z)<0.000001)){return 1}return(ab%Z)/parseFloat(Z)}function P(Z){return B(1,E(0,Z))}function V(Z){return parseInt(Z,16)}function O(Z){return typeof Z=="string"&&Z.indexOf(".")!=-1&&parseFloat(Z)===1}function X(Z){return typeof Z==="string"&&Z.indexOf("%")!=-1}function z(Z){return Z.length==1?"0"+Z:""+Z}function A(Z){if(Z<=1){Z=(Z*100)+"%"}return Z}var x=(function(){var ad="[-\\+]?\\d+%?";var ac="[-\\+]?\\d*\\.\\d+%?";var Z="(?:"+ac+")|(?:"+ad+")";var ab="[\\s|\\(]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?";var aa="[\\s|\\(]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")[,|\\s]+("+Z+")\\s*\\)?";return{rgb:new RegExp("rgb"+ab),rgba:new RegExp("rgba"+aa),hsl:new RegExp("hsl"+ab),hsla:new RegExp("hsla"+aa),hsv:new RegExp("hsv"+ab),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function C(aa){aa=aa.replace(N,"").replace(H,"").toLowerCase();var Z=false;if(L[aa]){aa=L[aa];Z=true}else{if(aa=="transparent"){return{r:0,g:0,b:0,a:0,format:"name"}}}var ab;if((ab=x.rgb.exec(aa))){return{r:ab[1],g:ab[2],b:ab[3]}}if((ab=x.rgba.exec(aa))){return{r:ab[1],g:ab[2],b:ab[3],a:ab[4]}}if((ab=x.hsl.exec(aa))){return{h:ab[1],s:ab[2],l:ab[3]}}if((ab=x.hsla.exec(aa))){return{h:ab[1],s:ab[2],l:ab[3],a:ab[4]}}if((ab=x.hsv.exec(aa))){return{h:ab[1],s:ab[2],v:ab[3]}}if((ab=x.hex6.exec(aa))){return{r:V(ab[1]),g:V(ab[2]),b:V(ab[3]),format:Z?"name":"hex"}}if((ab=x.hex3.exec(aa))){return{r:V(ab[1]+""+ab[1]),g:V(ab[2]+""+ab[2]),b:V(ab[3]+""+ab[3]),format:Z?"name":"hex"}}return false}i.tinycolor=R})();e(function(){if(e.fn.spectrum.load){e.fn.spectrum.processNativeColorInputs()}})})(window,jQuery);
Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|aft(er)?|from|hence)/i,subtract:/^(\-|bef(ore)?|ago)/i,yesterday:/^yes(terday)?/i,today:/^t(od(ay)?)?/i,tomorrow:/^tom(orrow)?/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^mn|min(ute)?s?/i,hour:/^h(our)?s?/i,week:/^w(eek)?s?/i,month:/^m(onth)?s?/i,day:/^d(ay)?s?/i,year:/^y(ear)?s?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt|utc)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a(?!u|p)|p)/i},timezones:[{name:"UTC",offset:"-000"},{name:"GMT",offset:"-000"},{name:"EST",offset:"-0500"},{name:"EDT",offset:"-0400"},{name:"CST",offset:"-0600"},{name:"CDT",offset:"-0500"},{name:"MST",offset:"-0700"},{name:"MDT",offset:"-0600"},{name:"PST",offset:"-0800"},{name:"PDT",offset:"-0700"}]};(function(){var b=Date,a=b.prototype,d=b.CultureInfo,g=function(i,h){if(!h){h=2}return("000"+i).slice(h*-1)};a.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};a.setTimeToNow=function(){var h=new Date();this.setHours(h.getHours());this.setMinutes(h.getMinutes());this.setSeconds(h.getSeconds());this.setMilliseconds(h.getMilliseconds());return this};b.today=function(){return new Date().clearTime()};b.compare=function(i,h){if(isNaN(i)||isNaN(h)){throw new Error(i+" - "+h)}else{if(i instanceof Date&&h instanceof Date){return(i<h)?-1:(i>h)?1:0}else{throw new TypeError(i+" - "+h)}}};b.equals=function(i,h){return(i.compareTo(h)===0)};b.getDayNumberFromName=function(j){var q=d.dayNames,h=d.abbreviatedDayNames,p=d.shortestDayNames,l=j.toLowerCase();for(var k=0;k<q.length;k++){if(q[k].toLowerCase()==l||h[k].toLowerCase()==l||p[k].toLowerCase()==l){return k}}return -1};b.getMonthNumberFromName=function(j){var o=d.monthNames,h=d.abbreviatedMonthNames,l=j.toLowerCase();for(var k=0;k<o.length;k++){if(o[k].toLowerCase()==l||h[k].toLowerCase()==l){return k}}return -1};b.isLeapYear=function(h){return((h%4===0&&h%100!==0)||h%400===0)};b.getDaysInMonth=function(h,i){return[31,(b.isLeapYear(h)?29:28),31,30,31,30,31,31,30,31,30,31][i]};b.getTimezoneAbbreviation=function(l){var k=d.timezones,j;for(var h=0;h<k.length;h++){if(k[h].offset===l){return k[h].name}}return null};b.getTimezoneOffset=function(h){var l=d.timezones,k;for(var j=0;j<l.length;j++){if(l[j].name===h.toUpperCase()){return l[j].offset}}return null};a.clone=function(){return new Date(this.getTime())};a.compareTo=function(h){return Date.compare(this,h)};a.equals=function(h){return Date.equals(this,h||new Date())};a.between=function(i,h){return this.getTime()>=i.getTime()&&this.getTime()<=h.getTime()};a.isAfter=function(h){return this.compareTo(h||new Date())===1};a.isBefore=function(h){return(this.compareTo(h||new Date())===-1)};a.isToday=function(){return this.isSameDay(new Date())};a.isSameDay=function(h){return this.clone().clearTime().equals(h.clone().clearTime())};a.addMilliseconds=function(h){this.setMilliseconds(this.getMilliseconds()+h);return this};a.addSeconds=function(h){return this.addMilliseconds(h*1000)};a.addMinutes=function(h){return this.addMilliseconds(h*60000)};a.addHours=function(h){return this.addMilliseconds(h*3600000)};a.addDays=function(h){this.setDate(this.getDate()+h);return this};a.addWeeks=function(h){return this.addDays(h*7)};a.addMonths=function(h){var i=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+h);this.setDate(Math.min(i,b.getDaysInMonth(this.getFullYear(),this.getMonth())));return this};a.addYears=function(h){return this.addMonths(h*12)};a.add=function(i){if(typeof i=="number"){this._orient=i;return this}var h=i;if(h.milliseconds){this.addMilliseconds(h.milliseconds)}if(h.seconds){this.addSeconds(h.seconds)}if(h.minutes){this.addMinutes(h.minutes)}if(h.hours){this.addHours(h.hours)}if(h.weeks){this.addWeeks(h.weeks)}if(h.months){this.addMonths(h.months)}if(h.years){this.addYears(h.years)}if(h.days){this.addDays(h.days)}return this};var e,f,c;a.getWeek=function(){var p,o,m,l,k,j,i,h,t,q;e=(!e)?this.getFullYear():e;f=(!f)?this.getMonth()+1:f;c=(!c)?this.getDate():c;if(f<=2){p=e-1;o=(p/4|0)-(p/100|0)+(p/400|0);m=((p-1)/4|0)-((p-1)/100|0)+((p-1)/400|0);t=o-m;k=0;j=c-1+(31*(f-1))}else{p=e;o=(p/4|0)-(p/100|0)+(p/400|0);m=((p-1)/4|0)-((p-1)/100|0)+((p-1)/400|0);t=o-m;k=t+1;j=c+((153*(f-3)+2)/5)+58+t}i=(p+o)%7;l=(j+i-k)%7;h=(j+3-l)|0;if(h<0){q=53-((i-t)/5|0)}else{if(h>364+t){q=1}else{q=(h/7|0)+1}}e=f=c=null;return q};a.getISOWeek=function(){e=this.getUTCFullYear();f=this.getUTCMonth()+1;c=this.getUTCDate();return g(this.getWeek())};a.setWeek=function(h){return this.moveToDayOfWeek(1).addWeeks(h-this.getWeek())};b._validate=function(k,j,h,i){if(typeof k=="undefined"){return false}else{if(typeof k!="number"){throw new TypeError(k+" is not a Number.")}else{if(k<j||k>h){throw new RangeError(k+" is not a valid value for "+i+".")}}}return true};b.validateMillisecond=function(h){return b._validate(h,0,999,"millisecond")};b.validateSecond=function(h){return b._validate(h,0,59,"second")};b.validateMinute=function(h){return b._validate(h,0,59,"minute")};b.validateHour=function(h){return b._validate(h,0,23,"hour")};b.validateDay=function(i,h,j){return b._validate(i,1,b.getDaysInMonth(h,j),"day")};b.validateMonth=function(h){return b._validate(h,0,11,"month")};b.validateYear=function(h){return b._validate(h,0,9999,"year")};a.set=function(h){if(b.validateMillisecond(h.millisecond)){this.addMilliseconds(h.millisecond-this.getMilliseconds())}if(b.validateSecond(h.second)){this.addSeconds(h.second-this.getSeconds())}if(b.validateMinute(h.minute)){this.addMinutes(h.minute-this.getMinutes())}if(b.validateHour(h.hour)){this.addHours(h.hour-this.getHours())}if(b.validateMonth(h.month)){this.addMonths(h.month-this.getMonth())}if(b.validateYear(h.year)){this.addYears(h.year-this.getFullYear())}if(b.validateDay(h.day,this.getFullYear(),this.getMonth())){this.addDays(h.day-this.getDate())}if(h.timezone){this.setTimezone(h.timezone)}if(h.timezoneOffset){this.setTimezoneOffset(h.timezoneOffset)}if(h.week&&b._validate(h.week,0,53,"week")){this.setWeek(h.week)}return this};a.moveToFirstDayOfMonth=function(){return this.set({day:1})};a.moveToLastDayOfMonth=function(){return this.set({day:b.getDaysInMonth(this.getFullYear(),this.getMonth())})};a.moveToNthOccurrence=function(i,j){var h=0;if(j>0){h=j-1}else{if(j===-1){this.moveToLastDayOfMonth();if(this.getDay()!==i){this.moveToDayOfWeek(i,-1)}return this}}return this.moveToFirstDayOfMonth().addDays(-1).moveToDayOfWeek(i,+1).addWeeks(h)};a.moveToDayOfWeek=function(h,i){var j=(h-this.getDay()+7*(i||+1))%7;return this.addDays((j===0)?j+=7*(i||+1):j)};a.moveToMonth=function(j,h){var i=(j-this.getMonth()+12*(h||+1))%12;return this.addMonths((i===0)?i+=12*(h||+1):i)};a.getOrdinalNumber=function(){return Math.ceil((this.clone().clearTime()-new Date(this.getFullYear(),0,1))/86400000)+1};a.getTimezone=function(){return b.getTimezoneAbbreviation(this.getUTCOffset())};a.setTimezoneOffset=function(j){var h=this.getTimezoneOffset(),i=Number(j)*-6/10;return this.addMinutes(i-h)};a.setTimezone=function(h){return this.setTimezoneOffset(b.getTimezoneOffset(h))};a.hasDaylightSavingTime=function(){return(Date.today().set({month:0,day:1}).getTimezoneOffset()!==Date.today().set({month:6,day:1}).getTimezoneOffset())};a.isDaylightSavingTime=function(){return(this.hasDaylightSavingTime()&&new Date().getTimezoneOffset()===Date.today().set({month:6,day:1}).getTimezoneOffset())};a.getUTCOffset=function(){var i=this.getTimezoneOffset()*-10/6,h;if(i<0){h=(i-10000).toString();return h.charAt(0)+h.substr(2)}else{h=(i+10000).toString();return"+"+h.substr(1)}};a.getElapsed=function(h){return(h||new Date())-this};if(!a.toISOString){a.toISOString=function(){function h(i){return i<10?"0"+i:i}return'"'+this.getUTCFullYear()+"-"+h(this.getUTCMonth()+1)+"-"+h(this.getUTCDate())+"T"+h(this.getUTCHours())+":"+h(this.getUTCMinutes())+":"+h(this.getUTCSeconds())+'Z"'}}a._toString=a.toString;a.toString=function(j){var h=this;if(j&&j.length==1){var k=d.formatPatterns;h.t=h.toString;switch(j){case"d":return h.t(k.shortDate);case"D":return h.t(k.longDate);case"F":return h.t(k.fullDateTime);case"m":return h.t(k.monthDay);case"r":return h.t(k.rfc1123);case"s":return h.t(k.sortableDateTime);case"t":return h.t(k.shortTime);case"T":return h.t(k.longTime);case"u":return h.t(k.universalSortableDateTime);case"y":return h.t(k.yearMonth)}}var i=function(l){switch(l*1){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};return j?j.replace(/(\\)?(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S)/g,function(l){if(l.charAt(0)==="\\"){return l.replace("\\","")}h.h=h.getHours;switch(l){case"hh":return g(h.h()<13?(h.h()===0?12:h.h()):(h.h()-12));case"h":return h.h()<13?(h.h()===0?12:h.h()):(h.h()-12);case"HH":return g(h.h());case"H":return h.h();case"mm":return g(h.getMinutes());case"m":return h.getMinutes();case"ss":return g(h.getSeconds());case"s":return h.getSeconds();case"yyyy":return g(h.getFullYear(),4);case"yy":return g(h.getFullYear());case"dddd":return d.dayNames[h.getDay()];case"ddd":return d.abbreviatedDayNames[h.getDay()];case"dd":return g(h.getDate());case"d":return h.getDate();case"MMMM":return d.monthNames[h.getMonth()];case"MMM":return d.abbreviatedMonthNames[h.getMonth()];case"MM":return g((h.getMonth()+1));case"M":return h.getMonth()+1;case"t":return h.h()<12?d.amDesignator.substring(0,1):d.pmDesignator.substring(0,1);case"tt":return h.h()<12?d.amDesignator:d.pmDesignator;case"S":return i(h.getDate());default:return l}}):this._toString()}}());(function(){var v=Date,g=v.prototype,w=v.CultureInfo,o=Number.prototype;g._orient=+1;g._nth=null;g._is=false;g._same=false;g._isSecond=false;o._dateElement="day";g.next=function(){this._orient=+1;return this};v.next=function(){return v.today().next()};g.last=g.prev=g.previous=function(){this._orient=-1;return this};v.last=v.prev=v.previous=function(){return v.today().last()};g.is=function(){this._is=true;return this};g.same=function(){this._same=true;this._isSecond=false;return this};g.today=function(){return this.same().day()};g.weekday=function(){if(this._is){this._is=false;return(!this.is().sat()&&!this.is().sun())}return false};g.at=function(i){return(typeof i==="string")?v.parse(this.toString("d")+" "+i):this.set(i)};o.fromNow=o.after=function(i){var j={};j[this._dateElement]=this;return((!i)?new Date():i.clone()).add(j)};o.ago=o.before=function(i){var j={};j[this._dateElement]=this*-1;return((!i)?new Date():i.clone()).add(j)};var e=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),h=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),p=("Milliseconds Seconds Minutes Hours Date Week Month FullYear").split(/\s/),b=("final first second third fourth fifth").split(/\s/),y;g.toObject=function(){var k={};for(var j=0;j<n.length;j++){k[n[j].toLowerCase()]=this["get"+p[j]]()}return k};v.fromObject=function(i){i.week=null;return Date.today().set(i)};var x=function(i){return function(){if(this._is){this._is=false;return this.getDay()==i}if(this._nth!==null){if(this._isSecond){this.addSeconds(this._orient*-1)}this._isSecond=false;var k=this._nth;this._nth=null;var j=this.clone().moveToLastDayOfMonth();this.moveToNthOccurrence(i,k);if(this>j){throw new RangeError(v.getDayName(i)+" does not occur "+k+" times in the month of "+v.getMonthName(j.getMonth())+" "+j.getFullYear()+".")}return this}return this.moveToDayOfWeek(i,this._orient)}};var f=function(i){return function(){var k=v.today(),j=i-k.getDay();if(i===0&&w.firstDayOfWeek===1&&k.getDay()!==0){j=j+7}return k.addDays(j)}};for(var u=0;u<e.length;u++){v[e[u].toUpperCase()]=v[e[u].toUpperCase().substring(0,3)]=u;v[e[u]]=v[e[u].substring(0,3)]=f(u);g[e[u]]=g[e[u].substring(0,3)]=x(u)}var z=function(i){return function(){if(this._is){this._is=false;return this.getMonth()===i}return this.moveToMonth(i,this._orient)}};var m=function(i){return function(){return v.today().set({month:i,day:1})}};for(var t=0;t<h.length;t++){v[h[t].toUpperCase()]=v[h[t].toUpperCase().substring(0,3)]=t;v[h[t]]=v[h[t].substring(0,3)]=m(t);g[h[t]]=g[h[t].substring(0,3)]=z(t)}var c=function(i){return function(){if(this._isSecond){this._isSecond=false;return this}if(this._same){this._same=this._is=false;var C=this.toObject(),B=(arguments[0]||new Date()).toObject(),A="",l=i.toLowerCase();for(var j=(n.length-1);j>-1;j--){A=n[j].toLowerCase();if(C[A]!=B[A]){return false}if(l==A){break}}return true}if(i.substring(i.length-1)!="s"){i+="s"}return this["add"+i](this._orient)}};var d=function(i){return function(){this._dateElement=i;return this}};for(var s=0;s<n.length;s++){y=n[s].toLowerCase();g[y]=g[y+"s"]=c(n[s]);o[y]=o[y+"s"]=d(y)}g._ss=c("Second");var a=function(i){return function(j){if(this._same){return this._ss(arguments[0])}if(j||j===0){return this.moveToNthOccurrence(j,i)}this._nth=i;if(i===2&&(j===undefined||j===null)){this._isSecond=true;return this.addSeconds(this._orient)}return this}};for(var q=0;q<b.length;q++){g[b[q]]=(q===0)?a(-1):a(q)}}());(function(){Date.Parsing={Exception:function(i){this.message="Parse error at '"+i.substring(0,10)+" ...'"}};var a=Date.Parsing;var c=a.Operators={rtoken:function(i){return function(j){var k=j.match(i);if(k){return([k[0],j.substring(k[0].length)])}else{throw new a.Exception(j)}}},token:function(i){return function(j){return c.rtoken(new RegExp("^s*"+j+"s*"))(j)}},stoken:function(i){return c.rtoken(new RegExp("^"+i))},until:function(i){return function(j){var k=[],m=null;while(j.length){try{m=i.call(this,j)}catch(l){k.push(m[0]);j=m[1];continue}break}return[k,j]}},many:function(i){return function(j){var m=[],k=null;while(j.length){try{k=i.call(this,j)}catch(l){return[m,j]}m.push(k[0]);j=k[1]}return[m,j]}},optional:function(i){return function(j){var k=null;try{k=i.call(this,j)}catch(l){return[null,j]}return[k[0],k[1]]}},not:function(i){return function(j){try{i.call(this,j)}catch(k){return[null,j]}throw new a.Exception(j)}},ignore:function(i){return i?function(j){var k=null;k=i.call(this,j);return[null,k[1]]}:null},product:function(){var k=arguments[0],l=Array.prototype.slice.call(arguments,1),m=[];for(var j=0;j<k.length;j++){m.push(c.each(k[j],l))}return m},cache:function(k){var i={},j=null;return function(l){try{j=i[l]=(i[l]||k.call(this,l))}catch(m){j=i[l]=m}if(j instanceof a.Exception){throw j}else{return j}}},any:function(){var i=arguments;return function(k){var l=null;for(var j=0;j<i.length;j++){if(i[j]==null){continue}try{l=(i[j].call(this,k))}catch(m){l=null}if(l){return l}}throw new a.Exception(k)}},each:function(){var i=arguments;return function(k){var n=[],l=null;for(var j=0;j<i.length;j++){if(i[j]==null){continue}try{l=(i[j].call(this,k))}catch(m){throw new a.Exception(k)}n.push(l[0]);k=l[1]}return[n,k]}},all:function(){var j=arguments,i=i;return i.each(i.optional(j))},sequence:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;if(i.length==1){return i[0]}return function(o){var p=null,t=null;var v=[];for(var n=0;n<i.length;n++){try{p=i[n].call(this,o)}catch(u){break}v.push(p[0]);try{t=j.call(this,p[1])}catch(m){t=null;break}o=t[1]}if(!p){throw new a.Exception(o)}if(t){throw new a.Exception(t[1])}if(k){try{p=k.call(this,p[1])}catch(l){throw new a.Exception(p[1])}}return[v,(p?p[1]:o)]}},between:function(j,k,i){i=i||j;var l=c.each(c.ignore(j),k,c.ignore(i));return function(m){var n=l.call(this,m);return[[n[0][0],r[0][2]],n[1]]}},list:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;return(i instanceof Array?c.each(c.product(i.slice(0,-1),c.ignore(j)),i.slice(-1),c.ignore(k)):c.each(c.many(c.each(i,c.ignore(j))),px,c.ignore(k)))},set:function(i,j,k){j=j||c.rtoken(/^\s*/);k=k||null;return function(B){var l=null,n=null,m=null,o=null,t=[[],B],A=false;for(var v=0;v<i.length;v++){m=null;n=null;l=null;A=(i.length==1);try{l=i[v].call(this,B)}catch(y){continue}o=[[l[0]],l[1]];if(l[1].length>0&&!A){try{m=j.call(this,l[1])}catch(z){A=true}}else{A=true}if(!A&&m[1].length===0){A=true}if(!A){var w=[];for(var u=0;u<i.length;u++){if(v!=u){w.push(i[u])}}n=c.set(w,j).call(this,m[1]);if(n[0].length>0){o[0]=o[0].concat(n[0]);o[1]=n[1]}}if(o[1].length<t[1].length){t=o}if(t[1].length===0){break}}if(t[0].length===0){return t}if(k){try{m=k.call(this,t[1])}catch(x){throw new a.Exception(t[1])}t[1]=m[1]}return t}},forward:function(i,j){return function(k){return i[j].call(this,k)}},replace:function(j,i){return function(k){var l=j.call(this,k);return[i,l[1]]}},process:function(j,i){return function(k){var l=j.call(this,k);return[i.call(this,l[0]),l[1]]}},min:function(i,j){return function(k){var l=j.call(this,k);if(l[0].length<i){throw new a.Exception(k)}return l}}};var h=function(i){return function(){var j=null,m=[];if(arguments.length>1){j=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){j=arguments[0]}}if(j){for(var l=0,k=j.shift();l<k.length;l++){j.unshift(k[l]);m.push(i.apply(null,j));j.shift();return m}}else{return i.apply(null,arguments)}}};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]])}var f=function(i){return function(){if(arguments[0] instanceof Array){return i.apply(null,arguments[0])}else{return i.apply(null,arguments)}}};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]])}}());(function(){var e=Date,l=e.prototype,f=e.CultureInfo;var h=function(m){var n=[];for(var g=0;g<m.length;g++){if(m[g] instanceof Array){n=n.concat(h(m[g]))}else{if(m[g]){n.push(m[g])}}}return n};e.Grammar={};e.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var m=g.replace(/[^\d\+\-]/g,"");if(m.length){this.timezoneOffset=Number(m)}else{this.timezone=g.toLowerCase()}}},day:function(g){var m=g[0];return function(){this.day=Number(m.match(/\d+/)[0])}},month:function(g){return function(){this.month=(g.length==3)?"jan feb mar apr may jun jul aug sep oct nov dec".indexOf(g)/4:Number(g)-1}},year:function(g){return function(){var m=Number(g);this.year=((g.length>2)?m:(m+(((m+2000)<f.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(g){g=(g instanceof Array)?g:[g];for(var n=0;n<g.length;n++){if(g[n]){g[n].call(this)}}var m=new Date();if((this.hour||this.minute)&&(!this.month&&!this.year&&!this.day)){this.day=m.getDate()}if(!this.year){this.year=m.getFullYear()}if(!this.month&&this.month!==0){this.month=m.getMonth()}if(!this.day){this.day=1}if(!this.hour){this.hour=0}if(!this.minute){this.minute=0}if(!this.second){this.second=0}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}if(this.day>e.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var o=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){o.set({timezone:this.timezone})}else{if(this.timezoneOffset){o.set({timezoneOffset:this.timezoneOffset})}}return o},finish:function(g){g=(g instanceof Array)?h(g):[g];if(g.length===0){return null}for(var q=0;q<g.length;q++){if(typeof g[q]=="function"){g[q].call(this)}}var n=e.today();if(this.now&&!this.unit&&!this.operator){return new Date()}else{if(this.now){n=new Date()}}var s=!!(this.days&&this.days!==null||this.orient||this.operator);var t,p,o;o=((this.orient=="past"||this.operator=="subtract")?-1:1);if(!this.now&&"hour minute second".indexOf(this.unit)!=-1){n.setTimeToNow()}if(this.month||this.month===0){if("year day hour minute second".indexOf(this.unit)!=-1){this.value=this.month+1;this.month=null;s=true}}if(!s&&this.weekday&&!this.day&&!this.days){var m=Date[this.weekday]();this.day=m.getDate();if(!this.month){this.month=m.getMonth()}this.year=m.getFullYear()}if(s&&this.weekday&&this.unit!="month"){this.unit="day";t=(e.getDayNumberFromName(this.weekday)-n.getDay());p=7;this.days=t?((t+(o*p))%p):(o*p)}if(this.month&&this.unit=="day"&&this.operator){this.value=(this.month+1);this.month=null}if(this.value!=null&&this.month!=null&&this.year!=null){this.day=this.value*1}if(this.month&&!this.day&&this.value){n.set({day:this.value*1});if(!s){this.day=this.value*1}}if(!this.month&&this.value&&this.unit=="month"&&!this.now){this.month=this.value;s=true}if(s&&(this.month||this.month===0)&&this.unit!="year"){this.unit="month";t=(this.month-n.getMonth());p=12;this.months=t?((t+(o*p))%p):(o*p);this.month=null}if(!this.unit){this.unit="day"}if(!this.value&&this.operator&&this.operator!==null&&this[this.unit+"s"]&&this[this.unit+"s"]!==null){this[this.unit+"s"]=this[this.unit+"s"]+((this.operator=="add")?1:-1)+(this.value||0)*o}else{if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}this[this.unit+"s"]=this.value*o}}if(this.meridian&&this.hour){if(this.meridian=="p"&&this.hour<12){this.hour=this.hour+12}else{if(this.meridian=="a"&&this.hour==12){this.hour=0}}}if(this.weekday&&!this.day&&!this.days){var m=Date[this.weekday]();this.day=m.getDate();if(m.getMonth()!==n.getMonth()){this.month=m.getMonth()}}if((this.month||this.month===0)&&!this.day){this.day=1}if(!this.orient&&!this.operator&&this.unit=="week"&&this.value&&!this.day&&!this.month){return Date.today().setWeek(this.value)}if(s&&this.timezone&&this.day&&this.days){this.day=this.days}return(s)?n.add(this):n.set(this)}};var i=e.Parsing.Operators,d=e.Grammar,k=e.Translator,b;d.datePartDelimiter=i.rtoken(/^([\s\-\.\,\/\x27]+)/);d.timePartDelimiter=i.stoken(":");d.whiteSpace=i.rtoken(/^\s*/);d.generalDelimiter=i.rtoken(/^(([\s\,]|at|@|on)+)/);var a={};d.ctoken=function(p){var o=a[p];if(!o){var q=f.regexPatterns;var n=p.split(/\s+/),m=[];for(var g=0;g<n.length;g++){m.push(i.replace(i.rtoken(q[n[g]]),n[g]))}o=a[p]=i.any.apply(null,m)}return o};d.ctoken2=function(g){return i.rtoken(f.regexPatterns[g])};d.h=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),k.hour));d.hh=i.cache(i.process(i.rtoken(/^(0[0-9]|1[0-2])/),k.hour));d.H=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),k.hour));d.HH=i.cache(i.process(i.rtoken(/^([0-1][0-9]|2[0-3])/),k.hour));d.m=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),k.minute));d.mm=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),k.minute));d.s=i.cache(i.process(i.rtoken(/^([0-5][0-9]|[0-9])/),k.second));d.ss=i.cache(i.process(i.rtoken(/^[0-5][0-9]/),k.second));d.hms=i.cache(i.sequence([d.H,d.m,d.s],d.timePartDelimiter));d.t=i.cache(i.process(d.ctoken2("shortMeridian"),k.meridian));d.tt=i.cache(i.process(d.ctoken2("longMeridian"),k.meridian));d.z=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),k.timezone));d.zz=i.cache(i.process(i.rtoken(/^((\+|\-)\s*\d\d\d\d)|((\+|\-)\d\d\:?\d\d)/),k.timezone));d.zzz=i.cache(i.process(d.ctoken2("timezone"),k.timezone));d.timeSuffix=i.each(i.ignore(d.whiteSpace),i.set([d.tt,d.zzz]));d.time=i.each(i.optional(i.ignore(i.stoken("T"))),d.hms,d.timeSuffix);d.d=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1]|\d)/),i.optional(d.ctoken2("ordinalSuffix"))),k.day));d.dd=i.cache(i.process(i.each(i.rtoken(/^([0-2]\d|3[0-1])/),i.optional(d.ctoken2("ordinalSuffix"))),k.day));d.ddd=d.dddd=i.cache(i.process(d.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));d.M=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d|\d)/),k.month));d.MM=i.cache(i.process(i.rtoken(/^(1[0-2]|0\d)/),k.month));d.MMM=d.MMMM=i.cache(i.process(d.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),k.month));d.y=i.cache(i.process(i.rtoken(/^(\d\d?)/),k.year));d.yy=i.cache(i.process(i.rtoken(/^(\d\d)/),k.year));d.yyy=i.cache(i.process(i.rtoken(/^(\d\d?\d?\d?)/),k.year));d.yyyy=i.cache(i.process(i.rtoken(/^(\d\d\d\d)/),k.year));b=function(){return i.each(i.any.apply(null,arguments),i.not(d.ctoken2("timeContext")))};d.day=b(d.d,d.dd);d.month=b(d.M,d.MMM);d.year=b(d.yyyy,d.yy);d.orientation=i.process(d.ctoken("past future"),function(g){return function(){this.orient=g}});d.operator=i.process(d.ctoken("add subtract"),function(g){return function(){this.operator=g}});d.rday=i.process(d.ctoken("yesterday tomorrow today now"),k.rday);d.unit=i.process(d.ctoken("second minute hour day week month year"),function(g){return function(){this.unit=g}});d.value=i.process(i.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});d.expression=i.set([d.rday,d.operator,d.value,d.unit,d.orientation,d.ddd,d.MMM]);b=function(){return i.set(arguments,d.datePartDelimiter)};d.mdy=b(d.ddd,d.month,d.day,d.year);d.ymd=b(d.ddd,d.year,d.month,d.day);d.dmy=b(d.ddd,d.day,d.month,d.year);d.date=function(g){return((d[f.dateElementOrder]||d.mdy).call(this,g))};d.format=i.process(i.many(i.any(i.process(i.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(d[g]){return d[g]}else{throw e.Parsing.Exception(g)}}),i.process(i.rtoken(/^[^dMyhHmstz]+/),function(g){return i.ignore(i.stoken(g))}))),function(g){return i.process(i.each.apply(null,g),k.finishExact)});var j={};var c=function(g){return j[g]=(j[g]||d.format(g)[0])};d.formats=function(m){if(m instanceof Array){var n=[];for(var g=0;g<m.length;g++){n.push(c(m[g]))}return i.any.apply(null,n)}else{return c(m)}};d._formats=d.formats(['"yyyy-MM-ddTHH:mm:ssZ"',"yyyy-MM-ddTHH:mm:ssZ","yyyy-MM-ddTHH:mm:ssz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mmZ","yyyy-MM-ddTHH:mmz","yyyy-MM-ddTHH:mm","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","MMddyyyy","ddMMyyyy","Mddyyyy","ddMyyyy","Mdyyyy","dMyyyy","yyyy","Mdyy","dMyy","d"]);d._start=i.process(i.set([d.date,d.time,d.expression],d.generalDelimiter,d.whiteSpace),k.finish);d.start=function(g){try{var m=d._formats.call({},g);if(m[1].length===0){return m}}catch(n){}return d._start.call({},g)};e._parse=e.parse;e.parse=function(g){var m=null;if(!g){return null}if(g instanceof Date){return g}try{m=e.Grammar.start.call({},g.replace(/^\s*(\S*(\s+\S+)*)\s*$/,"$1"))}catch(n){return null}return((m[1].length===0)?m[0]:null)};e.getParseFunction=function(m){var g=e.Grammar.formats(m);return function(n){var o=null;try{o=g.call({},n)}catch(p){return null}return((o[1].length===0)?o[0]:null)}};e.parseExact=function(g,m){return e.getParseFunction(m)(g)}}());
!function(b){var a=function(j,q,h){var o=typeof q=="object";var f;this.startDate=Date.today();this.endDate=Date.today();this.minDate=false;this.maxDate=false;this.changed=false;this.cleared=false;this.ranges={};this.opens="right";this.cb=function(){};this.format="MM/dd/yyyy";this.separator=" - ";this.showWeekNumbers=false;this.buttonClasses=["btn-success"];this.locale={applyLabel:"Apply",clearLabel:"Clear",fromLabel:"From",toLabel:"To",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:Date.CultureInfo.shortestDayNames,monthNames:Date.CultureInfo.monthNames,firstDay:0};f=this.locale;this.leftCalendar={month:Date.today().set({day:1,month:this.startDate.getMonth(),year:this.startDate.getFullYear()}),calendar:Array()};this.rightCalendar={month:Date.today().set({day:1,month:this.endDate.getMonth(),year:this.endDate.getFullYear()}),calendar:Array()};this.element=b(j);if(this.element.hasClass("pull-right")){this.opens="left"}if(this.element.is("input")){this.element.on({click:b.proxy(this.show,this),focus:b.proxy(this.show,this)})}else{this.element.on("click",b.proxy(this.show,this))}if(o){if(typeof q.locale=="object"){b.each(f,function(r,c){f[r]=q.locale[r]||c})}}var d='<div class="daterangepicker dropdown-menu"><div class="calendar left"></div><div class="calendar right"></div><div class="ranges"><div class="range_inputs"><div class="daterangepicker_start_input" style="float: left"><label for="daterangepicker_start">'+this.locale.fromLabel+'</label><input class="input-mini" type="text" name="daterangepicker_start" value="" disabled="disabled" /></div><div class="daterangepicker_end_input" style="float: left; padding-left: 11px"><label for="daterangepicker_end">'+this.locale.toLabel+'</label><input class="input-mini" type="text" name="daterangepicker_end" value="" disabled="disabled" /></div><button class="btn btn-small btn-success applyBtn" disabled="disabled">'+this.locale.applyLabel+'</button>&nbsp;<button class="btn btn-small clearBtn">'+this.locale.clearLabel+"</button></div></div></div>";this.container=b(d).appendTo("body");if(o){if(typeof q.format=="string"){this.format=q.format}if(typeof q.separator=="string"){this.separator=q.separator}if(typeof q.startDate=="string"){this.startDate=Date.parse(q.startDate,this.format)}if(typeof q.endDate=="string"){this.endDate=Date.parse(q.endDate,this.format)}if(typeof q.minDate=="string"){this.minDate=Date.parse(q.minDate,this.format)}if(typeof q.maxDate=="string"){this.maxDate=Date.parse(q.maxDate,this.format)}if(typeof q.startDate=="object"){this.startDate=q.startDate}if(typeof q.endDate=="object"){this.endDate=q.endDate}if(typeof q.minDate=="object"){this.minDate=q.minDate}if(typeof q.maxDate=="object"){this.maxDate=q.maxDate}if(typeof q.ranges=="object"){for(var l in q.ranges){var e=q.ranges[l][0];var i=q.ranges[l][1];if(typeof e=="string"){e=Date.parse(e)}if(typeof i=="string"){i=Date.parse(i)}if(this.minDate&&e<this.minDate){e=this.minDate}if(this.maxDate&&i>this.maxDate){i=this.maxDate}if((this.minDate&&i<this.minDate)||(this.maxDate&&e>this.maxDate)){continue}this.ranges[l]=[e,i]}var m="<ul>";for(var l in this.ranges){m+="<li>"+l+"</li>"}m+="<li>"+this.locale.customRangeLabel+"</li>";m+="</ul>";this.container.find(".ranges").prepend(m)}if(typeof q.locale=="object"){if(typeof q.locale.firstDay=="number"){this.locale.firstDay=q.locale.firstDay;var k=q.locale.firstDay;while(k>0){this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());k--}}}if(typeof q.opens=="string"){this.opens=q.opens}if(typeof q.showWeekNumbers=="boolean"){this.showWeekNumbers=q.showWeekNumbers}if(typeof q.buttonClasses=="string"){this.buttonClasses=[q.buttonClasses]}if(typeof q.buttonClasses=="object"){this.buttonClasses=q.buttonClasses}}var n=this.container;b.each(this.buttonClasses,function(c,r){n.find("button").addClass(r)});if(this.opens=="right"){var g=this.container.find(".calendar.left");var p=this.container.find(".calendar.right");g.removeClass("left").addClass("right");p.removeClass("right").addClass("left")}if(typeof q=="undefined"||typeof q.ranges=="undefined"){this.container.find(".calendar").show()}if(typeof h=="function"){this.cb=h}this.container.addClass("opens"+this.opens);this.container.on("mousedown",b.proxy(this.mousedown,this));this.container.find(".calendar").on("click",".prev",b.proxy(this.clickPrev,this));this.container.find(".calendar").on("click",".next",b.proxy(this.clickNext,this));this.container.find(".ranges").on("click","button.applyBtn",b.proxy(this.clickApply,this));this.container.find(".ranges").on("click","button.clearBtn",b.proxy(this.clickClear,this));this.container.find(".calendar").on("click","td.available",b.proxy(this.clickDate,this));this.container.find(".calendar").on("mouseenter","td.available",b.proxy(this.enterDate,this));this.container.find(".calendar").on("mouseleave","td.available",b.proxy(this.updateView,this));this.container.find(".ranges").on("click","li",b.proxy(this.clickRange,this));this.container.find(".ranges").on("mouseenter","li",b.proxy(this.enterRange,this));this.container.find(".ranges").on("mouseleave","li",b.proxy(this.updateView,this));this.element.on("keyup",b.proxy(this.updateFromControl,this));this.updateView();this.updateCalendars()};a.prototype={constructor:a,mousedown:function(c){c.stopPropagation();c.preventDefault()},updateView:function(){this.leftCalendar.month.set({month:this.startDate.getMonth(),year:this.startDate.getFullYear()});this.rightCalendar.month.set({month:this.endDate.getMonth(),year:this.endDate.getFullYear()});this.container.find("input[name=daterangepicker_start]").val(this.startDate.toString(this.format));this.container.find("input[name=daterangepicker_end]").val(this.endDate.toString(this.format));if(this.startDate.equals(this.endDate)||this.startDate.isBefore(this.endDate)){this.container.find("button.applyBtn").removeAttr("disabled")}else{this.container.find("button.applyBtn").attr("disabled","disabled")}},updateFromControl:function(){if(!this.element.is("input")){return}var d=this.element.val().split(this.separator);var e=Date.parseExact(d[0],this.format);var c=Date.parseExact(d[1],this.format);if(e==null||c==null){return}if(c.isBefore(e)){return}this.startDate=e;this.endDate=c;this.updateView();this.cb(this.startDate,this.endDate);this.updateCalendars()},notify:function(){if(!this.cleared){this.updateView()}if(this.element.is("input")){this.element.val(this.cleared?"":this.startDate.toString(this.format)+this.separator+this.endDate.toString(this.format))}var d=(this.cleared?null:this.startDate),c=(this.cleared?null:this.endDate);this.cleared=false;this.cb(d,c)},move:function(){if(this.opens=="left"){this.container.css({top:this.element.offset().top+this.element.outerHeight(),right:b(window).width()-this.element.offset().left-this.element.outerWidth(),left:"auto"})}else{this.container.css({top:this.element.offset().top+this.element.outerHeight(),left:this.element.offset().left,right:"auto"})}},show:function(c){this.container.show();this.move();if(c){c.stopPropagation();c.preventDefault()}this.changed=false;this.element.trigger("shown",{target:c.target,picker:this});b(document).on("mousedown",b.proxy(this.hide,this))},hide:function(c){this.container.hide();b(document).off("mousedown",this.hide);if(this.changed){this.changed=false;this.notify()}},enterRange:function(f){var c=f.target.innerHTML;if(c==this.locale.customRangeLabel){this.updateView()}else{var d=this.ranges[c];this.container.find("input[name=daterangepicker_start]").val(d[0].toString(this.format));this.container.find("input[name=daterangepicker_end]").val(d[1].toString(this.format))}},clickRange:function(f){var c=f.target.innerHTML;if(c==this.locale.customRangeLabel){this.container.find(".calendar").show()}else{var d=this.ranges[c];this.startDate=d[0];this.endDate=d[1];this.leftCalendar.month.set({month:this.startDate.getMonth(),year:this.startDate.getFullYear()});this.rightCalendar.month.set({month:this.endDate.getMonth(),year:this.endDate.getFullYear()});this.updateCalendars();this.changed=true;this.container.find(".calendar").hide();this.hide()}},clickPrev:function(d){var c=b(d.target).parents(".calendar");if(c.hasClass("left")){this.leftCalendar.month.add({months:-1})}else{this.rightCalendar.month.add({months:-1})}this.updateCalendars()},clickNext:function(d){var c=b(d.target).parents(".calendar");if(c.hasClass("left")){this.leftCalendar.month.add({months:1})}else{this.rightCalendar.month.add({months:1})}this.updateCalendars()},enterDate:function(f){var h=b(f.target).attr("title");var g=h.substr(1,1);var c=h.substr(3,1);var d=b(f.target).parents(".calendar");if(d.hasClass("left")){this.container.find("input[name=daterangepicker_start]").val(this.leftCalendar.calendar[g][c].toString(this.format))}else{this.container.find("input[name=daterangepicker_end]").val(this.rightCalendar.calendar[g][c].toString(this.format))}},clickDate:function(f){var h=b(f.target).attr("title");var g=h.substr(1,1);var c=h.substr(3,1);var d=b(f.target).parents(".calendar");if(d.hasClass("left")){startDate=this.leftCalendar.calendar[g][c];endDate=this.endDate;this.element.trigger("clicked",{dir:"left",picker:this})}else{startDate=this.startDate;endDate=this.rightCalendar.calendar[g][c];this.element.trigger("clicked",{dir:"right",picker:this})}d.find("td").removeClass("active");if(startDate.equals(endDate)||startDate.isBefore(endDate)){b(f.target).addClass("active");if(!startDate.equals(this.startDate)||!endDate.equals(this.endDate)){this.changed=true}this.startDate=startDate;this.endDate=endDate}else{if(startDate.isAfter(endDate)){b(f.target).addClass("active");this.changed=true;this.startDate=startDate;this.endDate=startDate.clone().add(1).days()}}this.leftCalendar.month.set({month:this.startDate.getMonth(),year:this.startDate.getFullYear()});this.rightCalendar.month.set({month:this.endDate.getMonth(),year:this.endDate.getFullYear()});this.updateCalendars()},clickApply:function(c){this.hide()},clickClear:function(c){this.changed=true;this.cleared=true;this.hide()},updateCalendars:function(){this.leftCalendar.calendar=this.buildCalendar(this.leftCalendar.month.getMonth(),this.leftCalendar.month.getFullYear());this.rightCalendar.calendar=this.buildCalendar(this.rightCalendar.month.getMonth(),this.rightCalendar.month.getFullYear());this.container.find(".calendar.left").html(this.renderCalendar(this.leftCalendar.calendar,this.startDate,this.minDate,this.maxDate));this.container.find(".calendar.right").html(this.renderCalendar(this.rightCalendar.calendar,this.endDate,this.startDate,this.maxDate));this.element.trigger("updated",this)},buildCalendar:function(n,o){var c=Date.today().set({day:1,month:n,year:o});var l=c.clone().add(-1).day().getMonth();var k=c.clone().add(-1).day().getFullYear();var d=Date.getDaysInMonth(o,n);var p=Date.getDaysInMonth(k,l);var f=c.getDay();var j=Array();for(var h=0;h<6;h++){j[h]=Array()}var m=p-f+this.locale.firstDay+1;if(m>p){m-=7}if(f==this.locale.firstDay){m=p-6}var g=Date.today().set({day:m,month:l,year:k});for(var h=0,e=0,q=0;h<42;h++,e++,g=g.clone().add(1).day()){if(h>0&&e%7==0){e=0;q++}j[q][e]=g}return j},renderCalendar:function(g,f,e,c){var h='<table class="table-condensed">';h+="<thead>";h+="<tr>";if(this.showWeekNumbers){h+="<th></th>"}if(!e||e<g[1][1]){h+='<th class="prev available"><i class="icon-arrow-left"></i></th>'}else{h+="<th></th>"}h+='<th colspan="5" style="width: auto">'+this.locale.monthNames[g[1][1].getMonth()]+g[1][1].toString(" yyyy")+"</th>";if(!c||c>g[1][1]){h+='<th class="next available"><i class="icon-arrow-right"></i></th>'}else{h+="<th></th>"}h+="</tr>";h+="<tr>";if(this.showWeekNumbers){h+='<th class="week">'+this.locale.weekLabel+"</th>"}b.each(this.locale.daysOfWeek,function(m,l){h+="<th>"+l+"</th>"});h+="</tr>";h+="</thead>";h+="<tbody>";for(var k=0;k<6;k++){h+="<tr>";if(this.showWeekNumbers){h+='<td class="week">'+g[k][0].getWeek()+"</td>"}for(var d=0;d<7;d++){var i="available ";i+=(g[k][d].getMonth()==g[1][1].getMonth())?"":"off";f.setHours(0,0,0,0);if((e&&g[k][d]<e)||(c&&g[k][d]>c)){i=" off disabled "}else{if(g[k][d].equals(f)){i+=" active ";if(g[k][d].equals(this.startDate)){i+=" start-date "}if(g[k][d].equals(this.endDate)){i+=" end-date "}}else{if(g[k][d]>=this.startDate&&g[k][d]<=this.endDate){i+=" in-range ";if(g[k][d].equals(this.startDate)){i+=" start-date "}if(g[k][d].equals(this.endDate)){i+=" end-date "}}}}var j="r"+k+"c"+d;h+='<td class="'+i.replace(/\s+/g," ").replace(/^\s?(.*?)\s?$/,"$1")+'" title="'+j+'">'+g[k][d].getDate()+"</td>"}h+="</tr>"}h+="</tbody>";h+="</table>";return h}};b.fn.daterangepicker=function(d,c){this.each(function(){var e=b(this);if(!e.data("daterangepicker")){e.data("daterangepicker",new a(e,d,c))}});return this}}(window.jQuery);
(function(e){function g(){var i=document.createElement("input"),h="onpaste";i.setAttribute(h,"");return(typeof i[h]==="function")?"paste":"input"}var b=g()+".mask",d=navigator.userAgent,c=/iphone/i.test(d),a=/android/i.test(d),f;e.mask={definitions:{"9":"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_",};e.fn.extend({caret:function(j,h){var i;if(this.length===0||this.is(":hidden")){return}if(typeof j=="number"){h=(typeof h==="number")?h:j;return this.each(function(){if(this.setSelectionRange){this.setSelectionRange(j,h)}else{if(this.createTextRange){i=this.createTextRange();i.collapse(true);i.moveEnd("character",h);i.moveStart("character",j);i.select()}}})}else{if(this[0].setSelectionRange){j=this[0].selectionStart;h=this[0].selectionEnd}else{if(document.selection&&document.selection.createRange){i=document.selection.createRange();j=0-i.duplicate().moveStart("character",-100000);h=j+i.text.length}}return{begin:j,end:h}}},unmask:function(){return this.trigger("unmask")},mask:function(j,n){var k,i,m,o,l,h;if(!j&&this.length>0){k=e(this[0]);return k.data(e.mask.dataName)()}n=e.extend({placeholder:e.mask.placeholder,completed:null},n);i=e.mask.definitions;m=[];o=h=j.length;l=null;e.each(j.split(""),function(p,q){if(q=="?"){h--;o=p}else{if(i[q]){m.push(new RegExp(i[q]));if(l===null){l=m.length-1}}else{m.push(null)}}});return this.trigger("unmask").each(function(){var y=e(this),t=e.map(j.split(""),function(C,B){if(C!="?"){return i[C]?n.placeholder:C}}),A=y.val();function x(B){while(++B<h&&!m[B]){}return B}function u(B){while(--B>=0&&!m[B]){}return B}function s(E,B){var D,C;if(E<0){return}for(D=E,C=x(B);D<h;D++){if(m[D]){if(C<h&&m[D].test(t[C])){t[D]=t[C];t[C]=n.placeholder}else{break}C=x(C)}}w();y.caret(Math.max(l,E))}function p(F){var D,E,B,C;for(D=F,E=n.placeholder;D<h;D++){if(m[D]){B=x(D);C=t[D];t[D]=E;if(B<h&&m[B].test(C)){E=C}else{break}}}}function v(E){var C=E.which,F,D,B;if(C===8||C===46||(c&&C===127)){F=y.caret();D=F.begin;B=F.end;if(B-D===0){D=C!==46?u(D):(B=x(D-1));B=C===46?x(B):B}q(D,B);s(D,B-1);E.preventDefault()}else{if(C==27){y.val(A);y.caret(0,r());E.preventDefault()}}}function z(E){var B=E.which,G=y.caret(),D,F,C;if(E.ctrlKey||E.altKey||E.metaKey||B<32){return}else{if(B){if(G.end-G.begin!==0){q(G.begin,G.end);s(G.begin,G.end-1)}D=x(G.begin-1);if(D<h){F=String.fromCharCode(B);if(m[D].test(F)){p(D);t[D]=F;w();C=x(D);if(a){setTimeout(e.proxy(e.fn.caret,y,C),0)}else{y.caret(C)}if(n.completed&&C>=h){n.completed.call(y)}}}E.preventDefault()}}}function q(D,B){var C;for(C=D;C<B&&C<h;C++){if(m[C]){t[C]=n.placeholder}}}function w(){y.val(t.join(""))}function r(C){var F=y.val(),E=-1,B,D;for(B=0,pos=0;B<h;B++){if(m[B]){t[B]=n.placeholder;while(pos++<F.length){D=F.charAt(pos-1);if(m[B].test(D)){t[B]=D;E=B;break}}if(pos>F.length){break}}else{if(t[B]===F.charAt(pos)&&B!==o){pos++;E=B}}}if(C){w()}else{if(E+1<o){y.val("");q(0,h)}else{w();y.val(y.val().substring(0,E+1))}}return(o?B:l)}y.data(e.mask.dataName,function(){return e.map(t,function(C,B){return m[B]&&C!=n.placeholder?C:null}).join("")});if(!y.attr("readonly")){y.one("unmask",function(){y.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(f);var C,B;A=y.val();C=r();f=setTimeout(function(){w();if(C==j.length){y.caret(0,C)}else{y.caret(C)}},10)}).bind("blur.mask",function(){r();if(y.val()!=A){y.change()}}).bind("keydown.mask",v).bind("keypress.mask",z).bind(b,function(){setTimeout(function(){var B=r(true);y.caret(B);if(n.completed&&B==y.val().length){n.completed.call(y)}},0)})}r()})}})})(jQuery);
(function(a){a.fn.textareaCount=function(h,k){var o={maxCharacterSize:-1,originalStyle:"originalTextareaInfo",warningStyle:"warningTextareaInfo",warningNumber:20,displayFormat:"#input characters | #words words"};var h=a.extend(o,h);var q=a(this);a("<div class='charleft'>&nbsp;</div>").insertAfter(q);var s={width:q.width()};var f=i(q);f.addClass(h.originalStyle);f.css(s);var p=0;var m=h.maxCharacterSize;var t=0;var r=0;q.bind("keyup",function(u){c()}).bind("mouseover",function(u){setTimeout(function(){c()},10)}).bind("paste",function(u){setTimeout(function(){c()},10)});function c(){f.html(g());if(typeof k!="undefined"){k.call(this,l())}return true}function g(){var w=q.val();var u=w.length;if(h.maxCharacterSize>0){if(u>=h.maxCharacterSize){w=w.substring(0,h.maxCharacterSize)}var x=e(w);var v=h.maxCharacterSize-x;if(!n()){v=h.maxCharacterSize}if(u>v){var y=this.scrollTop;q.val(w.substring(0,v));this.scrollTop=y}f.removeClass(h.warningStyle);if(v-u<=h.warningNumber){f.addClass(h.warningStyle)}p=q.val().length+x;if(!n()){p=q.val().length}r=d(j(q.val()));t=m-p}else{var x=e(w);p=q.val().length+x;if(!n()){p=q.val().length}r=d(j(q.val()))}return b()}function b(){var u=h.displayFormat;u=u.replace("#input",p);u=u.replace("#words",r);if(m>0){u=u.replace("#max",m);u=u.replace("#left",t)}return u}function l(){var u={input:p,max:m,left:t,words:r};return u}function i(u){return u.next(".charleft")}function n(){var u=navigator.appVersion;if(u.toLowerCase().indexOf("win")!=-1){return true}return false}function e(v){var w=0;for(var u=0;u<v.length;u++){if(v.charAt(u)=="\n"){w++}}return w}function j(x){var z=x+" ";var A=/^[^A-Za-z0-9]+/gi;var v=z.replace(A,"");var u=rExp=/[^A-Za-z0-9]+/gi;var w=v.replace(u," ");var y=w.split(" ");return y}function d(u){var v=u.length-1;return v}}})(jQuery);
(function(b){if(!b.browser){b.browser={};b.browser.mozilla=/mozilla/.test(navigator.userAgent.toLowerCase())&&!/webkit/.test(navigator.userAgent.toLowerCase());b.browser.webkit=/webkit/.test(navigator.userAgent.toLowerCase());b.browser.opera=/opera/.test(navigator.userAgent.toLowerCase());b.browser.msie=/msie/.test(navigator.userAgent.toLowerCase())}var a={destroy:function(){b(this).unbind(".maskMoney");if(b.browser.msie){this.onpaste=null}return this},mask:function(c){return this.each(function(){var e=b(this),d;if(typeof c==="number"){e.trigger("mask");d=b(e.val().split(/\D/)).last()[0].length;c=c.toFixed(d);e.val(c)}return e.trigger("mask")})},unmasked:function(){return this.map(function(){var e=(b(this).val()||"0"),c=e.indexOf("-")!==-1,d;b(e.split(/\D/).reverse()).each(function(f,g){if(g){d=g;return false}});e=e.replace(/\D/g,"");e=e.replace(new RegExp(d+"$"),"."+d);if(c){e="-"+e}return parseFloat(e)})},init:function(c){c=b.extend({prefix:"",suffix:"",affixesStay:true,thousands:",",decimal:".",precision:2,allowZero:false,allowNegative:false},c);return this.each(function(){var d=b(this),p;c=b.extend(c,d.data());function t(){var z=d.get(0),C=0,x=0,B,y,w,v,A;if(typeof z.selectionStart==="number"&&typeof z.selectionEnd==="number"){C=z.selectionStart;x=z.selectionEnd}else{y=document.selection.createRange();if(y&&y.parentElement()===z){v=z.value.length;B=z.value.replace(/\r\n/g,"\n");w=z.createTextRange();w.moveToBookmark(y.getBookmark());A=z.createTextRange();A.collapse(false);if(w.compareEndPoints("StartToEnd",A)>-1){C=x=v}else{C=-w.moveStart("character",-v);C+=B.slice(0,C).split("\n").length-1;if(w.compareEndPoints("EndToEnd",A)>-1){x=v}else{x=-w.moveEnd("character",-v);x+=B.slice(0,x).split("\n").length-1}}}}return{start:C,end:x}}function g(){var y=!(d.val().length>=d.attr("maxlength")&&d.attr("maxlength")>=0),x=t(),A=x.start,w=x.end,z=(x.start!==x.end&&d.val().substring(A,w).match(/\d/))?true:false,v=(d.val().substring(0,1)==="0");return y||z||v}function s(v){d.each(function(x,y){if(y.setSelectionRange){y.focus();y.setSelectionRange(v,v)}else{if(y.createTextRange){var w=y.createTextRange();w.collapse(true);w.moveEnd("character",v);w.moveStart("character",v);w.select()}}})}function k(w){var v="";if(w.indexOf("-")>-1){w=w.replace("-","");v="-"}return v+c.prefix+w+c.suffix}function o(y){var x=(y.indexOf("-")>-1&&c.allowNegative)?"-":"",A=y.replace(/[^0-9]/g,""),B=A.slice(0,A.length-c.precision),z,w,v;B=B.replace(/^0*/g,"");B=B.replace(/\B(?=(\d{3})+(?!\d))/g,c.thousands);if(B===""){B="0"}z=x+B;if(c.precision>0){w=A.slice(A.length-c.precision);v=new Array((c.precision+1)-w.length).join(0);z+=c.decimal+v+w}return k(z)}function i(w){var v=d.val().length,x;d.val(o(d.val()));x=d.val().length;w=w-(v-x);s(w)}function r(){var v=d.val();d.val(o(v))}function l(){var v=d.val();if(c.allowNegative){if(v!==""&&v.charAt(0)==="-"){return v.replace("-","")}else{return"-"+v}}else{return v}}function j(v){if(v.preventDefault){v.preventDefault()}else{v.returnValue=false}}function q(B){B=B||window.event;var y=B.which||B.charCode||B.keyCode,v,z,x,w,A;if(y===undefined){return false}if(y<48||y>57){if(y===45){d.val(l());return false}else{if(y===43){d.val(d.val().replace("-",""));return false}else{if(y===13||y===9){return true}else{if(b.browser.mozilla&&(y===37||y===39)&&B.charCode===0){return true}else{j(B);return true}}}}}else{if(!g()){return false}else{j(B);v=String.fromCharCode(y);z=t();x=z.start;w=z.end;A=d.val();d.val(A.substring(0,x)+v+A.substring(w,A.length));i(x+1);return false}}}function h(B){B=B||window.event;var y=B.which||B.charCode||B.keyCode,z,x,w,A,v;if(y===undefined){return false}z=t();x=z.start;w=z.end;if(y===8||y===46||y===63272){j(B);A=d.val();if(x===w){if(y===8){if(c.suffix===""){x-=1}else{v=A.split("").reverse().join("").search(/\d/);x=A.length-v-1;w=x+1}}else{w+=1}}d.val(A.substring(0,x)+A.substring(w,A.length));i(x);return false}else{if(y===9){return true}else{return true}}}function f(){p=d.val();r();var v=d.get(0),w;if(v.createTextRange){w=v.createTextRange();w.collapse(false);w.select()}}function m(){setTimeout(function(){r()},0)}function u(){var v=parseFloat("0")/Math.pow(10,c.precision);return(v.toFixed(c.precision)).replace(new RegExp("\\.","g"),c.decimal)}function n(w){if(b.browser.msie){q(w)}if(d.val()===""||d.val()===k(u())){if(!c.allowZero){d.val("")}else{if(!c.affixesStay){d.val(u())}else{d.val(k(u()))}}}else{if(!c.affixesStay){var v=d.val().replace(c.prefix,"").replace(c.suffix,"");d.val(v)}}if(d.val()!==p){d.change()}}function e(){var v=d.get(0),w;if(v.setSelectionRange){w=d.val().length;v.setSelectionRange(w,w)}else{d.val(d.val())}}d.unbind(".maskMoney");d.bind("keypress.maskMoney",q);d.bind("keydown.maskMoney",h);d.bind("blur.maskMoney",n);d.bind("focus.maskMoney",f);d.bind("click.maskMoney",e);d.bind("cut.maskMoney",m);d.bind("paste.maskMoney",m);d.bind("mask.maskMoney",r)})}};b.fn.maskMoney=function(c){if(a[c]){return a[c].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof c==="object"||!c){return a.init.apply(this,arguments)}else{b.error("Method "+c+" does not exist on jQuery.maskMoney")}}}})(window.jQuery||window.Zepto);
(function(a){a.fn.postcode=function(c){var e=a.extend({btn:".postcode_btn",postcode:".postcode_ajax",street:".street_ajax",area:".area_ajax",city:".city_ajax",state:".state_ajax",number:".number_ajax",loading:".postcode_loading",hideSubmit:false,error:"alert",errorMessage:"Erro ao realizar a consulta, por favor tente novamente.",errorForm:".postcode_error"},c);this.each(function(f,g){a(g).find(e.loadingClass).hide();if(e.error==="form"){a(g).find(e.errorForm).hide();a(g).find(e.postcode).bind("keyup",function(){d(a(g))})}a(g).find(e.btn).bind("click",function(h){b(a(g));h.preventDefault()});a(g).find(e.postcode).keydown(function(h){if(h.keyCode==13){b(a(g));h.preventDefault()}})});function b(f){a.ajax({url:"http://api.din.la/cep/",type:"get",dataType:"json",data:{cep:f.find(e.postcode).val()},beforeSend:function(){f.find(e.loading).show();if(e.hideSubmit===true){f.find(e.btn).hide()}},success:function(g){f.find(e.street).val(g.logradouro);f.find(e.area).val(g.bairro);f.find(e.city).val(g.cidade);f.find(e.state).val(g.uf);f.find(e.number).focus()},error:function(){switch(e.error){case"form":f.find(e.errorForm).html(e.errorMessage).fadeIn();break;case"alert":alert(e.errorMessage);break}f.find(e.street).val("");f.find(e.area).val("");f.find(e.city).val("");f.find(e.state).val("");f.find(e.postcode).focus()},complete:function(){f.find(e.loading).hide();f.find(e.btn).show()}})}function d(f){f.find(e.errorForm).fadeOut()}}}(jQuery));
$(window).load(function(){hideLoadingOverlay();$(".alert-success-fade").delay(5000).fadeOut("fast",function(){$(this).remove()})});function hideLoadingOverlay(){$("#loading_overlay .loading_message").delay(200).fadeOut();$("#loading_overlay").delay(300).fadeOut()}function showLoadingOverlay(){$("#loading_overlay .loading_message").show();$("#loading_overlay").show()}function boxError(){$("html, body").animate({scrollTop:0},600);$(".alert-danger").stop(true,true).slideDown("slow").animate({opacity:1},8000,function(){$(".alert-danger").slideUp()})};
$(document).ready(function(){$(".cl-vnavigation li ul").each(function(){$(this).parent().addClass("parent")});$(".cl-vnavigation").delegate(".parent > a","click",function(d){var c=$(this).parent().find("ul");c.slideToggle(300,"swing",function(){var e=$(this).parent();if(e.hasClass("open")){e.removeClass("open")}else{e.addClass("open")}});d.preventDefault()});$(".cl-toggle").click(function(d){var c=$(".cl-vnavigation");c.slideToggle(300,"swing",function(){});d.preventDefault()});var a=$("#link_prefix").val();$(".btn_list").click(function(){var c=a+"/";location.href=c;return false});$(".btn_save").click(function(){var c=a+"/save/";location.href=c;return false});$(".btn_edit").click(function(){var d=$(this).parents("tr").attr("id");var c=a+"/save/"+d+"/";location.href=c;return false});$(".btn_twitter_send").click(function(){var d=$(this).parents("tr").attr("id");var c=$(this).parents("tr").attr("name");location.href="/admin/tweetSave/?section="+c+"&id="+d;return false});$(".btn_twitter_view").click(function(){var d=$(this).parents("tr").attr("id");var c=$(this).parents("tr").attr("name");location.href="/admin/tweet/?section="+c+"&id="+d;return false});$(".btn_facebook_send").click(function(){var d=$(this).parents("tr").attr("id");var c=$(this).parents("tr").attr("name");location.href="/admin/facepostSave/?section="+c+"&id="+d;return false});$(".btn_facebook_view").click(function(){var d=$(this).parents("tr").attr("id");var c=$(this).parents("tr").attr("name");location.href="/admin/facepost/?section="+c+"&id="+d;return false});$(".setActive").change(function(){var e=($(this).is(":checked"))?"1":"0";var d="/admin/active/save/";var f=$(this).parents("tr").attr("id");var c=$(this).parents("tr").attr("name");$.post(d,{active:e,id:f,name:c})});$(".trash_re").click(function(){if($(".delete").is(":checked")!==true){alert("No h nenhum tem selecionado.");return}var c=newForm();$(".delete:checked").each(function(f){var g=$(this).parents("tr").attr("id");var e=$(this).parents("tr").attr("name");c.append('<input type="hidden" name="itens['+f+'][id]" value="'+g+'" />');c.append('<input type="hidden" name="itens['+f+'][name]" value="'+e+'" />')});var d=a+"_restore/";c.attr("action",d);c.submit()});$(".trash_ex").click(function(){if($(".delete").is(":checked")!==true){alert("No h nenhum tem selecionado.");return}var f="Deseja realmente excluir os tens selecionados?";if($(".delete:checked").length===1){f="Deseja realmente excluir o item selecionado?"}var g=confirm(f);if(g){var d=newForm();$(".delete:checked").each(function(h){var j=$(this).parents("tr").attr("id");var c=$(this).parents("tr").attr("name");d.append('<input type="hidden" name="itens['+h+'][id]" value="'+j+'" />');d.append('<input type="hidden" name="itens['+h+'][name]" value="'+c+'" />')});if(a=="/admin/trash"){var e=a+"_delete/"}else{var e=a+"/delete/"}d.attr("action",e);d.submit()}});$(".drop_sequence").change(function(){var g=$(this).val();var f=$(this).attr("id");var c=$(this).parents("tr").attr("name");var e="/admin/sequence/";var d=newForm();d.append('<input type="hidden" name="name" value="'+c+'" />');d.append('<input type="hidden" name="sequence" value="'+g+'" />');d.append('<input type="hidden" name="id" value="'+f+'" />');d.attr("action",e);d.submit()});$(".ajax_intinify_cat").change(function(){var e=$(this).val();$(".drop_infinity_line.other").remove();$(".drop_infinity_line").hide();if(e!="0"){var d=$("#id").val();var c=a+"_infinity_cat/";$.get(c,{id_page_cat:e,exclude_id:d},function(f){$(".drop_infinity_container").html(f);$(".drop_infinity_line").show();b()})}});b();function b(){$(".ajax_infinity").unbind();$(".ajax_infinity").change(function(){var f=$(this).val();var d=$(this).parents(".drop_infinity_line");d.nextAll(".drop_infinity_line").remove();if(f!="0"){var e=$("#id").val();var c=a+"_infinity/";$.get(c,{id_parent:f,exclude_id:e},function(g){var h=d.clone();h.find(".drop_infinity_container").html(g);h.addClass("other");d.after(h);b()})}})}});function newForm(){return $('<form method="POST"></form>').appendTo("body")};
$(document).ready(function(){var a=$(".pupload").length;$(".ajaxform").submit(function(){if(a==0){return true}var c=false;$(".pupload").each(function(){var d=$(this).pluploadQueue();if(d.files.length>(d.total.uploaded+d.total.failed)){d.bind("UploadComplete",function(){$(".ajaxform").submit()});d.start();showLoadingOverlay();c=false;return false}else{c=true;return true}});return c;return false});$(".submit_list").click(function(){$("input[name='redirect']").val("list")});$(".submit_previous").click(function(){$("input[name='redirect']").val("previous")});$(".img_gallery").dblclick(function(){$(this).parents("li").remove()});$(".tags").select2({tags:0,width:"100%"});$(".select2").select2({width:"100%"});$(".postcodeMask").mask("99999-999");$(".stateMask").mask("aa");$(".cpfMask").mask("999.999.999-99");$(".cnpjMask").mask("99.999.999/9999-99");$(".phoneFullMask").mask("(99) ?999999999");$(".phoneMask").mask("?999999999");$(".phoneDDDMask").mask("99");$(".dateMask:visible").mask("99/99/9999");$(".timeMask:visible").mask("99:99");$(".timeFullMask:visible").mask("99:99:99");$(".moneyMask").maskMoney({prefix:"R$ ",allowNegative:false,thousands:".",decimal:",",affixesStay:false});$(".datepicker").datepicker({dateFormat:"dd/mm/yy",showOn:"focus"});$(".daterange").daterangepicker({opens:"right",format:"dd/MM/yyyy"});$(".sortable").sortable();$(".color_basic").spectrum({color:"#f00",preferredFormat:"hex",showInput:true});function b(c){c.each(function(){var h=$(this);var d=parseInt(h.attr("maxlength"));var f=$('<div class="limit_info"></div>');h.parent().find(".limit_info").remove();h.after(f);var g=$(h).val().length;f.html(g+" de "+d);$(h).textareaCount({maxCharacterSize:d,originalStyle:"",warningStyle:"",displayFormat:""},function(i){var e=i.input+" de "+i.max;f.html(e)})})}b($(".limit_text"));$(".youtube_link").bind("change keyup keypress",function(){$(this).val(getIdFromYoutube($(this).val()))});$(".vimeo_link").bind("change keyup keypress",function(){var c=getIdFromVimeo($(this).val());if(c){$(this).val(c)}});$(".duplication_container .add").click(function(){var d=$(this).parents(".duplication_container").find(".duplicate_part").last();var c=d.clone();d.after(c);b(c.find(".limit_text"));$(".duplication_container .del").show()});$(".duplication_container .del").click(function(){var c=$(this).parents(".duplication_container").find(".duplicate_part");var d=c.last();d.remove();if(c.length==2){$(this).hide()}});$(".jumpField").on("keyup",function(){var c=$(this);if(c.val().length==c.attr("maxlength")){$("input[tabindex='"+(parseInt(c.attr("tabindex"))+1)+"']").focus()}});$(".formPostCode").postcode({hideSubmit:true})});function getIdFromYoutube(a){return a.replace(/(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com(?:\/embed\/|\/v\/|\/watch\?v=))([\w\-]{10,12})\b[?=&\w]*(?!['"][^<>]*>|<\/a>)/ig,"$1")}function getIdFromVimeo(c){var b=/^.*(vimeo\.com\/)((channels\/[A-z]+\/)|(groups\/[A-z]+\/videos\/))?([0-9]+)/;var a=b.exec(c);if(a!=null){return a[5]}};
$(document).ready(function(){$(".btn_lostpass").click(function(){$(".ajaxform").ajaxSubmit({url:"/admin/admin_password_recover/",dataType:"json",beforeSubmit:function(){ajaxformBeforeSubmit()},success:function(a){ajaxformSuccess(a)},error:function(){ajaxformError()}})});$(".ajaxform").ajaxForm({dataType:"json",beforeSubmit:function(){ajaxformBeforeSubmit()},success:function(a){ajaxformSuccess(a)},error:function(){ajaxformError()}});$(".ajaxform").prop("onsubmit",false)});function ajaxformBeforeSubmit(){showLoadingOverlay();$(".alert-danger").hide();$(".alert-danger div").html("");$(".alert-success").hide();$(".alert-success div").html("");$(".loadingsubmit").css("visibility","visible")}function ajaxformSuccess(a){hideLoadingOverlay();$(".loadingsubmit").css("visibility","hidden");switch(a.type){case"error_message":$(".alert-danger div").append("<p>"+a.message+"</p>");boxError();break;case"error_object":$.each(a.objects,function(b,c){for(k in c){var d=k;var e=c[k]}$(".alert-danger div").append("<p>"+e+"</p>");if(b===0){$(".ajaxform").find("[name='"+d+"']").focus()}});boxError();break;case"redirect":location.href=a.uri;break;case"alert":alert(a.message);break;case"alert_redirect":alert(a.message);location.href=a.uri;break;case"success":$(".alert-success div").append("<p>"+a.message+"</p>");$(".alert-success").stop(true,true).slideDown("slow").animate({opacity:1},8000,function(){$(".alert-success").slideUp()});break}}function ajaxformError(){hideLoadingOverlay();$(".loadingsubmit").css("visibility","hidden");$(".alert-danger div").append("<p>Erro no envio do formulrio. Por favor entre em contato com o suporte</p>");boxError()};
$(document).ready(function(){$(".clean_search").click(function(){$('.form_search input[type="text"]').each(function(){$(this).val("")});$(".form_search select").each(function(){$(this).val("0");$(this).parent().find(".select2-chosen").html($(this).children("option").eq(0).text())})});$("#delete_all").click(function(){if($("#delete_all").is(":checked")){$(".delete").prop("checked",true)}else{$(".delete").prop("checked",false)}});$("a.delete_shortcut").click(function(){$(".delete").prop("checked",false);$(this).parents("tr").find(".delete").prop("checked",true);$(".trash_ex").click()})});
if(!jQuery){throw new Error("Bootstrap requires jQuery")}+function(d){function c(){var f=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var g in e){if(void 0!==f.style[g]){return{end:e[g]}}}}d.fn.emulateTransitionEnd=function(a){var h=!1,g=this;d(this).one(d.support.transition.end,function(){h=!0});var f=function(){h||d(g).trigger(d.support.transition.end)};return setTimeout(f,a),this},d(function(){d.support.transition=c()})}(window.jQuery),+function(f){var e='[data-dismiss="alert"]',h=function(a){f(a).on("click",e,this.close)};h.prototype.close=function(a){function l(){i.trigger("closed.bs.alert").remove()}var k=f(this),j=k.attr("data-target");j||(j=k.attr("href"),j=j&&j.replace(/.*(?=#[^\s]*$)/,""));var i=f(j);a&&a.preventDefault(),i.length||(i=k.hasClass("alert")?k:k.parent()),i.trigger(a=f.Event("close.bs.alert")),a.isDefaultPrevented()||(i.removeClass("in"),f.support.transition&&i.hasClass("fade")?i.one(f.support.transition.end,l).emulateTransitionEnd(150):l())};var g=f.fn.alert;f.fn.alert=function(a){return this.each(function(){var c=f(this),b=c.data("bs.alert");b||c.data("bs.alert",b=new h(this)),"string"==typeof a&&b[a].call(c)})},f.fn.alert.Constructor=h,f.fn.alert.noConflict=function(){return f.fn.alert=g,this},f(document).on("click.bs.alert.data-api",e,h.prototype.close)}(window.jQuery),+function(e){var d=function(b,a){this.$element=e(b),this.options=e.extend({},d.DEFAULTS,a)};d.DEFAULTS={loadingText:"loading..."},d.prototype.setState=function(h){var g="disabled",k=this.$element,j=k.is("input")?"val":"html",i=k.data();h+="Text",i.resetText||k.data("resetText",k[j]()),k[j](i[h]||this.options[h]),setTimeout(function(){"loadingText"==h?k.addClass(g).attr(g,g):k.removeClass(g).removeAttr(g)},0)},d.prototype.toggle=function(){var g=this.$element.closest('[data-toggle="buttons"]');if(g.length){var c=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===c.prop("type")&&g.find(".active").removeClass("active")}this.$element.toggleClass("active")};var f=e.fn.button;e.fn.button=function(a){return this.each(function(){var g=e(this),c=g.data("bs.button"),b="object"==typeof a&&a;c||g.data("bs.button",c=new d(this,b)),"toggle"==a?c.toggle():a&&c.setState(a)})},e.fn.button.Constructor=d,e.fn.button.noConflict=function(){return e.fn.button=f,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(a){var g=e(a.target);g.hasClass("btn")||(g=g.closest(".btn")),g.button("toggle"),a.preventDefault()})}(window.jQuery),+function(e){var d=function(a,g){this.$element=e(a),this.$indicators=this.$element.find(".carousel-indicators"),this.options=g,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};d.DEFAULTS={interval:5000,pause:"hover",wrap:!0},d.prototype.cycle=function(a){return a||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},d.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},d.prototype.to=function(a){var h=this,g=this.getActiveIndex();return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid",function(){h.to(a)}):g==a?this.pause().cycle():this.slide(a>g?"next":"prev",e(this.$items[a]))},d.prototype.pause=function(a){return a||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},d.prototype.next=function(){return this.sliding?void 0:this.slide("next")},d.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},d.prototype.slide=function(r,q){var p=this.$element.find(".item.active"),o=q||p[r](),n=this.interval,m="next"==r?"left":"right",l="next"==r?"first":"last",k=this;if(!o.length){if(!this.options.wrap){return}o=this.$element.find(".item")[l]()}this.sliding=!0,n&&this.pause();var a=e.Event("slide.bs.carousel",{relatedTarget:o[0],direction:m});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var c=e(k.$indicators.children()[k.getActiveIndex()]);c&&c.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(a),a.isDefaultPrevented()){return}o.addClass(r),o[0].offsetWidth,p.addClass(m),o.addClass(m),p.one(e.support.transition.end,function(){o.removeClass([r,m].join(" ")).addClass("active"),p.removeClass(["active",m].join(" ")),k.sliding=!1,setTimeout(function(){k.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(a),a.isDefaultPrevented()){return}p.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return n&&this.cycle(),this}};var f=e.fn.carousel;e.fn.carousel=function(a){return this.each(function(){var i=e(this),h=i.data("bs.carousel"),c=e.extend({},d.DEFAULTS,i.data(),"object"==typeof a&&a),b="string"==typeof a?a:c.slide;h||i.data("bs.carousel",h=new d(this,c)),"number"==typeof a?h.to(a):b?h[b]():c.interval&&h.pause().cycle()})},e.fn.carousel.Constructor=d,e.fn.carousel.noConflict=function(){return e.fn.carousel=f,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(a){var l,k=e(this),j=e(k.attr("data-target")||(l=k.attr("href"))&&l.replace(/.*(?=#[^\s]+$)/,"")),i=e.extend({},j.data(),k.data()),h=k.attr("data-slide-to");h&&(i.interval=!1),j.carousel(i),(h=k.attr("data-slide-to"))&&j.data("bs.carousel").to(h),a.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var a=e(this);a.carousel(a.data())})})}(window.jQuery),+function(e){var d=function(b,a){this.$element=e(b),this.options=e.extend({},d.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var b=this.$element.hasClass("width");return b?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var a=e.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var l=this.$parent&&this.$parent.find("> .panel > .in");if(l&&l.length){var k=l.data("bs.collapse");if(k&&k.transitioning){return}l.collapse("hide"),k||l.data("bs.collapse",null)}var j=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[j](0),this.transitioning=1;var i=function(){this.$element.removeClass("collapsing").addClass("in")[j]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition){return i.call(this)}var h=e.camelCase(["scroll",j].join("-"));this.$element.one(e.support.transition.end,e.proxy(i,this)).emulateTransitionEnd(350)[j](this.$element[0][h])}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var a=e.Event("hide.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){var h=this.dimension();this.$element[h](this.$element[h]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var g=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?(this.$element[h](0).one(e.support.transition.end,e.proxy(g,this)).emulateTransitionEnd(350),void 0):g.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var f=e.fn.collapse;e.fn.collapse=function(a){return this.each(function(){var g=e(this),c=g.data("bs.collapse"),b=e.extend({},d.DEFAULTS,g.data(),"object"==typeof a&&a);c||g.data("bs.collapse",c=new d(this,b)),"string"==typeof a&&c[a]()})},e.fn.collapse.Constructor=d,e.fn.collapse.noConflict=function(){return e.fn.collapse=f,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(r){var q,p=e(this),o=p.attr("data-target")||r.preventDefault()||(q=p.attr("href"))&&q.replace(/.*(?=#[^\s]+$)/,""),n=e(o),m=n.data("bs.collapse"),l=m?"toggle":p.data(),k=p.attr("data-parent"),a=k&&e(k);m&&m.transitioning||(a&&a.find('[data-toggle=collapse][data-parent="'+k+'"]').not(p).addClass("collapsed"),p[n.hasClass("in")?"addClass":"removeClass"]("collapsed")),n.collapse(l)})}(window.jQuery),+function(i){function h(){i(m).remove(),i(l).each(function(a){var c=n(i(this));c.hasClass("open")&&(c.trigger(a=i.Event("hide.bs.dropdown")),a.isDefaultPrevented()||c.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(a){var f=a.attr("data-target");f||(f=a.attr("href"),f=f&&/#/.test(f)&&f.replace(/.*(?=#[^\s]*$)/,""));var e=f&&i(f);return e&&e.length?e:a.parent()}var m=".dropdown-backdrop",l="[data-toggle=dropdown]",k=function(a){i(a).on("click.bs.dropdown",this.toggle)};k.prototype.toggle=function(o){var c=i(this);if(!c.is(".disabled, :disabled")){var b=n(c),a=b.hasClass("open");if(h(),!a){if("ontouchstart" in document.documentElement&&!b.closest(".navbar-nav").length&&i('<div class="dropdown-backdrop"/>').insertAfter(i(this)).on("click",h),b.trigger(o=i.Event("show.bs.dropdown")),o.isDefaultPrevented()){return}b.toggleClass("open").trigger("shown.bs.dropdown"),c.focus()}return !1}},k.prototype.keydown=function(a){if(/(38|40|27)/.test(a.keyCode)){var q=i(this);if(a.preventDefault(),a.stopPropagation(),!q.is(".disabled, :disabled")){var p=n(q),o=p.hasClass("open");if(!o||o&&27==a.keyCode){return 27==a.which&&p.find(l).focus(),q.click()}var e=i("[role=menu] li:not(.divider):visible a",p);if(e.length){var c=e.index(e.filter(":focus"));38==a.keyCode&&c>0&&c--,40==a.keyCode&&c<e.length-1&&c++,~c||(c=0),e.eq(c).focus()}}}};var j=i.fn.dropdown;i.fn.dropdown=function(a){return this.each(function(){var e=i(this),b=e.data("dropdown");b||e.data("dropdown",b=new k(this)),"string"==typeof a&&b[a].call(e)})},i.fn.dropdown.Constructor=k,i.fn.dropdown.noConflict=function(){return i.fn.dropdown=j,this},i(document).on("click.bs.dropdown.data-api",h).on("click.bs.dropdown.data-api",".dropdown form",function(b){b.stopPropagation()}).on("click.bs.dropdown.data-api",l,k.prototype.toggle).on("keydown.bs.dropdown.data-api",l+", [role=menu]",k.prototype.keydown)}(window.jQuery),+function(e){var d=function(a,g){this.options=g,this.$element=e(a),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};d.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},d.prototype.toggle=function(b){return this[this.isShown?"hide":"show"](b)},d.prototype.show=function(a){var h=this,g=e.Event("show.bs.modal",{relatedTarget:a});this.$element.trigger(g),this.isShown||g.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var c=e.support.transition&&h.$element.hasClass("fade");h.$element.parent().length||h.$element.appendTo(document.body),h.$element.show(),c&&h.$element[0].offsetWidth,h.$element.addClass("in").attr("aria-hidden",!1),h.enforceFocus();var b=e.Event("shown.bs.modal",{relatedTarget:a});c?h.$element.find(".modal-dialog").one(e.support.transition.end,function(){h.$element.focus().trigger(b)}).emulateTransitionEnd(300):h.$element.focus().trigger(b)}))},d.prototype.hide=function(a){a&&a.preventDefault(),a=e.Event("hide.bs.modal"),this.$element.trigger(a),this.isShown&&!a.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},d.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(b){this.$element[0]===b.target||this.$element.has(b.target).length||this.$element.focus()},this))},d.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(b){27==b.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},d.prototype.hideModal=function(){var b=this;this.$element.hide(),this.backdrop(function(){b.removeBackdrop(),b.$element.trigger("hidden.bs.modal")})},d.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},d.prototype.backdrop=function(a){var h=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var g=e.support.transition&&h;if(this.$backdrop=e('<div class="modal-backdrop '+h+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",e.proxy(function(b){b.target===b.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),g&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!a){return}g?this.$backdrop.one(e.support.transition.end,a).emulateTransitionEnd(150):a()}else{!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,a).emulateTransitionEnd(150):a()):a&&a()}};var f=e.fn.modal;e.fn.modal=function(b,a){return this.each(function(){var i=e(this),h=i.data("bs.modal"),c=e.extend({},d.DEFAULTS,i.data(),"object"==typeof b&&b);h||i.data("bs.modal",h=new d(this,c)),"string"==typeof b?h[b](a):c.show&&h.show(a)})},e.fn.modal.Constructor=d,e.fn.modal.noConflict=function(){return e.fn.modal=f,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(a){var j=e(this),i=j.attr("href"),h=e(j.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),g=h.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},h.data(),j.data());a.preventDefault(),h.modal(g,this).one("hide",function(){j.is(":visible")&&j.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(window.jQuery),+function(e){var d=function(g,c){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",g,c)};d.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},d.prototype.init=function(a,p,o){this.enabled=!0,this.type=a,this.$element=e(p),this.options=this.getOptions(o);for(var n=this.options.trigger.split(" "),m=n.length;m--;){var l=n[m];if("click"==l){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else{if("manual"!=l){var k="hover"==l?"mouseenter":"focus",j="hover"==l?"mouseleave":"blur";this.$element.on(k+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(j+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},d.prototype.getDefaults=function(){return d.DEFAULTS},d.prototype.getOptions=function(a){return a=e.extend({},this.getDefaults(),this.$element.data(),a),a.delay&&"number"==typeof a.delay&&(a.delay={show:a.delay,hide:a.delay}),a},d.prototype.getDelegateOptions=function(){var a={},g=this.getDefaults();return this._options&&e.each(this._options,function(b,c){g[b]!=c&&(a[b]=c)}),a},d.prototype.enter=function(a){var g=a instanceof this.constructor?a:e(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(g.timeout),g.hoverState="in",g.options.delay&&g.options.delay.show?(g.timeout=setTimeout(function(){"in"==g.hoverState&&g.show()},g.options.delay.show),void 0):g.show()},d.prototype.leave=function(a){var g=a instanceof this.constructor?a:e(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(g.timeout),g.hoverState="out",g.options.delay&&g.options.delay.hide?(g.timeout=setTimeout(function(){"out"==g.hoverState&&g.hide()},g.options.delay.hide),void 0):g.hide()},d.prototype.show=function(){var D=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(D),D.isDefaultPrevented()){return}var C=this.tip();this.setContent(),this.options.animation&&C.addClass("fade");var B="function"==typeof this.options.placement?this.options.placement.call(this,C[0],this.$element[0]):this.options.placement,A=/\s?auto?\s?/i,z=A.test(B);z&&(B=B.replace(A,"")||"top"),C.detach().css({top:0,left:0,display:"block"}).addClass(B),this.options.container?C.appendTo(this.options.container):C.insertAfter(this.$element);var y=this.getPosition(),x=C[0].offsetWidth,w=C[0].offsetHeight;if(z){var v=this.$element.parent(),u=B,t=document.documentElement.scrollTop||document.body.scrollTop,s="body"==this.options.container?window.innerWidth:v.outerWidth(),r="body"==this.options.container?window.innerHeight:v.outerHeight(),q="body"==this.options.container?0:v.offset().left;B="bottom"==B&&y.top+y.height+w-t>r?"top":"top"==B&&y.top-t-w<0?"bottom":"right"==B&&y.right+x>s?"left":"left"==B&&y.left-x<q?"right":B,C.removeClass(u).addClass(B)}var a=this.getCalculatedOffset(B,y,x,w);this.applyPlacement(a,B),this.$element.trigger("shown.bs."+this.type)}},d.prototype.applyPlacement=function(v,u){var t,s=this.tip(),r=s[0].offsetWidth,q=s[0].offsetHeight,p=parseInt(s.css("margin-top"),10),o=parseInt(s.css("margin-left"),10);isNaN(p)&&(p=0),isNaN(o)&&(o=0),v.top=v.top+p,v.left=v.left+o,s.offset(v).addClass("in");var n=s[0].offsetWidth,m=s[0].offsetHeight;if("top"==u&&m!=q&&(t=!0,v.top=v.top+q-m),/bottom|top/.test(u)){var l=0;v.left<0&&(l=-2*v.left,v.left=0,s.offset(v),n=s[0].offsetWidth,m=s[0].offsetHeight),this.replaceArrow(l-r+n,n,"left")}else{this.replaceArrow(m-q,m,"top")}t&&s.offset(v)},d.prototype.replaceArrow=function(h,g,i){this.arrow().css(i,h?50*(1-h/g)+"%":"")},d.prototype.setContent=function(){var g=this.tip(),c=this.getTitle();g.find(".tooltip-inner")[this.options.html?"html":"text"](c),g.removeClass("fade in top bottom left right")},d.prototype.hide=function(){function a(){"in"!=i.hoverState&&h.detach()}var i=this,h=this.tip(),g=e.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(h.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?h.one(e.support.transition.end,a).emulateTransitionEnd(150):a(),this.$element.trigger("hidden.bs."+this.type),this)},d.prototype.fixTitle=function(){var b=this.$element;(b.attr("title")||"string"!=typeof b.attr("data-original-title"))&&b.attr("data-original-title",b.attr("title")||"").attr("title","")},d.prototype.hasContent=function(){return this.getTitle()},d.prototype.getPosition=function(){var a=this.$element[0];return e.extend({},"function"==typeof a.getBoundingClientRect?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())},d.prototype.getCalculatedOffset=function(h,g,j,i){return"bottom"==h?{top:g.top+g.height,left:g.left+g.width/2-j/2}:"top"==h?{top:g.top-i,left:g.left+g.width/2-j/2}:"left"==h?{top:g.top+g.height/2-i/2,left:g.left-j}:{top:g.top+g.height/2-i/2,left:g.left+g.width}},d.prototype.getTitle=function(){var h,g=this.$element,i=this.options;return h=g.attr("data-original-title")||("function"==typeof i.title?i.title.call(g[0]):i.title)},d.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},d.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},d.prototype.enable=function(){this.enabled=!0},d.prototype.disable=function(){this.enabled=!1},d.prototype.toggleEnabled=function(){this.enabled=!this.enabled},d.prototype.toggle=function(a){var g=a?e(a.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;g.tip().hasClass("in")?g.leave(g):g.enter(g)},d.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var f=e.fn.tooltip;e.fn.tooltip=function(a){return this.each(function(){var g=e(this),c=g.data("bs.tooltip"),b="object"==typeof a&&a;c||g.data("bs.tooltip",c=new d(this,b)),"string"==typeof a&&c[a]()})},e.fn.tooltip.Constructor=d,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=f,this}}(window.jQuery),+function(e){var d=function(g,c){this.init("popover",g,c)};if(!e.fn.tooltip){throw new Error("Popover requires tooltip.js")}d.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),d.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),d.prototype.constructor=d,d.prototype.getDefaults=function(){return d.DEFAULTS},d.prototype.setContent=function(){var h=this.tip(),g=this.getTitle(),i=this.getContent();h.find(".popover-title")[this.options.html?"html":"text"](g),h.find(".popover-content")[this.options.html?"html":"text"](i),h.removeClass("fade top bottom left right in"),h.find(".popover-title").html()||h.find(".popover-title").hide()},d.prototype.hasContent=function(){return this.getTitle()||this.getContent()},d.prototype.getContent=function(){var g=this.$element,c=this.options;return g.attr("data-content")||("function"==typeof c.content?c.content.call(g[0]):c.content)},d.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},d.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var f=e.fn.popover;e.fn.popover=function(a){return this.each(function(){var g=e(this),c=g.data("bs.popover"),b="object"==typeof a&&a;c||g.data("bs.popover",c=new d(this,b)),"string"==typeof a&&c[a]()})},e.fn.popover.Constructor=d,e.fn.popover.noConflict=function(){return e.fn.popover=f,this}}(window.jQuery),+function(e){function d(h,g){var b,a=e.proxy(this.process,this);this.$element=e(h).is("body")?e(window):e(h),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",a),this.options=e.extend({},d.DEFAULTS,g),this.selector=(this.options.target||(b=e(h).attr("href"))&&b.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}d.DEFAULTS={offset:10},d.prototype.refresh=function(){var a=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);var g=this;this.$body.find(this.selector).map(function(){var h=e(this),c=h.data("target")||h.attr("href"),b=/^#\w/.test(c)&&e(c);return b&&b.length&&[[b[a]().top+(!e.isWindow(g.$scrollElement.get(0))&&g.$scrollElement.scrollTop()),c]]||null}).sort(function(h,c){return h[0]-c[0]}).each(function(){g.offsets.push(this[0]),g.targets.push(this[1])})},d.prototype.process=function(){var i,h=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,m=n-this.$scrollElement.height(),l=this.offsets,k=this.targets,j=this.activeTarget;if(h>=m){return j!=(i=k.last()[0])&&this.activate(i)}for(i=l.length;i--;){j!=k[i]&&h>=l[i]&&(!l[i+1]||h<=l[i+1])&&this.activate(k[i])}},d.prototype.activate=function(a){this.activeTarget=a,e(this.selector).parents(".active").removeClass("active");var h=this.selector+'[data-target="'+a+'"],'+this.selector+'[href="'+a+'"]',g=e(h).parents("li").addClass("active");g.parent(".dropdown-menu").length&&(g=g.closest("li.dropdown").addClass("active")),g.trigger("activate")};var f=e.fn.scrollspy;e.fn.scrollspy=function(a){return this.each(function(){var g=e(this),c=g.data("bs.scrollspy"),b="object"==typeof a&&a;c||g.data("bs.scrollspy",c=new d(this,b)),"string"==typeof a&&c[a]()})},e.fn.scrollspy.Constructor=d,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=f,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var a=e(this);a.scrollspy(a.data())})})}(window.jQuery),+function(e){var d=function(a){this.element=e(a)};d.prototype.show=function(){var a=this.element,l=a.closest("ul:not(.dropdown-menu)"),k=a.attr("data-target");if(k||(k=a.attr("href"),k=k&&k.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var j=l.find(".active:last a")[0],i=e.Event("show.bs.tab",{relatedTarget:j});if(a.trigger(i),!i.isDefaultPrevented()){var h=e(k);this.activate(a.parent("li"),l),this.activate(h,h.parent(),function(){a.trigger({type:"shown.bs.tab",relatedTarget:j})})}}},d.prototype.activate=function(a,l,k){function j(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),a.addClass("active"),h?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu")&&a.closest("li.dropdown").addClass("active"),k&&k()}var i=l.find("> .active"),h=k&&e.support.transition&&i.hasClass("fade");h?i.one(e.support.transition.end,j).emulateTransitionEnd(150):j(),i.removeClass("in")};var f=e.fn.tab;e.fn.tab=function(a){return this.each(function(){var c=e(this),b=c.data("bs.tab");b||c.data("bs.tab",b=new d(this)),"string"==typeof a&&b[a]()})},e.fn.tab.Constructor=d,e.fn.tab.noConflict=function(){return e.fn.tab=f,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(a){a.preventDefault(),e(this).tab("show")})}(window.jQuery),+function(e){var d=function(b,a){this.options=e.extend({},d.DEFAULTS,a),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(b),this.affixed=this.unpin=null,this.checkPosition()};d.RESET="affix affix-top affix-bottom",d.DEFAULTS={offset:0},d.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},d.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=e(document).height(),m=this.$window.scrollTop(),l=this.$element.offset(),k=this.options.offset,j=k.top,b=k.bottom;"object"!=typeof k&&(b=j=k),"function"==typeof j&&(j=k.top()),"function"==typeof b&&(b=k.bottom());var a=null!=this.unpin&&m+this.unpin<=l.top?!1:null!=b&&l.top+this.$element.height()>=n-b?"bottom":null!=j&&j>=m?"top":!1;this.affixed!==a&&(this.unpin&&this.$element.css("top",""),this.affixed=a,this.unpin="bottom"==a?l.top-m:null,this.$element.removeClass(d.RESET).addClass("affix"+(a?"-"+a:"")),"bottom"==a&&this.$element.offset({top:document.body.offsetHeight-b-this.$element.height()}))}};var f=e.fn.affix;e.fn.affix=function(a){return this.each(function(){var g=e(this),c=g.data("bs.affix"),b="object"==typeof a&&a;c||g.data("bs.affix",c=new d(this,b)),"string"==typeof a&&c[a]()})},e.fn.affix.Constructor=d,e.fn.affix.noConflict=function(){return e.fn.affix=f,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var a=e(this),g=a.data();g.offset=g.offset||{},g.offsetBottom&&(g.offset.bottom=g.offsetBottom),g.offsetTop&&(g.offset.top=g.offsetTop),a.affix(g)})})}(window.jQuery);
$(document).ready(function(){$(".mailing_export").click(function(){var a=$(this).attr("querystring");var b="/admin/mailing_export/?"+a;window.open(b)})});